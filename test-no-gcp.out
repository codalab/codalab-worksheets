[CodaLab] Populating config.json
(cd /Users/wangjiani/wjn/Code/codalab/codalab-worksheets/docker_config/compose_files; CODALAB_VERSION=latest CODALAB_INSTANCE_NAME=temp-instance88546869 CODALAB_WORKER_NETWORK_PREFIX=temp-instance88546869-worker-network CODALAB_USERNAME=codalab CODALAB_PASSWORD=codalab CODALAB_MYSQL_HOST=mysql CODALAB_MYSQL_PORT=3306 CODALAB_MYSQL_DATABASE=codalab_bundles CODALAB_MYSQL_USERNAME=codalab CODALAB_MYSQL_PASSWORD=codalab CODALAB_MYSQL_ROOT_PASSWORD=codalab CODALAB_UID=501:20 CODALAB_HOME=/Users/wangjiani/wjn/Code/codalab/codalab-worksheets/var/temp-instance88546869/home CODALAB_BUNDLE_MOUNT=/Users/wangjiani/wjn/Code/codalab/codalab-worksheets/var/temp-instance88546869/ CODALAB_MYSQL_MOUNT=/Users/wangjiani/wjn/Code/codalab/codalab-worksheets/var/temp-instance88546869/mysql CODALAB_MONITOR_DIR=/Users/wangjiani/wjn/Code/codalab/codalab-worksheets/var/temp-instance88546869/monitor CODALAB_WORKER_DIR=/Users/wangjiani/wjn/Code/codalab/codalab-worksheets/var/temp-instance88546869/worker CODALAB_HTTP_PORT=80 CODALAB_HTTPS_PORT=443 CODALAB_FRONTEND_PORT=2700 CODALAB_REST_PORT=51154 CODALAB_REST_NUM_PROCESSES=1 CODALAB_USER_DISK_QUOTA=100g CODALAB_USER_TIME_QUOTA=100y CODALAB_USER_PARALLEL_RUN_QUOTA=100 CODALAB_BUNDLE_MANAGER_WORKER_TIMEOUT_SECONDS=60 CODALAB_WORKER_MANAGER_TYPE=azure-batch CODALAB_WORKER_MANAGER_WORKER_DOWNLOAD_DEPENDENCIES_MAX_RETRIES=3 CODALAB_WORKER_MANAGER_WORKER_WORK_DIR_PREFIX=/tmp CODALAB_WORKER_MANAGER_WORKER_MAX_WORK_DIR_SIZE=10g CODALAB_WORKER_MANAGER_WORKER_CHECKIN_FREQUENCY_SECONDS=5 CODALAB_WORKER_MANAGER_IDLE_SECONDS=600 CODALAB_WORKER_MANAGER_SLEEP_TIME_SECONDS=5 CODALAB_WORKER_MANAGER_AWS_REGION=us-east-1 CODALAB_WORKER_MANAGER_AWS_BATCH_JOB_DEFINITION_NAME=codalab-worker COMPOSE_HTTP_TIMEOUT=600 DOCKER_CLIENT_TIMEOUT=600 CODALAB_LINK_MOUNTS=/tmp/codalab/link-mounts CODALAB_GOOGLE_APPLICATION_CREDENTIALS=/Users/wangjiani/wjn/Code/codalab/codalab-worksheets/hai-gcp-models-d6f4b77041d0.json CODALAB_RECAPTCHA_SITE_KEY=6LeIxAcTAAAAAJcZVRqyHh71UMIEGNQ_MXjiZKhI CODALAB_RECAPTCHA_SECRET_KEY=6LeIxAcTAAAAAGG-vFI1TnRWxMZNFuojJ4WifJWe CODALAB_WORKER_MANAGER_CPU_DEFAULT_CPUS=1 CODALAB_WORKER_MANAGER_CPU_DEFAULT_MEMORY_MB=2048 CODALAB_WORKER_MANAGER_CPU_TAG=codalab-cpu CODALAB_WORKER_MANAGER_MAX_CPU_WORKERS=10 CODALAB_WORKER_MANAGER_MIN_CPU_WORKERS=1 CODALAB_WORKER_MANAGER_CPU_AZURE_BATCH_JOB_ID=codalab-cpu CODALAB_WORKER_MANAGER_CPU_AWS_BATCH_QUEUE=codalab-cpu CODALAB_WORKER_MANAGER_CPU_WORKER_SHARED_MEMORY_SIZE_GB=1 CODALAB_WORKER_MANAGER_CPU_SECONDS_BETWEEN_WORKERS=60 CODALAB_WORKER_MANAGER_GPU_DEFAULT_CPUS=1 CODALAB_WORKER_MANAGER_GPU_DEFAULT_MEMORY_MB=2048 CODALAB_WORKER_MANAGER_GPU_TAG=codalab-gpu CODALAB_WORKER_MANAGER_MAX_GPU_WORKERS=10 CODALAB_WORKER_MANAGER_MIN_GPU_WORKERS=1 CODALAB_WORKER_MANAGER_GPU_AZURE_BATCH_JOB_ID=codalab-gpu CODALAB_WORKER_MANAGER_GPU_AWS_BATCH_QUEUE=codalab-gpu CODALAB_WORKER_MANAGER_GPU_WORKER_SHARED_MEMORY_SIZE_GB=1 CODALAB_WORKER_MANAGER_GPU_SECONDS_BETWEEN_WORKERS=60 PATH=/Users/wangjiani/wjn/Code/codalab/codalab-worksheets/venv/bin:/Users/wangjiani/wjn/Softwares/google-cloud-sdk/bin:/Users/wangjiani/.pyenv/shims:/Users/wangjiani/.pyenv/bin:/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/bin HOSTNAME=DN51t5ab.SUNet docker-compose -p temp-instance88546869 --project-directory /Users/wangjiani/wjn/Code/codalab/codalab-worksheets/docker_config/compose_files -f /Users/wangjiani/wjn/Code/codalab/codalab-worksheets/var/temp-instance88546869/home/docker-compose-custom.yml run --no-deps --rm --user=501:20 rest-server bash -c 'cl config cli/default_address http://rest-server:51154 && cl config server/engine_url mysql://codalab:codalab@mysql:3306/codalab_bundles && cl config server/rest_host 0.0.0.0 && cl config server/rest_port 51154 && cl config server/default_user_info/disk_quota 100g && cl config server/default_user_info/time_quota 100y && cl config server/default_user_info/parallel_run_quota 100')
process: The CODALAB_SERVER variable is not set. Defaulting to a blank string.
process: The CODALAB_PROTECTED_MODE variable is not set. Defaulting to a blank string.
process: The CODALAB_ADMIN_EMAIL variable is not set. Defaulting to a blank string.
process: The CODALAB_SUPPORT_EMAIL variable is not set. Defaulting to a blank string.
process: The CODALAB_EMAIL_HOST variable is not set. Defaulting to a blank string.
process: The CODALAB_EMAIL_USERNAME variable is not set. Defaulting to a blank string.
process: The CODALAB_EMAIL_PASSWORD variable is not set. Defaulting to a blank string.
process: The CODALAB_SHARED_FILE_SYSTEM variable is not set. Defaulting to a blank string.
process: The CODALAB_WORKER_MANAGER_CHECKIN_FREQUENCY_SECONDS variable is not set. Defaulting to a blank string.
process: The CODALAB_WORKER_MANAGER_DEFAULT_GPUS variable is not set. Defaulting to a blank string.
process: The CODALAB_WORKER_MANAGER_AZURE_BATCH_ACCOUNT_NAME variable is not set. Defaulting to a blank string.
process: The CODALAB_WORKER_MANAGER_AZURE_BATCH_ACCOUNT_KEY variable is not set. Defaulting to a blank string.
process: The CODALAB_WORKER_MANAGER_AZURE_BATCH_SERVICE_URL variable is not set. Defaulting to a blank string.
process: The CODALAB_WORKER_MANAGER_CPU_AZURE_LOG_CONTAINER_URL variable is not set. Defaulting to a blank string.
process: The CODALAB_WORKER_MANAGER_GPU_AZURE_LOG_CONTAINER_URL variable is not set. Defaulting to a blank string.
process: The CODALAB_WORKER_MANAGER_CPU_KUBERNETES_CLUSTER_HOST variable is not set. Defaulting to a blank string.
process: The CODALAB_WORKER_MANAGER_CPU_KUBERNETES_AUTH_TOKEN variable is not set. Defaulting to a blank string.
process: The CODALAB_WORKER_MANAGER_CPU_KUBERNETES_CERT_PATH variable is not set. Defaulting to a blank string.
process: The CODALAB_WORKER_MANAGER_GPU_KUBERNETES_CLUSTER_HOST variable is not set. Defaulting to a blank string.
process: The CODALAB_WORKER_MANAGER_GPU_KUBERNETES_AUTH_TOKEN variable is not set. Defaulting to a blank string.
process: The CODALAB_WORKER_MANAGER_GPU_KUBERNETES_CERT_PATH variable is not set. Defaulting to a blank string.
process: The CODALAB_PUBLIC_WORKERS variable is not set. Defaulting to a blank string.
process: The CODALAB_AZURE_BLOB_CONNECTION_STRING variable is not set. Defaulting to a blank string.
process: The CODALAB_DEFAULT_BUNDLE_STORE_NAME variable is not set. Defaulting to a blank string.
process: The CODALAB_ALWAYS_USE_AZURE_BLOB_BETA variable is not set. Defaulting to a blank string.
process: The CODALAB_SENTRY_INGEST_URL variable is not set. Defaulting to a blank string.
process: The CODALAB_SENTRY_ENVIRONMENT variable is not set. Defaulting to a blank string.
process: Creating network "temp-instance88546869_service" with the default driver
process: Creating network "temp-instance88546869-worker-network_general" with the default driver
process: Creating temp-instance88546869_rest-server_run ... 
process: Creating temp-instance88546869_rest-server_run ... done
process: 
process:    ____          _       _            _
process:  / ____|___   __| | __ _| |     T T  | |__
process: | |    / _ \ / _` |/ _` | |     |o|  | '_ \
process: | |___| (_) | (_| | (_| | |___ /__o\ | |_) |
process:  \_____\___/ \__,_|\__,_|_____/_____\|_.__/
process: 
process: Welcome to the CodaLab CLI!
process: 
process: Your CodaLab configuration and state will be stored in: /Users/wangjiani/wjn/Code/codalab/codalab-worksheets/var/temp-instance88546869/home
process: 

[CodaLab] Initializing the database with alembic
(cd /Users/wangjiani/wjn/Code/codalab/codalab-worksheets/docker_config/compose_files; CODALAB_VERSION=latest CODALAB_INSTANCE_NAME=temp-instance88546869 CODALAB_WORKER_NETWORK_PREFIX=temp-instance88546869-worker-network CODALAB_USERNAME=codalab CODALAB_PASSWORD=codalab CODALAB_MYSQL_HOST=mysql CODALAB_MYSQL_PORT=3306 CODALAB_MYSQL_DATABASE=codalab_bundles CODALAB_MYSQL_USERNAME=codalab CODALAB_MYSQL_PASSWORD=codalab CODALAB_MYSQL_ROOT_PASSWORD=codalab CODALAB_UID=501:20 CODALAB_HOME=/Users/wangjiani/wjn/Code/codalab/codalab-worksheets/var/temp-instance88546869/home CODALAB_BUNDLE_MOUNT=/Users/wangjiani/wjn/Code/codalab/codalab-worksheets/var/temp-instance88546869/ CODALAB_MYSQL_MOUNT=/Users/wangjiani/wjn/Code/codalab/codalab-worksheets/var/temp-instance88546869/mysql CODALAB_MONITOR_DIR=/Users/wangjiani/wjn/Code/codalab/codalab-worksheets/var/temp-instance88546869/monitor CODALAB_WORKER_DIR=/Users/wangjiani/wjn/Code/codalab/codalab-worksheets/var/temp-instance88546869/worker CODALAB_HTTP_PORT=80 CODALAB_HTTPS_PORT=443 CODALAB_FRONTEND_PORT=2700 CODALAB_REST_PORT=51154 CODALAB_REST_NUM_PROCESSES=1 CODALAB_USER_DISK_QUOTA=100g CODALAB_USER_TIME_QUOTA=100y CODALAB_USER_PARALLEL_RUN_QUOTA=100 CODALAB_BUNDLE_MANAGER_WORKER_TIMEOUT_SECONDS=60 CODALAB_WORKER_MANAGER_TYPE=azure-batch CODALAB_WORKER_MANAGER_WORKER_DOWNLOAD_DEPENDENCIES_MAX_RETRIES=3 CODALAB_WORKER_MANAGER_WORKER_WORK_DIR_PREFIX=/tmp CODALAB_WORKER_MANAGER_WORKER_MAX_WORK_DIR_SIZE=10g CODALAB_WORKER_MANAGER_WORKER_CHECKIN_FREQUENCY_SECONDS=5 CODALAB_WORKER_MANAGER_IDLE_SECONDS=600 CODALAB_WORKER_MANAGER_SLEEP_TIME_SECONDS=5 CODALAB_WORKER_MANAGER_AWS_REGION=us-east-1 CODALAB_WORKER_MANAGER_AWS_BATCH_JOB_DEFINITION_NAME=codalab-worker COMPOSE_HTTP_TIMEOUT=600 DOCKER_CLIENT_TIMEOUT=600 CODALAB_LINK_MOUNTS=/tmp/codalab/link-mounts CODALAB_GOOGLE_APPLICATION_CREDENTIALS=/Users/wangjiani/wjn/Code/codalab/codalab-worksheets/hai-gcp-models-d6f4b77041d0.json CODALAB_RECAPTCHA_SITE_KEY=6LeIxAcTAAAAAJcZVRqyHh71UMIEGNQ_MXjiZKhI CODALAB_RECAPTCHA_SECRET_KEY=6LeIxAcTAAAAAGG-vFI1TnRWxMZNFuojJ4WifJWe CODALAB_WORKER_MANAGER_CPU_DEFAULT_CPUS=1 CODALAB_WORKER_MANAGER_CPU_DEFAULT_MEMORY_MB=2048 CODALAB_WORKER_MANAGER_CPU_TAG=codalab-cpu CODALAB_WORKER_MANAGER_MAX_CPU_WORKERS=10 CODALAB_WORKER_MANAGER_MIN_CPU_WORKERS=1 CODALAB_WORKER_MANAGER_CPU_AZURE_BATCH_JOB_ID=codalab-cpu CODALAB_WORKER_MANAGER_CPU_AWS_BATCH_QUEUE=codalab-cpu CODALAB_WORKER_MANAGER_CPU_WORKER_SHARED_MEMORY_SIZE_GB=1 CODALAB_WORKER_MANAGER_CPU_SECONDS_BETWEEN_WORKERS=60 CODALAB_WORKER_MANAGER_GPU_DEFAULT_CPUS=1 CODALAB_WORKER_MANAGER_GPU_DEFAULT_MEMORY_MB=2048 CODALAB_WORKER_MANAGER_GPU_TAG=codalab-gpu CODALAB_WORKER_MANAGER_MAX_GPU_WORKERS=10 CODALAB_WORKER_MANAGER_MIN_GPU_WORKERS=1 CODALAB_WORKER_MANAGER_GPU_AZURE_BATCH_JOB_ID=codalab-gpu CODALAB_WORKER_MANAGER_GPU_AWS_BATCH_QUEUE=codalab-gpu CODALAB_WORKER_MANAGER_GPU_WORKER_SHARED_MEMORY_SIZE_GB=1 CODALAB_WORKER_MANAGER_GPU_SECONDS_BETWEEN_WORKERS=60 PATH=/Users/wangjiani/wjn/Code/codalab/codalab-worksheets/venv/bin:/Users/wangjiani/wjn/Softwares/google-cloud-sdk/bin:/Users/wangjiani/.pyenv/shims:/Users/wangjiani/.pyenv/bin:/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/bin HOSTNAME=DN51t5ab.SUNet docker-compose -p temp-instance88546869 --project-directory /Users/wangjiani/wjn/Code/codalab/codalab-worksheets/docker_config/compose_files -f /Users/wangjiani/wjn/Code/codalab/codalab-worksheets/var/temp-instance88546869/home/docker-compose-custom.yml run --no-deps --rm --user=501:20 rest-server bash -c 'if [ $(alembic current | wc -l) -gt 0 ]; then echo upgrade; alembic upgrade head; fi')
process: The CODALAB_SERVER variable is not set. Defaulting to a blank string.
process: The CODALAB_PROTECTED_MODE variable is not set. Defaulting to a blank string.
process: The CODALAB_ADMIN_EMAIL variable is not set. Defaulting to a blank string.
process: The CODALAB_SUPPORT_EMAIL variable is not set. Defaulting to a blank string.
process: The CODALAB_EMAIL_HOST variable is not set. Defaulting to a blank string.
process: The CODALAB_EMAIL_USERNAME variable is not set. Defaulting to a blank string.
process: The CODALAB_EMAIL_PASSWORD variable is not set. Defaulting to a blank string.
process: The CODALAB_SHARED_FILE_SYSTEM variable is not set. Defaulting to a blank string.
process: The CODALAB_WORKER_MANAGER_CHECKIN_FREQUENCY_SECONDS variable is not set. Defaulting to a blank string.
process: The CODALAB_WORKER_MANAGER_DEFAULT_GPUS variable is not set. Defaulting to a blank string.
process: The CODALAB_WORKER_MANAGER_AZURE_BATCH_ACCOUNT_NAME variable is not set. Defaulting to a blank string.
process: The CODALAB_WORKER_MANAGER_AZURE_BATCH_ACCOUNT_KEY variable is not set. Defaulting to a blank string.
process: The CODALAB_WORKER_MANAGER_AZURE_BATCH_SERVICE_URL variable is not set. Defaulting to a blank string.
process: The CODALAB_WORKER_MANAGER_CPU_AZURE_LOG_CONTAINER_URL variable is not set. Defaulting to a blank string.
process: The CODALAB_WORKER_MANAGER_GPU_AZURE_LOG_CONTAINER_URL variable is not set. Defaulting to a blank string.
process: The CODALAB_WORKER_MANAGER_CPU_KUBERNETES_CLUSTER_HOST variable is not set. Defaulting to a blank string.
process: The CODALAB_WORKER_MANAGER_CPU_KUBERNETES_AUTH_TOKEN variable is not set. Defaulting to a blank string.
process: The CODALAB_WORKER_MANAGER_CPU_KUBERNETES_CERT_PATH variable is not set. Defaulting to a blank string.
process: The CODALAB_WORKER_MANAGER_GPU_KUBERNETES_CLUSTER_HOST variable is not set. Defaulting to a blank string.
process: The CODALAB_WORKER_MANAGER_GPU_KUBERNETES_AUTH_TOKEN variable is not set. Defaulting to a blank string.
process: The CODALAB_WORKER_MANAGER_GPU_KUBERNETES_CERT_PATH variable is not set. Defaulting to a blank string.
process: The CODALAB_PUBLIC_WORKERS variable is not set. Defaulting to a blank string.
process: The CODALAB_AZURE_BLOB_CONNECTION_STRING variable is not set. Defaulting to a blank string.
process: The CODALAB_DEFAULT_BUNDLE_STORE_NAME variable is not set. Defaulting to a blank string.
process: The CODALAB_ALWAYS_USE_AZURE_BLOB_BETA variable is not set. Defaulting to a blank string.
process: The CODALAB_SENTRY_INGEST_URL variable is not set. Defaulting to a blank string.
process: The CODALAB_SENTRY_ENVIRONMENT variable is not set. Defaulting to a blank string.
process: Creating temp-instance88546869_rest-server_run ... 
process: Creating temp-instance88546869_rest-server_run ... done
process: INFO  [alembic.runtime.migration] Context impl MySQLImpl.
process: INFO  [alembic.runtime.migration] Will assume non-transactional DDL.

[CodaLab] Creating root user
(cd /Users/wangjiani/wjn/Code/codalab/codalab-worksheets/docker_config/compose_files; CODALAB_VERSION=latest CODALAB_INSTANCE_NAME=temp-instance88546869 CODALAB_WORKER_NETWORK_PREFIX=temp-instance88546869-worker-network CODALAB_USERNAME=codalab CODALAB_PASSWORD=codalab CODALAB_MYSQL_HOST=mysql CODALAB_MYSQL_PORT=3306 CODALAB_MYSQL_DATABASE=codalab_bundles CODALAB_MYSQL_USERNAME=codalab CODALAB_MYSQL_PASSWORD=codalab CODALAB_MYSQL_ROOT_PASSWORD=codalab CODALAB_UID=501:20 CODALAB_HOME=/Users/wangjiani/wjn/Code/codalab/codalab-worksheets/var/temp-instance88546869/home CODALAB_BUNDLE_MOUNT=/Users/wangjiani/wjn/Code/codalab/codalab-worksheets/var/temp-instance88546869/ CODALAB_MYSQL_MOUNT=/Users/wangjiani/wjn/Code/codalab/codalab-worksheets/var/temp-instance88546869/mysql CODALAB_MONITOR_DIR=/Users/wangjiani/wjn/Code/codalab/codalab-worksheets/var/temp-instance88546869/monitor CODALAB_WORKER_DIR=/Users/wangjiani/wjn/Code/codalab/codalab-worksheets/var/temp-instance88546869/worker CODALAB_HTTP_PORT=80 CODALAB_HTTPS_PORT=443 CODALAB_FRONTEND_PORT=2700 CODALAB_REST_PORT=51154 CODALAB_REST_NUM_PROCESSES=1 CODALAB_USER_DISK_QUOTA=100g CODALAB_USER_TIME_QUOTA=100y CODALAB_USER_PARALLEL_RUN_QUOTA=100 CODALAB_BUNDLE_MANAGER_WORKER_TIMEOUT_SECONDS=60 CODALAB_WORKER_MANAGER_TYPE=azure-batch CODALAB_WORKER_MANAGER_WORKER_DOWNLOAD_DEPENDENCIES_MAX_RETRIES=3 CODALAB_WORKER_MANAGER_WORKER_WORK_DIR_PREFIX=/tmp CODALAB_WORKER_MANAGER_WORKER_MAX_WORK_DIR_SIZE=10g CODALAB_WORKER_MANAGER_WORKER_CHECKIN_FREQUENCY_SECONDS=5 CODALAB_WORKER_MANAGER_IDLE_SECONDS=600 CODALAB_WORKER_MANAGER_SLEEP_TIME_SECONDS=5 CODALAB_WORKER_MANAGER_AWS_REGION=us-east-1 CODALAB_WORKER_MANAGER_AWS_BATCH_JOB_DEFINITION_NAME=codalab-worker COMPOSE_HTTP_TIMEOUT=600 DOCKER_CLIENT_TIMEOUT=600 CODALAB_LINK_MOUNTS=/tmp/codalab/link-mounts CODALAB_GOOGLE_APPLICATION_CREDENTIALS=/Users/wangjiani/wjn/Code/codalab/codalab-worksheets/hai-gcp-models-d6f4b77041d0.json CODALAB_RECAPTCHA_SITE_KEY=6LeIxAcTAAAAAJcZVRqyHh71UMIEGNQ_MXjiZKhI CODALAB_RECAPTCHA_SECRET_KEY=6LeIxAcTAAAAAGG-vFI1TnRWxMZNFuojJ4WifJWe CODALAB_WORKER_MANAGER_CPU_DEFAULT_CPUS=1 CODALAB_WORKER_MANAGER_CPU_DEFAULT_MEMORY_MB=2048 CODALAB_WORKER_MANAGER_CPU_TAG=codalab-cpu CODALAB_WORKER_MANAGER_MAX_CPU_WORKERS=10 CODALAB_WORKER_MANAGER_MIN_CPU_WORKERS=1 CODALAB_WORKER_MANAGER_CPU_AZURE_BATCH_JOB_ID=codalab-cpu CODALAB_WORKER_MANAGER_CPU_AWS_BATCH_QUEUE=codalab-cpu CODALAB_WORKER_MANAGER_CPU_WORKER_SHARED_MEMORY_SIZE_GB=1 CODALAB_WORKER_MANAGER_CPU_SECONDS_BETWEEN_WORKERS=60 CODALAB_WORKER_MANAGER_GPU_DEFAULT_CPUS=1 CODALAB_WORKER_MANAGER_GPU_DEFAULT_MEMORY_MB=2048 CODALAB_WORKER_MANAGER_GPU_TAG=codalab-gpu CODALAB_WORKER_MANAGER_MAX_GPU_WORKERS=10 CODALAB_WORKER_MANAGER_MIN_GPU_WORKERS=1 CODALAB_WORKER_MANAGER_GPU_AZURE_BATCH_JOB_ID=codalab-gpu CODALAB_WORKER_MANAGER_GPU_AWS_BATCH_QUEUE=codalab-gpu CODALAB_WORKER_MANAGER_GPU_WORKER_SHARED_MEMORY_SIZE_GB=1 CODALAB_WORKER_MANAGER_GPU_SECONDS_BETWEEN_WORKERS=60 PATH=/Users/wangjiani/wjn/Code/codalab/codalab-worksheets/venv/bin:/Users/wangjiani/wjn/Softwares/google-cloud-sdk/bin:/Users/wangjiani/.pyenv/shims:/Users/wangjiani/.pyenv/bin:/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/bin HOSTNAME=DN51t5ab.SUNet docker-compose -p temp-instance88546869 --project-directory /Users/wangjiani/wjn/Code/codalab/codalab-worksheets/docker_config/compose_files -f /Users/wangjiani/wjn/Code/codalab/codalab-worksheets/var/temp-instance88546869/home/docker-compose-custom.yml run --no-deps --rm --user=501:20 rest-server bash -c '/opt/wait-for-it.sh --timeout=600 mysql:3306 -- python3 scripts/create-root-user.py codalab')
process: The CODALAB_SERVER variable is not set. Defaulting to a blank string.
process: The CODALAB_PROTECTED_MODE variable is not set. Defaulting to a blank string.
process: The CODALAB_ADMIN_EMAIL variable is not set. Defaulting to a blank string.
process: The CODALAB_SUPPORT_EMAIL variable is not set. Defaulting to a blank string.
process: The CODALAB_EMAIL_HOST variable is not set. Defaulting to a blank string.
process: The CODALAB_EMAIL_USERNAME variable is not set. Defaulting to a blank string.
process: The CODALAB_EMAIL_PASSWORD variable is not set. Defaulting to a blank string.
process: The CODALAB_SHARED_FILE_SYSTEM variable is not set. Defaulting to a blank string.
process: The CODALAB_WORKER_MANAGER_CHECKIN_FREQUENCY_SECONDS variable is not set. Defaulting to a blank string.
process: The CODALAB_WORKER_MANAGER_DEFAULT_GPUS variable is not set. Defaulting to a blank string.
process: The CODALAB_WORKER_MANAGER_AZURE_BATCH_ACCOUNT_NAME variable is not set. Defaulting to a blank string.
process: The CODALAB_WORKER_MANAGER_AZURE_BATCH_ACCOUNT_KEY variable is not set. Defaulting to a blank string.
process: The CODALAB_WORKER_MANAGER_AZURE_BATCH_SERVICE_URL variable is not set. Defaulting to a blank string.
process: The CODALAB_WORKER_MANAGER_CPU_AZURE_LOG_CONTAINER_URL variable is not set. Defaulting to a blank string.
process: The CODALAB_WORKER_MANAGER_GPU_AZURE_LOG_CONTAINER_URL variable is not set. Defaulting to a blank string.
process: The CODALAB_WORKER_MANAGER_CPU_KUBERNETES_CLUSTER_HOST variable is not set. Defaulting to a blank string.
process: The CODALAB_WORKER_MANAGER_CPU_KUBERNETES_AUTH_TOKEN variable is not set. Defaulting to a blank string.
process: The CODALAB_WORKER_MANAGER_CPU_KUBERNETES_CERT_PATH variable is not set. Defaulting to a blank string.
process: The CODALAB_WORKER_MANAGER_GPU_KUBERNETES_CLUSTER_HOST variable is not set. Defaulting to a blank string.
process: The CODALAB_WORKER_MANAGER_GPU_KUBERNETES_AUTH_TOKEN variable is not set. Defaulting to a blank string.
process: The CODALAB_WORKER_MANAGER_GPU_KUBERNETES_CERT_PATH variable is not set. Defaulting to a blank string.
process: The CODALAB_PUBLIC_WORKERS variable is not set. Defaulting to a blank string.
process: The CODALAB_AZURE_BLOB_CONNECTION_STRING variable is not set. Defaulting to a blank string.
process: The CODALAB_DEFAULT_BUNDLE_STORE_NAME variable is not set. Defaulting to a blank string.
process: The CODALAB_ALWAYS_USE_AZURE_BLOB_BETA variable is not set. Defaulting to a blank string.
process: The CODALAB_SENTRY_INGEST_URL variable is not set. Defaulting to a blank string.
process: The CODALAB_SENTRY_ENVIRONMENT variable is not set. Defaulting to a blank string.
process: Creating temp-instance88546869_rest-server_run ... 
process: Creating temp-instance88546869_rest-server_run ... done
process: wait-for-it.sh: waiting 600 seconds for mysql:3306
process: wait-for-it.sh: mysql:3306 is available after 0 seconds

[CodaLab] Stamping the database with alembic
(cd /Users/wangjiani/wjn/Code/codalab/codalab-worksheets/docker_config/compose_files; CODALAB_VERSION=latest CODALAB_INSTANCE_NAME=temp-instance88546869 CODALAB_WORKER_NETWORK_PREFIX=temp-instance88546869-worker-network CODALAB_USERNAME=codalab CODALAB_PASSWORD=codalab CODALAB_MYSQL_HOST=mysql CODALAB_MYSQL_PORT=3306 CODALAB_MYSQL_DATABASE=codalab_bundles CODALAB_MYSQL_USERNAME=codalab CODALAB_MYSQL_PASSWORD=codalab CODALAB_MYSQL_ROOT_PASSWORD=codalab CODALAB_UID=501:20 CODALAB_HOME=/Users/wangjiani/wjn/Code/codalab/codalab-worksheets/var/temp-instance88546869/home CODALAB_BUNDLE_MOUNT=/Users/wangjiani/wjn/Code/codalab/codalab-worksheets/var/temp-instance88546869/ CODALAB_MYSQL_MOUNT=/Users/wangjiani/wjn/Code/codalab/codalab-worksheets/var/temp-instance88546869/mysql CODALAB_MONITOR_DIR=/Users/wangjiani/wjn/Code/codalab/codalab-worksheets/var/temp-instance88546869/monitor CODALAB_WORKER_DIR=/Users/wangjiani/wjn/Code/codalab/codalab-worksheets/var/temp-instance88546869/worker CODALAB_HTTP_PORT=80 CODALAB_HTTPS_PORT=443 CODALAB_FRONTEND_PORT=2700 CODALAB_REST_PORT=51154 CODALAB_REST_NUM_PROCESSES=1 CODALAB_USER_DISK_QUOTA=100g CODALAB_USER_TIME_QUOTA=100y CODALAB_USER_PARALLEL_RUN_QUOTA=100 CODALAB_BUNDLE_MANAGER_WORKER_TIMEOUT_SECONDS=60 CODALAB_WORKER_MANAGER_TYPE=azure-batch CODALAB_WORKER_MANAGER_WORKER_DOWNLOAD_DEPENDENCIES_MAX_RETRIES=3 CODALAB_WORKER_MANAGER_WORKER_WORK_DIR_PREFIX=/tmp CODALAB_WORKER_MANAGER_WORKER_MAX_WORK_DIR_SIZE=10g CODALAB_WORKER_MANAGER_WORKER_CHECKIN_FREQUENCY_SECONDS=5 CODALAB_WORKER_MANAGER_IDLE_SECONDS=600 CODALAB_WORKER_MANAGER_SLEEP_TIME_SECONDS=5 CODALAB_WORKER_MANAGER_AWS_REGION=us-east-1 CODALAB_WORKER_MANAGER_AWS_BATCH_JOB_DEFINITION_NAME=codalab-worker COMPOSE_HTTP_TIMEOUT=600 DOCKER_CLIENT_TIMEOUT=600 CODALAB_LINK_MOUNTS=/tmp/codalab/link-mounts CODALAB_GOOGLE_APPLICATION_CREDENTIALS=/Users/wangjiani/wjn/Code/codalab/codalab-worksheets/hai-gcp-models-d6f4b77041d0.json CODALAB_RECAPTCHA_SITE_KEY=6LeIxAcTAAAAAJcZVRqyHh71UMIEGNQ_MXjiZKhI CODALAB_RECAPTCHA_SECRET_KEY=6LeIxAcTAAAAAGG-vFI1TnRWxMZNFuojJ4WifJWe CODALAB_WORKER_MANAGER_CPU_DEFAULT_CPUS=1 CODALAB_WORKER_MANAGER_CPU_DEFAULT_MEMORY_MB=2048 CODALAB_WORKER_MANAGER_CPU_TAG=codalab-cpu CODALAB_WORKER_MANAGER_MAX_CPU_WORKERS=10 CODALAB_WORKER_MANAGER_MIN_CPU_WORKERS=1 CODALAB_WORKER_MANAGER_CPU_AZURE_BATCH_JOB_ID=codalab-cpu CODALAB_WORKER_MANAGER_CPU_AWS_BATCH_QUEUE=codalab-cpu CODALAB_WORKER_MANAGER_CPU_WORKER_SHARED_MEMORY_SIZE_GB=1 CODALAB_WORKER_MANAGER_CPU_SECONDS_BETWEEN_WORKERS=60 CODALAB_WORKER_MANAGER_GPU_DEFAULT_CPUS=1 CODALAB_WORKER_MANAGER_GPU_DEFAULT_MEMORY_MB=2048 CODALAB_WORKER_MANAGER_GPU_TAG=codalab-gpu CODALAB_WORKER_MANAGER_MAX_GPU_WORKERS=10 CODALAB_WORKER_MANAGER_MIN_GPU_WORKERS=1 CODALAB_WORKER_MANAGER_GPU_AZURE_BATCH_JOB_ID=codalab-gpu CODALAB_WORKER_MANAGER_GPU_AWS_BATCH_QUEUE=codalab-gpu CODALAB_WORKER_MANAGER_GPU_WORKER_SHARED_MEMORY_SIZE_GB=1 CODALAB_WORKER_MANAGER_GPU_SECONDS_BETWEEN_WORKERS=60 PATH=/Users/wangjiani/wjn/Code/codalab/codalab-worksheets/venv/bin:/Users/wangjiani/wjn/Softwares/google-cloud-sdk/bin:/Users/wangjiani/.pyenv/shims:/Users/wangjiani/.pyenv/bin:/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/bin HOSTNAME=DN51t5ab.SUNet docker-compose -p temp-instance88546869 --project-directory /Users/wangjiani/wjn/Code/codalab/codalab-worksheets/docker_config/compose_files -f /Users/wangjiani/wjn/Code/codalab/codalab-worksheets/var/temp-instance88546869/home/docker-compose-custom.yml run --no-deps --rm --user=501:20 rest-server bash -c 'if [ $(alembic current | wc -l) -eq 0 ]; then echo stamp; alembic stamp head; fi')
process: The CODALAB_SERVER variable is not set. Defaulting to a blank string.
process: The CODALAB_PROTECTED_MODE variable is not set. Defaulting to a blank string.
process: The CODALAB_ADMIN_EMAIL variable is not set. Defaulting to a blank string.
process: The CODALAB_SUPPORT_EMAIL variable is not set. Defaulting to a blank string.
process: The CODALAB_EMAIL_HOST variable is not set. Defaulting to a blank string.
process: The CODALAB_EMAIL_USERNAME variable is not set. Defaulting to a blank string.
process: The CODALAB_EMAIL_PASSWORD variable is not set. Defaulting to a blank string.
process: The CODALAB_SHARED_FILE_SYSTEM variable is not set. Defaulting to a blank string.
process: The CODALAB_WORKER_MANAGER_CHECKIN_FREQUENCY_SECONDS variable is not set. Defaulting to a blank string.
process: The CODALAB_WORKER_MANAGER_DEFAULT_GPUS variable is not set. Defaulting to a blank string.
process: The CODALAB_WORKER_MANAGER_AZURE_BATCH_ACCOUNT_NAME variable is not set. Defaulting to a blank string.
process: The CODALAB_WORKER_MANAGER_AZURE_BATCH_ACCOUNT_KEY variable is not set. Defaulting to a blank string.
process: The CODALAB_WORKER_MANAGER_AZURE_BATCH_SERVICE_URL variable is not set. Defaulting to a blank string.
process: The CODALAB_WORKER_MANAGER_CPU_AZURE_LOG_CONTAINER_URL variable is not set. Defaulting to a blank string.
process: The CODALAB_WORKER_MANAGER_GPU_AZURE_LOG_CONTAINER_URL variable is not set. Defaulting to a blank string.
process: The CODALAB_WORKER_MANAGER_CPU_KUBERNETES_CLUSTER_HOST variable is not set. Defaulting to a blank string.
process: The CODALAB_WORKER_MANAGER_CPU_KUBERNETES_AUTH_TOKEN variable is not set. Defaulting to a blank string.
process: The CODALAB_WORKER_MANAGER_CPU_KUBERNETES_CERT_PATH variable is not set. Defaulting to a blank string.
process: The CODALAB_WORKER_MANAGER_GPU_KUBERNETES_CLUSTER_HOST variable is not set. Defaulting to a blank string.
process: The CODALAB_WORKER_MANAGER_GPU_KUBERNETES_AUTH_TOKEN variable is not set. Defaulting to a blank string.
process: The CODALAB_WORKER_MANAGER_GPU_KUBERNETES_CERT_PATH variable is not set. Defaulting to a blank string.
process: The CODALAB_PUBLIC_WORKERS variable is not set. Defaulting to a blank string.
process: The CODALAB_AZURE_BLOB_CONNECTION_STRING variable is not set. Defaulting to a blank string.
process: The CODALAB_DEFAULT_BUNDLE_STORE_NAME variable is not set. Defaulting to a blank string.
process: The CODALAB_ALWAYS_USE_AZURE_BLOB_BETA variable is not set. Defaulting to a blank string.
process: The CODALAB_SENTRY_INGEST_URL variable is not set. Defaulting to a blank string.
process: The CODALAB_SENTRY_ENVIRONMENT variable is not set. Defaulting to a blank string.
process: Creating temp-instance88546869_rest-server_run ... 
process: Creating temp-instance88546869_rest-server_run ... done
process: INFO  [alembic.runtime.migration] Context impl MySQLImpl.
process: INFO  [alembic.runtime.migration] Will assume non-transactional DDL.
process: stamp
process: INFO  [alembic.runtime.migration] Context impl MySQLImpl.
process: INFO  [alembic.runtime.migration] Will assume non-transactional DDL.
process: INFO  [alembic.runtime.migration] Running stamp_revision  -> a325a0756797

[CodaLab] Bringing up rest-server
(cd /Users/wangjiani/wjn/Code/codalab/codalab-worksheets/docker_config/compose_files; CODALAB_VERSION=latest CODALAB_INSTANCE_NAME=temp-instance88546869 CODALAB_WORKER_NETWORK_PREFIX=temp-instance88546869-worker-network CODALAB_USERNAME=codalab CODALAB_PASSWORD=codalab CODALAB_MYSQL_HOST=mysql CODALAB_MYSQL_PORT=3306 CODALAB_MYSQL_DATABASE=codalab_bundles CODALAB_MYSQL_USERNAME=codalab CODALAB_MYSQL_PASSWORD=codalab CODALAB_MYSQL_ROOT_PASSWORD=codalab CODALAB_UID=501:20 CODALAB_HOME=/Users/wangjiani/wjn/Code/codalab/codalab-worksheets/var/temp-instance88546869/home CODALAB_BUNDLE_MOUNT=/Users/wangjiani/wjn/Code/codalab/codalab-worksheets/var/temp-instance88546869/ CODALAB_MYSQL_MOUNT=/Users/wangjiani/wjn/Code/codalab/codalab-worksheets/var/temp-instance88546869/mysql CODALAB_MONITOR_DIR=/Users/wangjiani/wjn/Code/codalab/codalab-worksheets/var/temp-instance88546869/monitor CODALAB_WORKER_DIR=/Users/wangjiani/wjn/Code/codalab/codalab-worksheets/var/temp-instance88546869/worker CODALAB_HTTP_PORT=80 CODALAB_HTTPS_PORT=443 CODALAB_FRONTEND_PORT=2700 CODALAB_REST_PORT=51154 CODALAB_REST_NUM_PROCESSES=1 CODALAB_USER_DISK_QUOTA=100g CODALAB_USER_TIME_QUOTA=100y CODALAB_USER_PARALLEL_RUN_QUOTA=100 CODALAB_BUNDLE_MANAGER_WORKER_TIMEOUT_SECONDS=60 CODALAB_WORKER_MANAGER_TYPE=azure-batch CODALAB_WORKER_MANAGER_WORKER_DOWNLOAD_DEPENDENCIES_MAX_RETRIES=3 CODALAB_WORKER_MANAGER_WORKER_WORK_DIR_PREFIX=/tmp CODALAB_WORKER_MANAGER_WORKER_MAX_WORK_DIR_SIZE=10g CODALAB_WORKER_MANAGER_WORKER_CHECKIN_FREQUENCY_SECONDS=5 CODALAB_WORKER_MANAGER_IDLE_SECONDS=600 CODALAB_WORKER_MANAGER_SLEEP_TIME_SECONDS=5 CODALAB_WORKER_MANAGER_AWS_REGION=us-east-1 CODALAB_WORKER_MANAGER_AWS_BATCH_JOB_DEFINITION_NAME=codalab-worker COMPOSE_HTTP_TIMEOUT=600 DOCKER_CLIENT_TIMEOUT=600 CODALAB_LINK_MOUNTS=/tmp/codalab/link-mounts CODALAB_GOOGLE_APPLICATION_CREDENTIALS=/Users/wangjiani/wjn/Code/codalab/codalab-worksheets/hai-gcp-models-d6f4b77041d0.json CODALAB_RECAPTCHA_SITE_KEY=6LeIxAcTAAAAAJcZVRqyHh71UMIEGNQ_MXjiZKhI CODALAB_RECAPTCHA_SECRET_KEY=6LeIxAcTAAAAAGG-vFI1TnRWxMZNFuojJ4WifJWe CODALAB_WORKER_MANAGER_CPU_DEFAULT_CPUS=1 CODALAB_WORKER_MANAGER_CPU_DEFAULT_MEMORY_MB=2048 CODALAB_WORKER_MANAGER_CPU_TAG=codalab-cpu CODALAB_WORKER_MANAGER_MAX_CPU_WORKERS=10 CODALAB_WORKER_MANAGER_MIN_CPU_WORKERS=1 CODALAB_WORKER_MANAGER_CPU_AZURE_BATCH_JOB_ID=codalab-cpu CODALAB_WORKER_MANAGER_CPU_AWS_BATCH_QUEUE=codalab-cpu CODALAB_WORKER_MANAGER_CPU_WORKER_SHARED_MEMORY_SIZE_GB=1 CODALAB_WORKER_MANAGER_CPU_SECONDS_BETWEEN_WORKERS=60 CODALAB_WORKER_MANAGER_GPU_DEFAULT_CPUS=1 CODALAB_WORKER_MANAGER_GPU_DEFAULT_MEMORY_MB=2048 CODALAB_WORKER_MANAGER_GPU_TAG=codalab-gpu CODALAB_WORKER_MANAGER_MAX_GPU_WORKERS=10 CODALAB_WORKER_MANAGER_MIN_GPU_WORKERS=1 CODALAB_WORKER_MANAGER_GPU_AZURE_BATCH_JOB_ID=codalab-gpu CODALAB_WORKER_MANAGER_GPU_AWS_BATCH_QUEUE=codalab-gpu CODALAB_WORKER_MANAGER_GPU_WORKER_SHARED_MEMORY_SIZE_GB=1 CODALAB_WORKER_MANAGER_GPU_SECONDS_BETWEEN_WORKERS=60 PATH=/Users/wangjiani/wjn/Code/codalab/codalab-worksheets/venv/bin:/Users/wangjiani/wjn/Softwares/google-cloud-sdk/bin:/Users/wangjiani/.pyenv/shims:/Users/wangjiani/.pyenv/bin:/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/bin HOSTNAME=DN51t5ab.SUNet docker-compose -p temp-instance88546869 --project-directory /Users/wangjiani/wjn/Code/codalab/codalab-worksheets/docker_config/compose_files -f /Users/wangjiani/wjn/Code/codalab/codalab-worksheets/var/temp-instance88546869/home/docker-compose-custom.yml up --force-recreate -d --no-deps rest-server)
process: The CODALAB_SERVER variable is not set. Defaulting to a blank string.
process: The CODALAB_PROTECTED_MODE variable is not set. Defaulting to a blank string.
process: The CODALAB_ADMIN_EMAIL variable is not set. Defaulting to a blank string.
process: The CODALAB_SUPPORT_EMAIL variable is not set. Defaulting to a blank string.
process: The CODALAB_EMAIL_HOST variable is not set. Defaulting to a blank string.
process: The CODALAB_EMAIL_USERNAME variable is not set. Defaulting to a blank string.
process: The CODALAB_EMAIL_PASSWORD variable is not set. Defaulting to a blank string.
process: The CODALAB_SHARED_FILE_SYSTEM variable is not set. Defaulting to a blank string.
process: The CODALAB_WORKER_MANAGER_CHECKIN_FREQUENCY_SECONDS variable is not set. Defaulting to a blank string.
process: The CODALAB_WORKER_MANAGER_DEFAULT_GPUS variable is not set. Defaulting to a blank string.
process: The CODALAB_WORKER_MANAGER_AZURE_BATCH_ACCOUNT_NAME variable is not set. Defaulting to a blank string.
process: The CODALAB_WORKER_MANAGER_AZURE_BATCH_ACCOUNT_KEY variable is not set. Defaulting to a blank string.
process: The CODALAB_WORKER_MANAGER_AZURE_BATCH_SERVICE_URL variable is not set. Defaulting to a blank string.
process: The CODALAB_WORKER_MANAGER_CPU_AZURE_LOG_CONTAINER_URL variable is not set. Defaulting to a blank string.
process: The CODALAB_WORKER_MANAGER_GPU_AZURE_LOG_CONTAINER_URL variable is not set. Defaulting to a blank string.
process: The CODALAB_WORKER_MANAGER_CPU_KUBERNETES_CLUSTER_HOST variable is not set. Defaulting to a blank string.
process: The CODALAB_WORKER_MANAGER_CPU_KUBERNETES_AUTH_TOKEN variable is not set. Defaulting to a blank string.
process: The CODALAB_WORKER_MANAGER_CPU_KUBERNETES_CERT_PATH variable is not set. Defaulting to a blank string.
process: The CODALAB_WORKER_MANAGER_GPU_KUBERNETES_CLUSTER_HOST variable is not set. Defaulting to a blank string.
process: The CODALAB_WORKER_MANAGER_GPU_KUBERNETES_AUTH_TOKEN variable is not set. Defaulting to a blank string.
process: The CODALAB_WORKER_MANAGER_GPU_KUBERNETES_CERT_PATH variable is not set. Defaulting to a blank string.
process: The CODALAB_PUBLIC_WORKERS variable is not set. Defaulting to a blank string.
process: The CODALAB_AZURE_BLOB_CONNECTION_STRING variable is not set. Defaulting to a blank string.
process: The CODALAB_DEFAULT_BUNDLE_STORE_NAME variable is not set. Defaulting to a blank string.
process: The CODALAB_ALWAYS_USE_AZURE_BLOB_BETA variable is not set. Defaulting to a blank string.
process: The CODALAB_SENTRY_INGEST_URL variable is not set. Defaulting to a blank string.
process: The CODALAB_SENTRY_ENVIRONMENT variable is not set. Defaulting to a blank string.
process: Creating temp-instance88546869_rest-server_1 ... 
process: Creating temp-instance88546869_rest-server_1 ... done

[CodaLab] Creating home and dashboard worksheets
(cd /Users/wangjiani/wjn/Code/codalab/codalab-worksheets/docker_config/compose_files; CODALAB_VERSION=latest CODALAB_INSTANCE_NAME=temp-instance88546869 CODALAB_WORKER_NETWORK_PREFIX=temp-instance88546869-worker-network CODALAB_USERNAME=codalab CODALAB_PASSWORD=codalab CODALAB_MYSQL_HOST=mysql CODALAB_MYSQL_PORT=3306 CODALAB_MYSQL_DATABASE=codalab_bundles CODALAB_MYSQL_USERNAME=codalab CODALAB_MYSQL_PASSWORD=codalab CODALAB_MYSQL_ROOT_PASSWORD=codalab CODALAB_UID=501:20 CODALAB_HOME=/Users/wangjiani/wjn/Code/codalab/codalab-worksheets/var/temp-instance88546869/home CODALAB_BUNDLE_MOUNT=/Users/wangjiani/wjn/Code/codalab/codalab-worksheets/var/temp-instance88546869/ CODALAB_MYSQL_MOUNT=/Users/wangjiani/wjn/Code/codalab/codalab-worksheets/var/temp-instance88546869/mysql CODALAB_MONITOR_DIR=/Users/wangjiani/wjn/Code/codalab/codalab-worksheets/var/temp-instance88546869/monitor CODALAB_WORKER_DIR=/Users/wangjiani/wjn/Code/codalab/codalab-worksheets/var/temp-instance88546869/worker CODALAB_HTTP_PORT=80 CODALAB_HTTPS_PORT=443 CODALAB_FRONTEND_PORT=2700 CODALAB_REST_PORT=51154 CODALAB_REST_NUM_PROCESSES=1 CODALAB_USER_DISK_QUOTA=100g CODALAB_USER_TIME_QUOTA=100y CODALAB_USER_PARALLEL_RUN_QUOTA=100 CODALAB_BUNDLE_MANAGER_WORKER_TIMEOUT_SECONDS=60 CODALAB_WORKER_MANAGER_TYPE=azure-batch CODALAB_WORKER_MANAGER_WORKER_DOWNLOAD_DEPENDENCIES_MAX_RETRIES=3 CODALAB_WORKER_MANAGER_WORKER_WORK_DIR_PREFIX=/tmp CODALAB_WORKER_MANAGER_WORKER_MAX_WORK_DIR_SIZE=10g CODALAB_WORKER_MANAGER_WORKER_CHECKIN_FREQUENCY_SECONDS=5 CODALAB_WORKER_MANAGER_IDLE_SECONDS=600 CODALAB_WORKER_MANAGER_SLEEP_TIME_SECONDS=5 CODALAB_WORKER_MANAGER_AWS_REGION=us-east-1 CODALAB_WORKER_MANAGER_AWS_BATCH_JOB_DEFINITION_NAME=codalab-worker COMPOSE_HTTP_TIMEOUT=600 DOCKER_CLIENT_TIMEOUT=600 CODALAB_LINK_MOUNTS=/tmp/codalab/link-mounts CODALAB_GOOGLE_APPLICATION_CREDENTIALS=/Users/wangjiani/wjn/Code/codalab/codalab-worksheets/hai-gcp-models-d6f4b77041d0.json CODALAB_RECAPTCHA_SITE_KEY=6LeIxAcTAAAAAJcZVRqyHh71UMIEGNQ_MXjiZKhI CODALAB_RECAPTCHA_SECRET_KEY=6LeIxAcTAAAAAGG-vFI1TnRWxMZNFuojJ4WifJWe CODALAB_WORKER_MANAGER_CPU_DEFAULT_CPUS=1 CODALAB_WORKER_MANAGER_CPU_DEFAULT_MEMORY_MB=2048 CODALAB_WORKER_MANAGER_CPU_TAG=codalab-cpu CODALAB_WORKER_MANAGER_MAX_CPU_WORKERS=10 CODALAB_WORKER_MANAGER_MIN_CPU_WORKERS=1 CODALAB_WORKER_MANAGER_CPU_AZURE_BATCH_JOB_ID=codalab-cpu CODALAB_WORKER_MANAGER_CPU_AWS_BATCH_QUEUE=codalab-cpu CODALAB_WORKER_MANAGER_CPU_WORKER_SHARED_MEMORY_SIZE_GB=1 CODALAB_WORKER_MANAGER_CPU_SECONDS_BETWEEN_WORKERS=60 CODALAB_WORKER_MANAGER_GPU_DEFAULT_CPUS=1 CODALAB_WORKER_MANAGER_GPU_DEFAULT_MEMORY_MB=2048 CODALAB_WORKER_MANAGER_GPU_TAG=codalab-gpu CODALAB_WORKER_MANAGER_MAX_GPU_WORKERS=10 CODALAB_WORKER_MANAGER_MIN_GPU_WORKERS=1 CODALAB_WORKER_MANAGER_GPU_AZURE_BATCH_JOB_ID=codalab-gpu CODALAB_WORKER_MANAGER_GPU_AWS_BATCH_QUEUE=codalab-gpu CODALAB_WORKER_MANAGER_GPU_WORKER_SHARED_MEMORY_SIZE_GB=1 CODALAB_WORKER_MANAGER_GPU_SECONDS_BETWEEN_WORKERS=60 PATH=/Users/wangjiani/wjn/Code/codalab/codalab-worksheets/venv/bin:/Users/wangjiani/wjn/Softwares/google-cloud-sdk/bin:/Users/wangjiani/.pyenv/shims:/Users/wangjiani/.pyenv/bin:/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/bin HOSTNAME=DN51t5ab.SUNet docker-compose -p temp-instance88546869 --project-directory /Users/wangjiani/wjn/Code/codalab/codalab-worksheets/docker_config/compose_files -f /Users/wangjiani/wjn/Code/codalab/codalab-worksheets/var/temp-instance88546869/home/docker-compose-custom.yml run --no-deps --rm --user=501:20 rest-server bash -c '/opt/wait-for-it.sh --timeout=600 rest-server:51154 -- cl logout && cl status && ((cl new home && cl new dashboard) || exit 0)')
process: The CODALAB_SERVER variable is not set. Defaulting to a blank string.
process: The CODALAB_PROTECTED_MODE variable is not set. Defaulting to a blank string.
process: The CODALAB_ADMIN_EMAIL variable is not set. Defaulting to a blank string.
process: The CODALAB_SUPPORT_EMAIL variable is not set. Defaulting to a blank string.
process: The CODALAB_EMAIL_HOST variable is not set. Defaulting to a blank string.
process: The CODALAB_EMAIL_USERNAME variable is not set. Defaulting to a blank string.
process: The CODALAB_EMAIL_PASSWORD variable is not set. Defaulting to a blank string.
process: The CODALAB_SHARED_FILE_SYSTEM variable is not set. Defaulting to a blank string.
process: The CODALAB_WORKER_MANAGER_CHECKIN_FREQUENCY_SECONDS variable is not set. Defaulting to a blank string.
process: The CODALAB_WORKER_MANAGER_DEFAULT_GPUS variable is not set. Defaulting to a blank string.
process: The CODALAB_WORKER_MANAGER_AZURE_BATCH_ACCOUNT_NAME variable is not set. Defaulting to a blank string.
process: The CODALAB_WORKER_MANAGER_AZURE_BATCH_ACCOUNT_KEY variable is not set. Defaulting to a blank string.
process: The CODALAB_WORKER_MANAGER_AZURE_BATCH_SERVICE_URL variable is not set. Defaulting to a blank string.
process: The CODALAB_WORKER_MANAGER_CPU_AZURE_LOG_CONTAINER_URL variable is not set. Defaulting to a blank string.
process: The CODALAB_WORKER_MANAGER_GPU_AZURE_LOG_CONTAINER_URL variable is not set. Defaulting to a blank string.
process: The CODALAB_WORKER_MANAGER_CPU_KUBERNETES_CLUSTER_HOST variable is not set. Defaulting to a blank string.
process: The CODALAB_WORKER_MANAGER_CPU_KUBERNETES_AUTH_TOKEN variable is not set. Defaulting to a blank string.
process: The CODALAB_WORKER_MANAGER_CPU_KUBERNETES_CERT_PATH variable is not set. Defaulting to a blank string.
process: The CODALAB_WORKER_MANAGER_GPU_KUBERNETES_CLUSTER_HOST variable is not set. Defaulting to a blank string.
process: The CODALAB_WORKER_MANAGER_GPU_KUBERNETES_AUTH_TOKEN variable is not set. Defaulting to a blank string.
process: The CODALAB_WORKER_MANAGER_GPU_KUBERNETES_CERT_PATH variable is not set. Defaulting to a blank string.
process: The CODALAB_PUBLIC_WORKERS variable is not set. Defaulting to a blank string.
process: The CODALAB_AZURE_BLOB_CONNECTION_STRING variable is not set. Defaulting to a blank string.
process: The CODALAB_DEFAULT_BUNDLE_STORE_NAME variable is not set. Defaulting to a blank string.
process: The CODALAB_ALWAYS_USE_AZURE_BLOB_BETA variable is not set. Defaulting to a blank string.
process: The CODALAB_SENTRY_INGEST_URL variable is not set. Defaulting to a blank string.
process: The CODALAB_SENTRY_ENVIRONMENT variable is not set. Defaulting to a blank string.
process: Creating temp-instance88546869_rest-server_run ... 
process: Creating temp-instance88546869_rest-server_run ... done
process: wait-for-it.sh: waiting 600 seconds for rest-server:51154
process: wait-for-it.sh: rest-server:51154 is available after 3 seconds
process: codalab_home: /Users/wangjiani/wjn/Code/codalab/codalab-worksheets/var/temp-instance88546869/home
process: session: 1
process: client_version: 1.4.6
process: server_version: 1.4.6
process: address: http://rest-server:51154
process: username: codalab
process: current_worksheet: http://rest-server:51154/worksheets/0x6c46573802be499ea06b201e1aa1d0c9 (home-codalab)
process: user: codalab(0)
process: UsageError: Worksheet with name home already exists

Switched to worksheet: http://rest-server:2900/worksheets/0x6c46573802be499ea06b201e1aa1d0c9 (home-codalab)
/usr/local/lib/python3.6/dist-packages/azure/storage/blob/_shared/encryption.py:15: CryptographyDeprecationWarning: Python 3.6 is no longer supported by the Python core team. Therefore, support for it is deprecated in cryptography and will be removed in a future release.
  from cryptography.hazmat.backends import default_backend
[33;1m[*][*] Running modules unittest gen-rest-docs gen-cli-docs gen-readthedocs basic auth upload1 upload2 upload3 upload4 blob default_bundle_store store_add download refs binary rm make worksheet worksheet_search worksheet_tags uls worksheet_freeze_unfreeze bundle_freeze_unfreeze detach perm search search_time run time link run2 read kill write mimic status batch resources copy groups netcat netcurl anonymous competition unicode workers sharing_workers rest1 worksheets memoize edit_user protected_mode edit work worker_manager open wopen service[0m

[33;1m[*][*] BEGIN MODULE: unittest[0m

[33;1m[*][*] DESCRIPTION: Run backend unit tests.[0m

[*][*] SWITCHING TO TEMPORARY WORKSHEET
>> cl logout
[36;1m (exit code 0, expected 0)[0m


>> cl uinfo
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 11m49s / 100y0d (0.0%)
disk           : 2.2k / 100.0g (0.0%)
parallel_run_quota: 100

>> cl work -u
[36;1m (exit code 0, expected 0)[0m

0x23706f2903f24b8f8a643ebe09fd41c9

>> cl new temp-test-cli-978148
[36;1m (exit code 0, expected 0)[0m

0xf2be4df01ed04f32a8ca180322bfb024

>> cl work 0xf2be4df01ed04f32a8ca180322bfb024
[36;1m (exit code 0, expected 0)[0m

Switched to worksheet: http://rest-server:2900/worksheets/0xf2be4df01ed04f32a8ca180322bfb024 (temp-test-cli-978148)

>> cl uinfo -f disk
[36;1m (exit code 0, expected 0)[0m

2.2k / 100.0g (0.0%)

[*][*] BEGIN TEST
>> coverage run --rcfile=tests/unit/.coveragerc -m nose tests.unit
/usr/local/lib/python3.6/dist-packages/azure/storage/blob/_shared/encryption.py:15: CryptographyDeprecationWarning: Python 3.6 is no longer supported by the Python core team. Therefore, support for it is deprecated in cryptography and will be removed in a future release.
  from cryptography.hazmat.backends import default_backend
............................................Cloning into '/tmp/tmprdhe1tnu'...
.........Cloning into '/Users/wangjiani/wjn/Code/codalab/codalab-worksheets/var/codalab/home/partitions/default/bundles/0x372229dd8b93483ca0114cbae92dd17d'...
.................................S..........................................................S........................................
----------------------------------------------------------------------
Ran 186 tests in 15.272s

OK (SKIP=2)
[36;1m (exit code 0, expected 0)[0m


>> coverage report --rcfile=tests/unit/.coveragerc
[36;1m (exit code 0, expected 0)[0m

Name                                                   Stmts   Miss  Cover
--------------------------------------------------------------------------
codalab/__init__.py                                        0      0   100%
codalab/bin/__init__.py                                    0      0   100%
codalab/bin/bundle_manager.py                             15     15     0%
codalab/bin/cl.py                                         12     12     0%
codalab/bin/server.py                                     52     52     0%
codalab/bundles/__init__.py                               10      0   100%
codalab/bundles/dataset_bundle.py                          3      0   100%
codalab/bundles/derived_bundle.py                         17      3    82%
codalab/bundles/make_bundle.py                             9      0   100%
codalab/bundles/named_bundle.py                           22      3    86%
codalab/bundles/private_bundle.py                          7      1    86%
codalab/bundles/program_bundle.py                          5      0   100%
codalab/bundles/run_bundle.py                             51      1    98%
codalab/bundles/uploaded_bundle.py                        19      1    95%
codalab/client/__init__.py                                 0      0   100%
codalab/client/json_api_client.py                        231     86    63%
codalab/common.py                                        142     37    74%
codalab/lib/__init__.py                                    0      0   100%
codalab/lib/beam/__init__.py                               0      0   100%
codalab/lib/beam/blobstorageuploader.py                   30     18    40%
codalab/lib/beam/filesystems.py                           14      0   100%
codalab/lib/beam/mockblobstoragefilesystem.py             54     17    69%
codalab/lib/beam/streamingzipfile.py                      73      8    89%
codalab/lib/bundle_action.py                              11      5    55%
codalab/lib/bundle_cli.py                               1458   1237    15%
codalab/lib/bundle_fuse.py                               162    120    26%
codalab/lib/bundle_store.py                              248    172    31%
codalab/lib/bundle_util.py                               146    129    12%
codalab/lib/canonicalize.py                               74     28    62%
codalab/lib/cli_util.py                                   69      8    88%
codalab/lib/codalab_manager.py                           280    138    51%
codalab/lib/completers.py                                104     70    33%
codalab/lib/crypt_util.py                                 82     50    39%
codalab/lib/download_manager.py                          199    107    46%
codalab/lib/editor_util.py                                27     20    26%
codalab/lib/emailer.py                                    49     28    43%
codalab/lib/file_util.py                                  38     29    24%
codalab/lib/formatting.py                                 98     39    60%
codalab/lib/interactive_session.py                       115     62    46%
codalab/lib/metadata_defaults.py                          34     22    35%
codalab/lib/metadata_util.py                              65     56    14%
codalab/lib/path_util.py                                 152     43    72%
codalab/lib/print_util.py                                 34     19    44%
codalab/lib/profiling_util.py                             14     14     0%
codalab/lib/server_util.py                               160     65    59%
codalab/lib/spec_util.py                                  62     25    60%
codalab/lib/telemetry_util.py                             32     17    47%
codalab/lib/ui_actions.py                                 13      4    69%
codalab/lib/unicode_util.py                                6      2    67%
codalab/lib/upload_manager.py                            110     18    84%
codalab/lib/worksheet_util.py                            541    284    48%
codalab/lib/zip_util.py                                  100     12    88%
codalab/model/__init__.py                                  0      0   100%
codalab/model/bundle_model.py                           1240    569    54%
codalab/model/mysql_model.py                              29      5    83%
codalab/model/orm_object.py                               22      0   100%
codalab/model/sqlite_model.py                              7      0   100%
codalab/model/tables.py                                   35      0   100%
codalab/model/util.py                                      1      0   100%
codalab/model/worker_model.py                            151     57    62%
codalab/objects/__init__.py                                0      0   100%
codalab/objects/bundle.py                                 54      2    96%
codalab/objects/dependency.py                             14      2    86%
codalab/objects/metadata.py                               73     12    84%
codalab/objects/metadata_spec.py                          24      0   100%
codalab/objects/oauth2.py                                 66     35    47%
codalab/objects/permission.py                             79     39    51%
codalab/objects/user.py                                   46      6    87%
codalab/objects/worksheet.py                              33      2    94%
codalab/rest/__init__.py                                   0      0   100%
codalab/rest/account.py                                  143     85    41%
codalab/rest/bundle_actions.py                            21     13    38%
codalab/rest/bundles.py                                  438    332    24%
codalab/rest/cli.py                                       67     50    25%
codalab/rest/groups.py                                    81     63    22%
codalab/rest/help.py                                      18     14    22%
codalab/rest/interpret.py                                327    196    40%
codalab/rest/oauth2.py                                    47     26    45%
codalab/rest/schemas.py                                  198     26    87%
codalab/rest/users.py                                     93     73    22%
codalab/rest/util.py                                     106     55    48%
codalab/rest/workers.py                                   62     39    37%
codalab/rest/worksheet_block_schemas.py                  117      2    98%
codalab/rest/worksheets.py                               230    160    30%
codalab/server/__init__.py                                 0      0   100%
codalab/server/auth.py                                    32     20    38%
codalab/server/authenticated_plugin.py                    68     12    82%
codalab/server/bundle_manager.py                         425     80    81%
codalab/server/cookie.py                                  44     17    61%
codalab/server/json_api_plugin.py                         20      5    75%
codalab/server/oauth2_provider.py                        357    249    30%
codalab/server/rest_server.py                            132     37    72%
codalab/server/worker_info_accessor.py                    53      7    87%
codalab/worker/__init__.py                                 0      0   100%
codalab/worker/bundle_service_client.py                   98     65    34%
codalab/worker/bundle_state.py                            95      6    94%
codalab/worker/dependency_manager.py                     308    160    48%
codalab/worker/docker_image_manager.py                   113     88    22%
codalab/worker/docker_utils.py                           201    141    30%
codalab/worker/download_util.py                          123     13    89%
codalab/worker/file_util.py                              285     61    79%
codalab/worker/fsm.py                                     33     11    67%
codalab/worker/image_manager.py                           82     62    24%
codalab/worker/main.py                                   151    124    18%
codalab/worker/pyjson.py                                  80     10    88%
codalab/worker/reader.py                                  68     51    25%
codalab/worker/rest_client.py                             98     77    21%
codalab/worker/singularity_image_manager.py               44     29    34%
codalab/worker/state_committer.py                         39      6    85%
codalab/worker/tar_file_stream.py                         30      2    93%
codalab/worker/tar_subdir_stream.py                       73      3    96%
codalab/worker/un_gzip_stream.py                         151      3    98%
codalab/worker/un_tar_directory.py                        14      3    79%
codalab/worker/worker.py                                 385    321    17%
codalab/worker/worker_run_state.py                       323    275    15%
codalab/worker/worker_thread.py                           44     26    41%
codalab/worker_manager/__init__.py                         0      0   100%
codalab/worker_manager/aws_batch_worker_manager.py        60     60     0%
codalab/worker_manager/azure_batch_worker_manager.py      66     66     0%
codalab/worker_manager/kubernetes_worker_manager.py       67     67     0%
codalab/worker_manager/main.py                            50     50     0%
codalab/worker_manager/slurm_batch_worker_manager.py     164    113    31%
codalab/worker_manager/worker_manager.py                 145     73    50%
codalab_service.py                                       330    330     0%
monitor.py                                               189    189     0%
scripts/__init__.py                                        0      0   100%
scripts/competitiond.py                                  386    386     0%
scripts/create-root-user.py                               21     21     0%
scripts/create_sample_worksheet.py                       394    394     0%
scripts/gen-cli-docs.py                                   15     15     0%
scripts/gen-rest-docs.py                                  69     69     0%
scripts/initialize-azurite.py                              7      7     0%
scripts/send-email-notifications.py                       69     69     0%
scripts/test_util.py                                     100    100     0%
scripts/upload-mlcomp.py                                  16     16     0%
setup.py                                                  32     32     0%
test_runner.py                                            77     77     0%
--------------------------------------------------------------------------
TOTAL                                                  15297   9038    41%

[32;1m[*] TEST PASSED[0m

[*][*] CLEANING UP
>> cl logout
[36;1m (exit code 0, expected 0)[0m


>> cl uinfo
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 11m49s / 100y0d (0.0%)
disk           : 2.2k / 100.0g (0.0%)
parallel_run_quota: 100

>> cl work 0x23706f2903f24b8f8a643ebe09fd41c9
[36;1m (exit code 0, expected 0)[0m

Switched to worksheet: http://rest-server:2900/worksheets/0x23706f2903f24b8f8a643ebe09fd41c9 (temp-test-cli-538231)

>> cl ls -w 0xf2be4df01ed04f32a8ca180322bfb024 -u
[36;1m (exit code 0, expected 0)[0m


>> cl wrm --force 0xf2be4df01ed04f32a8ca180322bfb024
[36;1m (exit code 0, expected 0)[0m


>> cl uedit codalab --disk-quota 100.0g
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
is_verified    : True
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 11m49s / 100y0d (0.0%)
disk           : 2.2k / 100.0g (0.0%)
parallel_run_quota: 100

[33;1m[*][*] BEGIN MODULE: gen-rest-docs[0m

[33;1m[*][*] DESCRIPTION: Generate REST API docs.[0m

[*][*] SWITCHING TO TEMPORARY WORKSHEET
>> cl logout
[36;1m (exit code 0, expected 0)[0m


>> cl uinfo
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 11m49s / 100y0d (0.0%)
disk           : 2.2k / 100.0g (0.0%)
parallel_run_quota: 100

>> cl work -u
[36;1m (exit code 0, expected 0)[0m

0x23706f2903f24b8f8a643ebe09fd41c9

>> cl new temp-test-cli-128968
[36;1m (exit code 0, expected 0)[0m

0x80378981bc2b4330a0a90d478e7c1286

>> cl work 0x80378981bc2b4330a0a90d478e7c1286
[36;1m (exit code 0, expected 0)[0m

Switched to worksheet: http://rest-server:2900/worksheets/0x80378981bc2b4330a0a90d478e7c1286 (temp-test-cli-128968)

>> cl uinfo -f disk
[36;1m (exit code 0, expected 0)[0m

2.2k / 100.0g (0.0%)

[*][*] BEGIN TEST
>> python3 /opt/codalab-worksheets/tests/cli/../../scripts/gen-rest-docs.py --docs /tmp
/usr/local/lib/python3.6/dist-packages/azure/storage/blob/_shared/encryption.py:15: CryptographyDeprecationWarning: Python 3.6 is no longer supported by the Python core team. Therefore, support for it is deprecated in cryptography and will be removed in a future release.
  from cryptography.hazmat.backends import default_backend
[36;1m (exit code 0, expected 0)[0m


[32;1m[*] TEST PASSED[0m

[*][*] CLEANING UP
>> cl logout
[36;1m (exit code 0, expected 0)[0m


>> cl uinfo
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 11m49s / 100y0d (0.0%)
disk           : 2.2k / 100.0g (0.0%)
parallel_run_quota: 100

>> cl work 0x23706f2903f24b8f8a643ebe09fd41c9
[36;1m (exit code 0, expected 0)[0m

Switched to worksheet: http://rest-server:2900/worksheets/0x23706f2903f24b8f8a643ebe09fd41c9 (temp-test-cli-538231)

>> cl ls -w 0x80378981bc2b4330a0a90d478e7c1286 -u
[36;1m (exit code 0, expected 0)[0m


>> cl wrm --force 0x80378981bc2b4330a0a90d478e7c1286
[36;1m (exit code 0, expected 0)[0m


>> cl uedit codalab --disk-quota 100.0g
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
is_verified    : True
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 11m49s / 100y0d (0.0%)
disk           : 2.2k / 100.0g (0.0%)
parallel_run_quota: 100

[33;1m[*][*] BEGIN MODULE: gen-cli-docs[0m

[33;1m[*][*] DESCRIPTION: Generate CLI docs.[0m

[*][*] SWITCHING TO TEMPORARY WORKSHEET
>> cl logout
[36;1m (exit code 0, expected 0)[0m


>> cl uinfo
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 11m49s / 100y0d (0.0%)
disk           : 2.2k / 100.0g (0.0%)
parallel_run_quota: 100

>> cl work -u
[36;1m (exit code 0, expected 0)[0m

0x23706f2903f24b8f8a643ebe09fd41c9

>> cl new temp-test-cli-443181
[36;1m (exit code 0, expected 0)[0m

0xc776a95288ec48df8e5d3170c2a94f77

>> cl work 0xc776a95288ec48df8e5d3170c2a94f77
[36;1m (exit code 0, expected 0)[0m

Switched to worksheet: http://rest-server:2900/worksheets/0xc776a95288ec48df8e5d3170c2a94f77 (temp-test-cli-443181)

>> cl uinfo -f disk
[36;1m (exit code 0, expected 0)[0m

2.2k / 100.0g (0.0%)

[*][*] BEGIN TEST
>> python3 /opt/codalab-worksheets/tests/cli/../../scripts/gen-cli-docs.py --docs /tmp
/usr/local/lib/python3.6/dist-packages/azure/storage/blob/_shared/encryption.py:15: CryptographyDeprecationWarning: Python 3.6 is no longer supported by the Python core team. Therefore, support for it is deprecated in cryptography and will be removed in a future release.
  from cryptography.hazmat.backends import default_backend
[36;1m (exit code 0, expected 0)[0m


[32;1m[*] TEST PASSED[0m

[*][*] CLEANING UP
>> cl logout
[36;1m (exit code 0, expected 0)[0m


>> cl uinfo
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 11m49s / 100y0d (0.0%)
disk           : 2.2k / 100.0g (0.0%)
parallel_run_quota: 100

>> cl work 0x23706f2903f24b8f8a643ebe09fd41c9
[36;1m (exit code 0, expected 0)[0m

Switched to worksheet: http://rest-server:2900/worksheets/0x23706f2903f24b8f8a643ebe09fd41c9 (temp-test-cli-538231)

>> cl ls -w 0xc776a95288ec48df8e5d3170c2a94f77 -u
[36;1m (exit code 0, expected 0)[0m


>> cl wrm --force 0xc776a95288ec48df8e5d3170c2a94f77
[36;1m (exit code 0, expected 0)[0m


>> cl uedit codalab --disk-quota 100.0g
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
is_verified    : True
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 11m49s / 100y0d (0.0%)
disk           : 2.2k / 100.0g (0.0%)
parallel_run_quota: 100

[33;1m[*][*] BEGIN MODULE: gen-readthedocs[0m

[33;1m[*][*] DESCRIPTION: Generate the readthedocs site.[0m

[*][*] SWITCHING TO TEMPORARY WORKSHEET
>> cl logout
[36;1m (exit code 0, expected 0)[0m


>> cl uinfo
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 11m49s / 100y0d (0.0%)
disk           : 2.2k / 100.0g (0.0%)
parallel_run_quota: 100

>> cl work -u
[36;1m (exit code 0, expected 0)[0m

0x23706f2903f24b8f8a643ebe09fd41c9

>> cl new temp-test-cli-905871
[36;1m (exit code 0, expected 0)[0m

0x45dec63885d0425db415aa2317a41ca6

>> cl work 0x45dec63885d0425db415aa2317a41ca6
[36;1m (exit code 0, expected 0)[0m

Switched to worksheet: http://rest-server:2900/worksheets/0x45dec63885d0425db415aa2317a41ca6 (temp-test-cli-905871)

>> cl uinfo -f disk
[36;1m (exit code 0, expected 0)[0m

2.2k / 100.0g (0.0%)

[*][*] BEGIN TEST
>> mkdocs build -d /tmp/site
[36;1m (exit code 0, expected 0)[0m

INFO     -  Cleaning site directory
INFO     -  Building documentation to directory: /tmp/site
INFO     -  Documentation built in 1.31 seconds

[32;1m[*] TEST PASSED[0m

[*][*] CLEANING UP
>> cl logout
[36;1m (exit code 0, expected 0)[0m


>> cl uinfo
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 11m49s / 100y0d (0.0%)
disk           : 2.2k / 100.0g (0.0%)
parallel_run_quota: 100

>> cl work 0x23706f2903f24b8f8a643ebe09fd41c9
[36;1m (exit code 0, expected 0)[0m

Switched to worksheet: http://rest-server:2900/worksheets/0x23706f2903f24b8f8a643ebe09fd41c9 (temp-test-cli-538231)

>> cl ls -w 0x45dec63885d0425db415aa2317a41ca6 -u
[36;1m (exit code 0, expected 0)[0m


>> cl wrm --force 0x45dec63885d0425db415aa2317a41ca6
[36;1m (exit code 0, expected 0)[0m


>> cl uedit codalab --disk-quota 100.0g
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
is_verified    : True
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 11m49s / 100y0d (0.0%)
disk           : 2.2k / 100.0g (0.0%)
parallel_run_quota: 100

[33;1m[*][*] BEGIN MODULE: basic[0m

[*][*] SWITCHING TO TEMPORARY WORKSHEET
>> cl logout
[36;1m (exit code 0, expected 0)[0m


>> cl uinfo
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 11m49s / 100y0d (0.0%)
disk           : 2.2k / 100.0g (0.0%)
parallel_run_quota: 100

>> cl work -u
[36;1m (exit code 0, expected 0)[0m

0x23706f2903f24b8f8a643ebe09fd41c9

>> cl new temp-test-cli-76105
[36;1m (exit code 0, expected 0)[0m

0xee0440263548458abad3359436bfabb0

>> cl work 0xee0440263548458abad3359436bfabb0
[36;1m (exit code 0, expected 0)[0m

Switched to worksheet: http://rest-server:2900/worksheets/0xee0440263548458abad3359436bfabb0 (temp-test-cli-76105)

>> cl uinfo -f disk
[36;1m (exit code 0, expected 0)[0m

2.2k / 100.0g (0.0%)

[*][*] BEGIN TEST
>> cl upload /opt/codalab-worksheets/tests/cli/files/a.txt --description hello --tags a b
[36;1m (exit code 0, expected 0)[0m

0x00baae1293a5471ba3ecea8334c49a3c

>> cl info -f name 0x00baae1293a5471ba3ecea8334c49a3c
[36;1m (exit code 0, expected 0)[0m

a.txt

>> cl info -f description 0x00baae1293a5471ba3ecea8334c49a3c
[36;1m (exit code 0, expected 0)[0m

hello

>> cl info -f tags 0x00baae1293a5471ba3ecea8334c49a3c
[36;1m (exit code 0, expected 0)[0m

['a', 'b']

>> cl info -f state 0x00baae1293a5471ba3ecea8334c49a3c
[36;1m (exit code 0, expected 0)[0m

ready

>> cl info -f state,description 0x00baae1293a5471ba3ecea8334c49a3c
[36;1m (exit code 0, expected 0)[0m

ready	hello

>> cl edit 0x00baae1293a5471ba3ecea8334c49a3c --name a2.txt --tags c d e
[36;1m (exit code 0, expected 0)[0m

Saved metadata for bundle 0x00baae1293a5471ba3ecea8334c49a3c.

>> cl info -f name 0x00baae1293a5471ba3ecea8334c49a3c
[36;1m (exit code 0, expected 0)[0m

a2.txt

>> cl info -f tags 0x00baae1293a5471ba3ecea8334c49a3c
[36;1m (exit code 0, expected 0)[0m

['c', 'd', 'e']

>> cl cat 0x00baae1293a5471ba3ecea8334c49a3c
[36;1m (exit code 0, expected 0)[0m

This is a simple text file for CodaLab.
It has two lines in it.

>> cl info 0x00baae1293a5471ba3ecea8334c49a3c
[36;1m (exit code 0, expected 0)[0m

bundle_type               : dataset
uuid                      : 0x00baae1293a5471ba3ecea8334c49a3c
data_hash                 : 0x978c1ced5270553feeb1597e601578cfb7f2a689
state                     : ready
command                   : <none>
frozen                    : <none>
is_anonymous              : False
owner                     : codalab(0)
name                      : a2.txt
description               : hello
tags                      : c d e
created                   : 2022-04-30 00:45:04
data_size                 : 64

>> cl info --raw 0x00baae1293a5471ba3ecea8334c49a3c
[36;1m (exit code 0, expected 0)[0m

bundle_type               : dataset
uuid                      : 0x00baae1293a5471ba3ecea8334c49a3c
data_hash                 : 0x978c1ced5270553feeb1597e601578cfb7f2a689
state                     : ready
command                   : <none>
frozen                    : <none>
is_anonymous              : False
owner                     : codalab(0)
name                      : a2.txt
description               : hello
tags                      : ['c', 'd', 'e']
created                   : 1651279504
data_size                 : 64
failure_message           : <none>
error_traceback           : <none>
license                   : 
source_url                : 
link_url                  : 
link_format               : 
store                     : 

>> cl info --verbose 0x00baae1293a5471ba3ecea8334c49a3c
[36;1m (exit code 0, expected 0)[0m

bundle_type               : dataset
uuid                      : 0x00baae1293a5471ba3ecea8334c49a3c
data_hash                 : 0x978c1ced5270553feeb1597e601578cfb7f2a689
state                     : ready
command                   : <none>
frozen                    : <none>
is_anonymous              : False
owner                     : codalab(0)
name                      : a2.txt
description               : hello
tags                      : c d e
created                   : 2022-04-30 00:45:04
data_size                 : 64
children:
host_worksheets:
  http://rest-server:2900/worksheets/0xee0440263548458abad3359436bfabb0 (temp-test-cli-76105)
permission: all
group_permissions:
  public(0x2dd4be):read
=== contents preview ===
This is a simple text file for CodaLab.
It has two lines in it.

>> cl info -f / 0x00baae1293a5471ba3ecea8334c49a3c
[36;1m (exit code 0, expected 0)[0m

This is a simple text file for CodaLab. It has two lines in it.

>> cl rm --dry-run 0x00baae1293a5471ba3ecea8334c49a3c
[36;1m (exit code 0, expected 0)[0m

This command would permanently remove the following bundles (not doing so yet):
uuid      name    summary  owner    created              data_size  state
-------------------------------------------------------------------------
0x00baae  a2.txt           codalab  2022-04-30 00:45:04         64  ready

>> cl info -f data_hash 0x00baae1293a5471ba3ecea8334c49a3c
[36;1m (exit code 0, expected 0)[0m

0x978c1ced5270553feeb1597e601578cfb7f2a689

>> cl rm --data-only 0x00baae1293a5471ba3ecea8334c49a3c
[36;1m (exit code 0, expected 0)[0m

0x00baae1293a5471ba3ecea8334c49a3c

>> cl info -f data_hash 0x00baae1293a5471ba3ecea8334c49a3c
[36;1m (exit code 0, expected 0)[0m

None

>> cl rm 0x00baae1293a5471ba3ecea8334c49a3c
[36;1m (exit code 0, expected 0)[0m

0x00baae1293a5471ba3ecea8334c49a3c

[32;1m[*] TEST PASSED[0m

[*][*] CLEANING UP
>> cl logout
[36;1m (exit code 0, expected 0)[0m


>> cl uinfo
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 11m49s / 100y0d (0.0%)
disk           : 2.2k / 100.0g (0.0%)
parallel_run_quota: 100

>> cl work 0x23706f2903f24b8f8a643ebe09fd41c9
[36;1m (exit code 0, expected 0)[0m

Switched to worksheet: http://rest-server:2900/worksheets/0x23706f2903f24b8f8a643ebe09fd41c9 (temp-test-cli-538231)

>> cl ls -w 0xee0440263548458abad3359436bfabb0 -u
[36;1m (exit code 0, expected 0)[0m


>> cl wrm --force 0xee0440263548458abad3359436bfabb0
[36;1m (exit code 0, expected 0)[0m


>> cl uedit codalab --disk-quota 100.0g
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
is_verified    : True
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 11m49s / 100y0d (0.0%)
disk           : 2.2k / 100.0g (0.0%)
parallel_run_quota: 100

[33;1m[*][*] BEGIN MODULE: auth[0m

[*][*] SWITCHING TO TEMPORARY WORKSHEET
>> cl logout
[36;1m (exit code 0, expected 0)[0m


>> cl uinfo
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 11m49s / 100y0d (0.0%)
disk           : 2.2k / 100.0g (0.0%)
parallel_run_quota: 100

>> cl work -u
[36;1m (exit code 0, expected 0)[0m

0x23706f2903f24b8f8a643ebe09fd41c9

>> cl new temp-test-cli-80391
[36;1m (exit code 0, expected 0)[0m

0xd3b1ee798916454f8e77b582d522dbd1

>> cl work 0xd3b1ee798916454f8e77b582d522dbd1
[36;1m (exit code 0, expected 0)[0m

Switched to worksheet: http://rest-server:2900/worksheets/0xd3b1ee798916454f8e77b582d522dbd1 (temp-test-cli-80391)

>> cl uinfo -f disk
[36;1m (exit code 0, expected 0)[0m

2.2k / 100.0g (0.0%)

[*][*] BEGIN TEST
>> cl status
[36;1m (exit code 0, expected 0)[0m

codalab_home: /Users/wangjiani/wjn/Code/codalab/codalab-worksheets/var/codalab/home
session: top
client_version: 1.5.0
server_version: 1.5.0
address: http://rest-server:2900
username: codalab
current_worksheet: http://rest-server:2900/worksheets/0xd3b1ee798916454f8e77b582d522dbd1 (temp-test-cli-80391)
user: codalab(0)

>> cl logout
[36;1m (exit code 0, expected 0)[0m


>> cl status
[36;1m (exit code 0, expected 0)[0m

codalab_home: /Users/wangjiani/wjn/Code/codalab/codalab-worksheets/var/codalab/home
session: top
client_version: 1.5.0
server_version: 1.5.0
address: http://rest-server:2900
username: codalab
current_worksheet: http://rest-server:2900/worksheets/0xd3b1ee798916454f8e77b582d522dbd1 (temp-test-cli-80391)
user: codalab(0)

>> cl status
[36;1m (exit code 0, expected 0)[0m

codalab_home: /Users/wangjiani/wjn/Code/codalab/codalab-worksheets/var/codalab/home
session: top
client_version: 1.5.0
server_version: 1.5.0
address: http://rest-server:2900
username: codalab
current_worksheet: http://rest-server:2900/worksheets/0xd3b1ee798916454f8e77b582d522dbd1 (temp-test-cli-80391)
user: codalab(0)

>> cl logout
[36;1m (exit code 0, expected 0)[0m


>> cl status
/usr/local/lib/python3.6/dist-packages/azure/storage/blob/_shared/encryption.py:15: CryptographyDeprecationWarning: Python 3.6 is no longer supported by the Python core team. Therefore, support for it is deprecated in cryptography and will be removed in a future release.
  from cryptography.hazmat.backends import default_backend
WARNING:retry.api:HTTP Error 401: Unauthorized, retrying in 1 seconds...
[36;1m (exit code 1, expected 1)[0m


>> cl status
[36;1m (exit code 0, expected 0)[0m

codalab_home: /Users/wangjiani/wjn/Code/codalab/codalab-worksheets/var/codalab/home
session: top
client_version: 1.5.0
server_version: 1.5.0
address: http://rest-server:2900
username: codalab
current_worksheet: http://rest-server:2900/worksheets/0xd3b1ee798916454f8e77b582d522dbd1 (temp-test-cli-80391)
user: codalab(0)

[32;1m[*] TEST PASSED[0m

[*][*] CLEANING UP
>> cl logout
[36;1m (exit code 0, expected 0)[0m


>> cl uinfo
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 11m49s / 100y0d (0.0%)
disk           : 2.2k / 100.0g (0.0%)
parallel_run_quota: 100

>> cl work 0x23706f2903f24b8f8a643ebe09fd41c9
[36;1m (exit code 0, expected 0)[0m

Switched to worksheet: http://rest-server:2900/worksheets/0x23706f2903f24b8f8a643ebe09fd41c9 (temp-test-cli-538231)

>> cl ls -w 0xd3b1ee798916454f8e77b582d522dbd1 -u
[36;1m (exit code 0, expected 0)[0m


>> cl wrm --force 0xd3b1ee798916454f8e77b582d522dbd1
[36;1m (exit code 0, expected 0)[0m


>> cl uedit codalab --disk-quota 100.0g
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
is_verified    : True
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 11m49s / 100y0d (0.0%)
disk           : 2.2k / 100.0g (0.0%)
parallel_run_quota: 100

[33;1m[*][*] BEGIN MODULE: upload1[0m

[*][*] SWITCHING TO TEMPORARY WORKSHEET
>> cl logout
[36;1m (exit code 0, expected 0)[0m


>> cl uinfo
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 11m49s / 100y0d (0.0%)
disk           : 2.2k / 100.0g (0.0%)
parallel_run_quota: 100

>> cl work -u
[36;1m (exit code 0, expected 0)[0m

0x23706f2903f24b8f8a643ebe09fd41c9

>> cl new temp-test-cli-317294
[36;1m (exit code 0, expected 0)[0m

0x803bb6541b444987b2e2cb4f366484c8

>> cl work 0x803bb6541b444987b2e2cb4f366484c8
[36;1m (exit code 0, expected 0)[0m

Switched to worksheet: http://rest-server:2900/worksheets/0x803bb6541b444987b2e2cb4f366484c8 (temp-test-cli-317294)

>> cl uinfo -f disk
[36;1m (exit code 0, expected 0)[0m

2.2k / 100.0g (0.0%)

[*][*] BEGIN TEST
>> cl upload -c hello
[36;1m (exit code 0, expected 0)[0m

0xb2345afbdd5f409eb075b46142c7abe7

>> cl cat 0xb2345afbdd5f409eb075b46142c7abe7
[36;1m (exit code 0, expected 0)[0m

hello
>> cl upload /opt/codalab-worksheets/tests/cli/files/echo
[36;1m (exit code 0, expected 0)[0m

0xb57b498a59e640a1ae2c94917d3daf21

>> cl cat 0xb57b498a59e640a1ae2c94917d3daf21
[36;1m (exit code 0, expected 0)[0m

<binary>
>> cl upload /opt/codalab-worksheets/tests/cli/files/crazy (ain't it)
[36;1m (exit code 0, expected 0)[0m

0xe35825c30e06461bbe9b8360b92399bb

>> cl cat 0xe35825c30e06461bbe9b8360b92399bb
[36;1m (exit code 0, expected 0)[0m

This file name is so annoying.

>> cl upload /opt/codalab-worksheets/tests/cli/files/
[36;1m (exit code 0, expected 0)[0m

0x4415f66fe7c04299b82a0c137ff47321

>> cl cat 0x4415f66fe7c04299b82a0c137ff47321/passwd
[36;1m (exit code 0, expected 0)[0m

 -> /etc/passwd

>> cl upload /opt/codalab-worksheets/tests/cli/files/a-symlink.txt
[36;1m (exit code 1, expected 1)[0m


>> cl upload /opt/codalab-worksheets/tests/cli/files/a-symlink.txt --follow-symlinks
[36;1m (exit code 0, expected 0)[0m

0x79e2e16b87ba4c219110def7dc296171

>> cl cat 0x79e2e16b87ba4c219110def7dc296171
[36;1m (exit code 0, expected 0)[0m

This is a simple text file for CodaLab.
It has two lines in it.

>> cl cat 0x79e2e16b87ba4c219110def7dc296171
[36;1m (exit code 0, expected 0)[0m

This is a simple text file for CodaLab.
It has two lines in it.

>> cl upload /opt/codalab-worksheets/tests/cli/files/broken-symlink --follow-symlinks
[36;1m (exit code 1, expected 1)[0m


>> cl upload /opt/codalab-worksheets/tests/cli/files/dir1 --exclude-patterns f*
[36;1m (exit code 0, expected 0)[0m

0xd1c3c86a729647508b3f7aaa50490610

>> cl cat 0xd1c3c86a729647508b3f7aaa50490610
[36;1m (exit code 0, expected 0)[0m

name                               perm   size
----------------------------------------------
broken-symlink -> /broken-symlink  0o755  link
g1                                 0o644     0

>> cl upload /opt/codalab-worksheets/tests/cli/files/dir1 /opt/codalab-worksheets/tests/cli/files/echo /opt/codalab-worksheets/tests/cli/files/crazy (ain't it) --exclude-patterns f*
[36;1m (exit code 0, expected 0)[0m

0x7154148cefe7428e8b407dd2587a1726

>> cl cat 0x7154148cefe7428e8b407dd2587a1726
[36;1m (exit code 0, expected 0)[0m

name              perm    size
------------------------------
crazy (ain't it)  0o644     31
dir1              0o755    dir
echo              0o755  30.6k

>> cl cat 0x7154148cefe7428e8b407dd2587a1726/dir1
[36;1m (exit code 0, expected 0)[0m

name                               perm   size
----------------------------------------------
broken-symlink -> /broken-symlink  0o755  link
g1                                 0o644     0

>> cl upload /opt/codalab-worksheets/tests/cli/files/dir2
[36;1m (exit code 0, expected 0)[0m

0x30be3b9114f94070a849e15784562d03

>> cl cat 0x30be3b9114f94070a849e15784562d03
[36;1m (exit code 0, expected 0)[0m

name           perm   size
--------------------------
the-only-file  0o644   140

>> cl uedit codalab --disk-quota 2
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
is_verified    : True
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 11m49s / 100y0d (0.0%)
disk           : 107k / 2 (5504350.0%)
parallel_run_quota: 100

>> cl upload /opt/codalab-worksheets/tests/cli/files/codalab.png
[36;1m (exit code 1, expected 1)[0m

Traceback (most recent call last):
  File "/opt/codalab-worksheets/scripts/test_util.py", line 116, in run_command
    cli.do_command(args[1:])
  File "/opt/codalab-worksheets/codalab/lib/bundle_cli.py", line 956, in do_command
    structured_result = command_fn()
  File "/opt/codalab-worksheets/codalab/lib/bundle_cli.py", line 950, in <lambda>
    command_fn = lambda: args.function(self, args)
  File "/opt/codalab-worksheets/codalab/lib/bundle_cli.py", line 1444, in do_upload_command
    % (formatting.size_str(total_bundle_size), formatting.size_str(disk_left))
codalab.common.DiskQuotaExceededError: Attempted to upload bundle of size 10.0k with only -110085 remaining in user's disk quota.

>> cl uedit codalab --disk-quota 100.0g
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
is_verified    : True
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 11m49s / 100y0d (0.0%)
disk           : 107k / 100.0g (0.0%)
parallel_run_quota: 100

>> cl logout
[36;1m (exit code 0, expected 0)[0m


>> cl uinfo
[36;1m (exit code 0, expected 0)[0m

id             : non_root_user_temp-test-cli-671671
user_name      : non_root_user_temp-test-cli-671671
has_access     : False
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Sat Apr 30 00:45:11 2022
last_login     : None
email          : temp-test-cli-921210
time           : 0.0s / 100y0d (0.0%)
disk           : 0 / 2.0k (0.0%)
parallel_run_quota: 100

>> cl upload /opt/codalab-worksheets/tests/cli/files/codalab.png
[36;1m (exit code 1, expected 1)[0m

/usr/local/lib/python3.6/dist-packages/azure/storage/blob/_shared/encryption.py:15: CryptographyDeprecationWarning: Python 3.6 is no longer supported by the Python core team. Therefore, support for it is deprecated in cryptography and will be removed in a future release.
  from cryptography.hazmat.backends import default_backend
Traceback (most recent call last):
  File "/usr/local/bin/cl", line 33, in <module>
    sys.exit(load_entry_point('codalab', 'console_scripts', 'cl')())
  File "/opt/codalab-worksheets/codalab/bin/cl.py", line 10, in main
    cli.do_command(sys.argv[1:])
  File "/opt/codalab-worksheets/codalab/lib/bundle_cli.py", line 956, in do_command
    structured_result = command_fn()
  File "/opt/codalab-worksheets/codalab/lib/bundle_cli.py", line 950, in <lambda>
    command_fn = lambda: args.function(self, args)
  File "/opt/codalab-worksheets/codalab/lib/bundle_cli.py", line 1444, in do_upload_command
    % (formatting.size_str(total_bundle_size), formatting.size_str(disk_left))
codalab.common.DiskQuotaExceededError: Attempted to upload bundle of size 10.0k with only 2.0k remaining in user's disk quota.

>> cl logout
[36;1m (exit code 0, expected 0)[0m


>> cl uinfo
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 11m49s / 100y0d (0.0%)
disk           : 107k / 100.0g (0.0%)
parallel_run_quota: 100

[32;1m[*] TEST PASSED[0m

[*][*] CLEANING UP
>> cl logout
[36;1m (exit code 0, expected 0)[0m


>> cl uinfo
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 11m49s / 100y0d (0.0%)
disk           : 107k / 100.0g (0.0%)
parallel_run_quota: 100

>> cl work 0x23706f2903f24b8f8a643ebe09fd41c9
[36;1m (exit code 0, expected 0)[0m

Switched to worksheet: http://rest-server:2900/worksheets/0x23706f2903f24b8f8a643ebe09fd41c9 (temp-test-cli-538231)

>> cl ls -w 0x803bb6541b444987b2e2cb4f366484c8 -u
[36;1m (exit code 0, expected 0)[0m

0xb2345afbdd5f409eb075b46142c7abe7
0xb57b498a59e640a1ae2c94917d3daf21
0xe35825c30e06461bbe9b8360b92399bb
0x4415f66fe7c04299b82a0c137ff47321
0x79e2e16b87ba4c219110def7dc296171
0xd1c3c86a729647508b3f7aaa50490610
0x7154148cefe7428e8b407dd2587a1726
0x30be3b9114f94070a849e15784562d03

>> cl wrm --force 0x803bb6541b444987b2e2cb4f366484c8
[36;1m (exit code 0, expected 0)[0m


>> cl info -f state 0x7154148cefe7428e8b407dd2587a1726
[36;1m (exit code 0, expected 0)[0m

ready

>> cl rm --force 0x7154148cefe7428e8b407dd2587a1726
[36;1m (exit code 0, expected 0)[0m

0x7154148cefe7428e8b407dd2587a1726

>> cl info -f state 0xb57b498a59e640a1ae2c94917d3daf21
[36;1m (exit code 0, expected 0)[0m

ready

>> cl rm --force 0xb57b498a59e640a1ae2c94917d3daf21
[36;1m (exit code 0, expected 0)[0m

0xb57b498a59e640a1ae2c94917d3daf21

>> cl info -f state 0xb2345afbdd5f409eb075b46142c7abe7
[36;1m (exit code 0, expected 0)[0m

ready

>> cl rm --force 0xb2345afbdd5f409eb075b46142c7abe7
[36;1m (exit code 0, expected 0)[0m

0xb2345afbdd5f409eb075b46142c7abe7

>> cl info -f state 0x79e2e16b87ba4c219110def7dc296171
[36;1m (exit code 0, expected 0)[0m

ready

>> cl rm --force 0x79e2e16b87ba4c219110def7dc296171
[36;1m (exit code 0, expected 0)[0m

0x79e2e16b87ba4c219110def7dc296171

>> cl info -f state 0x4415f66fe7c04299b82a0c137ff47321
[36;1m (exit code 0, expected 0)[0m

ready

>> cl rm --force 0x4415f66fe7c04299b82a0c137ff47321
[36;1m (exit code 0, expected 0)[0m

0x4415f66fe7c04299b82a0c137ff47321

>> cl info -f state 0xd1c3c86a729647508b3f7aaa50490610
[36;1m (exit code 0, expected 0)[0m

ready

>> cl rm --force 0xd1c3c86a729647508b3f7aaa50490610
[36;1m (exit code 0, expected 0)[0m

0xd1c3c86a729647508b3f7aaa50490610

>> cl info -f state 0x30be3b9114f94070a849e15784562d03
[36;1m (exit code 0, expected 0)[0m

ready

>> cl rm --force 0x30be3b9114f94070a849e15784562d03
[36;1m (exit code 0, expected 0)[0m

0x30be3b9114f94070a849e15784562d03

>> cl info -f state 0xe35825c30e06461bbe9b8360b92399bb
[36;1m (exit code 0, expected 0)[0m

ready

>> cl rm --force 0xe35825c30e06461bbe9b8360b92399bb
[36;1m (exit code 0, expected 0)[0m

0xe35825c30e06461bbe9b8360b92399bb

>> cl uedit codalab --disk-quota 100.0g
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
is_verified    : True
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 11m49s / 100y0d (0.0%)
disk           : 2.2k / 100.0g (0.0%)
parallel_run_quota: 100

[33;1m[*][*] BEGIN MODULE: upload2[0m

[33;1m[*][*] DESCRIPTION: Additional upload tests. Also checks to make sure the REST API /contents/blob/ endpoint
    has the right headers, so that the browser can properly transparently decompress the data if needed.[0m

[*][*] SWITCHING TO TEMPORARY WORKSHEET
>> cl logout
[36;1m (exit code 0, expected 0)[0m


>> cl uinfo
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 11m49s / 100y0d (0.0%)
disk           : 2.2k / 100.0g (0.0%)
parallel_run_quota: 100

>> cl work -u
[36;1m (exit code 0, expected 0)[0m

0x23706f2903f24b8f8a643ebe09fd41c9

>> cl new temp-test-cli-223886
[36;1m (exit code 0, expected 0)[0m

0x4ac8da0433874301b0060b2a3789f75e

>> cl work 0x4ac8da0433874301b0060b2a3789f75e
[36;1m (exit code 0, expected 0)[0m

Switched to worksheet: http://rest-server:2900/worksheets/0x4ac8da0433874301b0060b2a3789f75e (temp-test-cli-223886)

>> cl uinfo -f disk
[36;1m (exit code 0, expected 0)[0m

2.2k / 100.0g (0.0%)

[*][*] BEGIN TEST
>> tar cfz /tmp/temp-test-cli-729591.tar.gz -C /opt/codalab-worksheets/tests/cli/files dir1
[36;1m (exit code 0, expected 0)[0m


>> cl upload /tmp/temp-test-cli-729591.tar.gz
[36;1m (exit code 0, expected 0)[0m

0x3d926efc060b4b51b8a9228e0cc2be2c

>> cl info -f name 0x3d926efc060b4b51b8a9228e0cc2be2c
[36;1m (exit code 0, expected 0)[0m

temp-test-cli-729591

>> cl cat 0x3d926efc060b4b51b8a9228e0cc2be2c/dir1/f1
[36;1m (exit code 0, expected 0)[0m

first file

>> cl upload /tmp/temp-test-cli-729591.tar.gz --pack
[36;1m (exit code 0, expected 0)[0m

0x9b803a052e6b43bebadcaa2c940b2dfd

>> cl info -f name 0x9b803a052e6b43bebadcaa2c940b2dfd
[36;1m (exit code 0, expected 0)[0m

temp-test-cli-729591.tar.gz

>> cl cat 0x9b803a052e6b43bebadcaa2c940b2dfd
[36;1m (exit code 0, expected 0)[0m

<binary>
>> cl upload /opt/codalab-worksheets/tests/cli/files/echo --force-compression
[36;1m (exit code 0, expected 0)[0m

0x2c08ef2983a44839b36ab0c6c15868c6

>> cl info -f name 0x2c08ef2983a44839b36ab0c6c15868c6
[36;1m (exit code 0, expected 0)[0m

echo

>> cl cat 0x2c08ef2983a44839b36ab0c6c15868c6
[36;1m (exit code 0, expected 0)[0m

<binary>
>> bash -c cd /opt/codalab-worksheets/tests/cli/files && zip -r /tmp/temp-test-cli-434721.zip dir1
[36;1m (exit code 0, expected 0)[0m

	zip warning: name not matched: dir1/broken-symlink
  adding: dir1/ (stored 0%)
  adding: dir1/f1 (stored 0%)
  adding: dir1/f2 (stored 0%)
  adding: dir1/f3 (stored 0%)
  adding: dir1/g1 (stored 0%)

>> cl upload /tmp/temp-test-cli-434721.zip
[36;1m (exit code 0, expected 0)[0m

0x206ab1eb1d664533a21a5ecf4b6e72d0

>> cl info -f name 0x206ab1eb1d664533a21a5ecf4b6e72d0
[36;1m (exit code 0, expected 0)[0m

temp-test-cli-434721

>> cl cat 0x206ab1eb1d664533a21a5ecf4b6e72d0/dir1/f1
[36;1m (exit code 0, expected 0)[0m

first file

>> cl upload /tmp/temp-test-cli-434721.zip --pack
[36;1m (exit code 0, expected 0)[0m

0x9d67afe9f7664ff3911e8db77d882dbb

>> cl info -f name 0x9d67afe9f7664ff3911e8db77d882dbb
[36;1m (exit code 0, expected 0)[0m

temp-test-cli-434721.zip

>> cl cat 0x9d67afe9f7664ff3911e8db77d882dbb
[36;1m (exit code 0, expected 0)[0m

<binary>
>> cl upload /opt/codalab-worksheets/tests/cli/files/echo --force-compression
[36;1m (exit code 0, expected 0)[0m

0x079a2370d7744c27828fbd0595943db4

>> cl info -f name 0x079a2370d7744c27828fbd0595943db4
[36;1m (exit code 0, expected 0)[0m

echo

>> cl cat 0x079a2370d7744c27828fbd0595943db4
[36;1m (exit code 0, expected 0)[0m

<binary>
[32;1m[*] TEST PASSED[0m

[*][*] CLEANING UP
>> cl logout
[36;1m (exit code 0, expected 0)[0m


>> cl uinfo
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 11m49s / 100y0d (0.0%)
disk           : 65.0k / 100.0g (0.0%)
parallel_run_quota: 100

>> cl work 0x23706f2903f24b8f8a643ebe09fd41c9
[36;1m (exit code 0, expected 0)[0m

Switched to worksheet: http://rest-server:2900/worksheets/0x23706f2903f24b8f8a643ebe09fd41c9 (temp-test-cli-538231)

>> cl ls -w 0x4ac8da0433874301b0060b2a3789f75e -u
[36;1m (exit code 0, expected 0)[0m

0x3d926efc060b4b51b8a9228e0cc2be2c
0x9b803a052e6b43bebadcaa2c940b2dfd
0x2c08ef2983a44839b36ab0c6c15868c6
0x206ab1eb1d664533a21a5ecf4b6e72d0
0x9d67afe9f7664ff3911e8db77d882dbb
0x079a2370d7744c27828fbd0595943db4

>> cl wrm --force 0x4ac8da0433874301b0060b2a3789f75e
[36;1m (exit code 0, expected 0)[0m


>> cl info -f state 0x2c08ef2983a44839b36ab0c6c15868c6
[36;1m (exit code 0, expected 0)[0m

ready

>> cl rm --force 0x2c08ef2983a44839b36ab0c6c15868c6
[36;1m (exit code 0, expected 0)[0m

0x2c08ef2983a44839b36ab0c6c15868c6

>> cl info -f state 0x079a2370d7744c27828fbd0595943db4
[36;1m (exit code 0, expected 0)[0m

ready

>> cl rm --force 0x079a2370d7744c27828fbd0595943db4
[36;1m (exit code 0, expected 0)[0m

0x079a2370d7744c27828fbd0595943db4

>> cl info -f state 0x9b803a052e6b43bebadcaa2c940b2dfd
[36;1m (exit code 0, expected 0)[0m

ready

>> cl rm --force 0x9b803a052e6b43bebadcaa2c940b2dfd
[36;1m (exit code 0, expected 0)[0m

0x9b803a052e6b43bebadcaa2c940b2dfd

>> cl info -f state 0x206ab1eb1d664533a21a5ecf4b6e72d0
[36;1m (exit code 0, expected 0)[0m

ready

>> cl rm --force 0x206ab1eb1d664533a21a5ecf4b6e72d0
[36;1m (exit code 0, expected 0)[0m

0x206ab1eb1d664533a21a5ecf4b6e72d0

>> cl info -f state 0x3d926efc060b4b51b8a9228e0cc2be2c
[36;1m (exit code 0, expected 0)[0m

ready

>> cl rm --force 0x3d926efc060b4b51b8a9228e0cc2be2c
[36;1m (exit code 0, expected 0)[0m

0x3d926efc060b4b51b8a9228e0cc2be2c

>> cl info -f state 0x9d67afe9f7664ff3911e8db77d882dbb
[36;1m (exit code 0, expected 0)[0m

ready

>> cl rm --force 0x9d67afe9f7664ff3911e8db77d882dbb
[36;1m (exit code 0, expected 0)[0m

0x9d67afe9f7664ff3911e8db77d882dbb

>> cl uedit codalab --disk-quota 100.0g
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
is_verified    : True
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 11m49s / 100y0d (0.0%)
disk           : 2.2k / 100.0g (0.0%)
parallel_run_quota: 100

[33;1m[*][*] BEGIN MODULE: upload3[0m

[*][*] SWITCHING TO TEMPORARY WORKSHEET
>> cl logout
[36;1m (exit code 0, expected 0)[0m


>> cl uinfo
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 11m49s / 100y0d (0.0%)
disk           : 2.2k / 100.0g (0.0%)
parallel_run_quota: 100

>> cl work -u
[36;1m (exit code 0, expected 0)[0m

0x23706f2903f24b8f8a643ebe09fd41c9

>> cl new temp-test-cli-591985
[36;1m (exit code 0, expected 0)[0m

0x8c94592b06e946179991fb4309dcf4bb

>> cl work 0x8c94592b06e946179991fb4309dcf4bb
[36;1m (exit code 0, expected 0)[0m

Switched to worksheet: http://rest-server:2900/worksheets/0x8c94592b06e946179991fb4309dcf4bb (temp-test-cli-591985)

>> cl uinfo -f disk
[36;1m (exit code 0, expected 0)[0m

2.2k / 100.0g (0.0%)

[*][*] BEGIN TEST
>> cl store add --name temp-test-cli-153667 --storage-type disk --storage-format uncompressed
[36;1m (exit code 0, expected 0)[0m

0x7c3a10612e5a4b92b48c7c4a0b2aa31a

>> cl store add --name temp-test-cli-153667 --storage-type disk --storage-format uncompressed
WARNING:retry.api:HTTP Error 500: Internal Server Error, retrying in 1 seconds...
[36;1m (exit code 1, expected 1)[0m

Traceback (most recent call last):
  File "/opt/codalab-worksheets/codalab/client/json_api_client.py", line 18, in wrapper
    return f(*args, **kwargs)
  File "/opt/codalab-worksheets/codalab/client/json_api_client.py", line 466, in create
    data=self._pack_document(data if isinstance(data, list) else [data], resource_type),
  File "/opt/codalab-worksheets/codalab/worker/rest_client.py", line 108, in _make_request
    with closing(urlopen_with_retry(request, timeout=timeout_seconds)) as response:
  File "/usr/local/lib/python3.6/dist-packages/decorator.py", line 232, in fun
    return caller(func, *(extras + args), **kw)
  File "/usr/local/lib/python3.6/dist-packages/retry/api.py", line 74, in retry_decorator
    logger)
  File "/usr/local/lib/python3.6/dist-packages/retry/api.py", line 33, in __retry_internal
    return f()
  File "/opt/codalab-worksheets/codalab/common.py", line 169, in urlopen_with_retry
    return urllib.request.urlopen(request, timeout=timeout)
  File "/usr/lib/python3.6/urllib/request.py", line 223, in urlopen
    return opener.open(url, data, timeout)
  File "/usr/lib/python3.6/urllib/request.py", line 532, in open
    response = meth(req, response)
  File "/usr/lib/python3.6/urllib/request.py", line 642, in http_response
    'http', request, response, code, msg, hdrs)
  File "/usr/lib/python3.6/urllib/request.py", line 570, in error
    return self._call_chain(*args)
  File "/usr/lib/python3.6/urllib/request.py", line 504, in _call_chain
    result = func(*args)
  File "/usr/lib/python3.6/urllib/request.py", line 650, in http_error_default
    raise HTTPError(req.full_url, code, msg, hdrs, fp)
urllib.error.HTTPError: HTTP Error 500: Internal Server Error

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/codalab-worksheets/scripts/test_util.py", line 116, in run_command
    cli.do_command(args[1:])
  File "/opt/codalab-worksheets/codalab/lib/bundle_cli.py", line 956, in do_command
    structured_result = command_fn()
  File "/opt/codalab-worksheets/codalab/lib/bundle_cli.py", line 950, in <lambda>
    command_fn = lambda: args.function(self, args)
  File "/opt/codalab-worksheets/codalab/lib/bundle_cli.py", line 1066, in do_store_command
    new_bundle_store = client.create('bundle_stores', bundle_store_info)
  File "/opt/codalab-worksheets/codalab/client/json_api_client.py", line 38, in wrapper
    sys.exc_info()[2],
  File "/usr/local/lib/python3.6/dist-packages/six.py", line 702, in reraise
    raise value.with_traceback(tb)
  File "/opt/codalab-worksheets/codalab/client/json_api_client.py", line 18, in wrapper
    return f(*args, **kwargs)
  File "/opt/codalab-worksheets/codalab/client/json_api_client.py", line 466, in create
    data=self._pack_document(data if isinstance(data, list) else [data], resource_type),
  File "/opt/codalab-worksheets/codalab/worker/rest_client.py", line 108, in _make_request
    with closing(urlopen_with_retry(request, timeout=timeout_seconds)) as response:
  File "/usr/local/lib/python3.6/dist-packages/decorator.py", line 232, in fun
    return caller(func, *(extras + args), **kw)
  File "/usr/local/lib/python3.6/dist-packages/retry/api.py", line 74, in retry_decorator
    logger)
  File "/usr/local/lib/python3.6/dist-packages/retry/api.py", line 33, in __retry_internal
    return f()
  File "/opt/codalab-worksheets/codalab/common.py", line 169, in urlopen_with_retry
    return urllib.request.urlopen(request, timeout=timeout)
  File "/usr/lib/python3.6/urllib/request.py", line 223, in urlopen
    return opener.open(url, data, timeout)
  File "/usr/lib/python3.6/urllib/request.py", line 532, in open
    response = meth(req, response)
  File "/usr/lib/python3.6/urllib/request.py", line 642, in http_response
    'http', request, response, code, msg, hdrs)
  File "/usr/lib/python3.6/urllib/request.py", line 570, in error
    return self._call_chain(*args)
  File "/usr/lib/python3.6/urllib/request.py", line 504, in _call_chain
    result = func(*args)
  File "/usr/lib/python3.6/urllib/request.py", lin (...more...)
>> cl run --request-docker-image python:3.6.10-slim-buster --request-disk 1m --request-memory 10m echo hello --store temp-test-cli-153667
[36;1m (exit code 0, expected 0)[0m

0xd8c9587ccaf44bc98e90bb84a9372f48

>> cl store ls
[36;1m (exit code 0, expected 0)[0m

id                                  name                  storage_type  storage_format
--------------------------------------------------------------------------------------
0xbe5e65368b2043ce8cf127d18e69bcb7  gcp                   disk          uncompressed  
0x5558998a65fe40258c1aa820d16f88f3  gcp-test              gcs           compressed_v1 
0xd374538527c14f32af81422187ff74de  temp-test-cli-144473  disk          uncompressed  
0x7c3a10612e5a4b92b48c7c4a0b2aa31a  temp-test-cli-153667  disk          uncompressed  

>> cl upload -c hello --store temp-test-cli-153667
[36;1m (exit code 0, expected 0)[0m

0x7948d2052ea0482884f9a5c4df37fc2f

>> cl cat 0x7948d2052ea0482884f9a5c4df37fc2f
[36;1m (exit code 0, expected 0)[0m

hello
>> cl info 0x7948d2052ea0482884f9a5c4df37fc2f
[36;1m (exit code 0, expected 0)[0m

bundle_type               : dataset
uuid                      : 0x7948d2052ea0482884f9a5c4df37fc2f
data_hash                 : 0xca2c3dd5ea5467a4d1f386ed421b0ca6e7ec8286
state                     : ready
command                   : <none>
frozen                    : <none>
is_anonymous              : False
owner                     : codalab(0)
name                      : _
created                   : 2022-04-30 00:45:24
data_size                 : 5
store                     : temp-test-cli-153667
bundle stores             : temp-test-cli-153667

>> cl wait 0xd8c9587ccaf44bc98e90bb84a9372f48
[36;1m (exit code 0, expected 0)[0m

0xd8c9587ccaf44bc98e90bb84a9372f48

>> cl cat 0xd8c9587ccaf44bc98e90bb84a9372f48/stdout
[36;1m (exit code 0, expected 0)[0m

hello

>> cl rm 0x7948d2052ea0482884f9a5c4df37fc2f
[36;1m (exit code 0, expected 0)[0m

0x7948d2052ea0482884f9a5c4df37fc2f

>> cl rm 0xd8c9587ccaf44bc98e90bb84a9372f48
[36;1m (exit code 0, expected 0)[0m

0xd8c9587ccaf44bc98e90bb84a9372f48

>> cl store rm 0x7c3a10612e5a4b92b48c7c4a0b2aa31a
[36;1m (exit code 0, expected 0)[0m

0x7c3a10612e5a4b92b48c7c4a0b2aa31a

>> cl store ls
[36;1m (exit code 0, expected 0)[0m

id                                  name                  storage_type  storage_format
--------------------------------------------------------------------------------------
0xbe5e65368b2043ce8cf127d18e69bcb7  gcp                   disk          uncompressed  
0x5558998a65fe40258c1aa820d16f88f3  gcp-test              gcs           compressed_v1 
0xd374538527c14f32af81422187ff74de  temp-test-cli-144473  disk          uncompressed  

>> cl upload https://www.wikipedia.org
[36;1m (exit code 0, expected 0)[0m

0x74ed4a8b64e643a7a71ca7aec4f4693f

>> cl cat 0x74ed4a8b64e643a7a71ca7aec4f4693f
[36;1m (exit code 0, expected 0)[0m

<!DOCTYPE html>
<html lang="en" class="no-js">
<head>
<meta charset="utf-8">
<title>Wikipedia</title>
<meta name="description" content="Wikipedia is a free online encyclopedia, created and edited by volunteers around the world and hosted by the Wikimedia Foundation.">
<script>
document.documentElement.className = document.documentElement.className.replace( /(^|\s)no-js(\s|$)/, "$1js-enabled$2" );
</script>
<meta name="viewport" content="initial-scale=1,user-scalable=yes">
<link rel="apple-touch-icon" href="/static/apple-touch/wikipedia.png">
<link rel="shortcut icon" href="/static/favicon/wikipedia.ico">
<link rel="license" href="//creativecommons.org/licenses/by-sa/3.0/">
<style>
.sprite{background-image:linear-gradient(transparent,transparent),url(portal/wikipedia.org/assets/img/sprite-e99844f6.svg);background-repeat:no-repeat;display:inline-block;vertical-align:middle}.svg-Commons-logo_sister{background-position:0 0;width:47px;height:47px}.svg-MediaWiki-logo_sister{background-position:0 -47px;width:42px;height:42px}.svg-Meta-Wiki-logo_sister{background-position:0 -89px;width:37px;height:37px}.svg-Wikibooks-logo_sister{background-position:0 -126px;width:37px;height:37px}.svg-Wikidata-logo_sister{background-position:0 -163px;width:49px;height:49px}.svg-Wikimedia-logo_black{background-position:0 -212px;width:42px;height:42px}.svg-Wikipedia_wordmark{background-position:0 -254px;width:176px;height:32px}.svg-Wikiquote-logo_sister{background-position:0 -286px;width:42px;height:42px}.svg-Wikisource-logo_sister{background-position:0 -328px;width:39px;height:39px}.svg-Wikispecies-logo_sister{background-position:0 -367px;width:42px;height:42px}.svg-Wikiversity-logo_sister{background-position:0 -409px;width:43px;height:37px}.svg-Wikivoyage-logo_sister{background-position:0 -446px;width:36px;height:36px}.svg-Wiktionary-logo_sister{background-position:0 -482px;width:37px;height:37px}.svg-arrow-down{background-position:0 -519px;width:12px;height:8px}.svg-arrow-down-blue{background-position:0 -527px;width:14px;height:14px}.svg-badge_google_play_store{background-position:0 -541px;width:124px;height:38px}.svg-badge_ios_app_store{background-position:0 -579px;width:110px;height:38px}.svg-language-icon{background-position:0 -617px;width:22px;height:22px}.svg-noimage{background-position:0 -639px;width:58px;height:58px}.svg-search-icon{background-position:0 -697px;width:22px;height:22px}.svg-wikipedia_app_tile{background-position:0 -719px;width:42px;height:42px}
</style>
<style>
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;font-size:62.5%}body{margin:0}article,aside,details,figcaption,figure,footer,header,hgroup,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block;vertical-align:baseline}audio:not([controls]){display:none;height:0}[hidden],template{display:none}a{background-color:transparent}a:active,a:hover{outline:0}abbr[title]{border-bottom:1px dotted}b,strong{font-weight:700}dfn{font-style:italic}h1{font-size:32px;font-size:3.2rem;margin:1.2rem 0}mark{background:#fc3;color:#000}small{font-size:13px;font-size:1.3rem}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sup{top:-.5em}sub{bottom:-.25em}svg:not(:root){overflow:hidden}figure{margin:1.6rem 4rem}hr{-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box}pre{overflow:auto}code,kbd,pre,samp{font-family:monospace,monospace;font-size:14px;font-size:1.4rem}button,input,optgroup,select,textarea{color:inherit;font:inherit;margin:0}button{overflow:visible}button,select{text-transform:none}button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}button[disabled],html input[disabled]{cursor:default}button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}input{line-height:normal}input[type=checkbox],input[type=radio]{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;padding:0}input[type=number]::-webkit-inner-spin-button,input[type=number]::-webkit-outer-spin-button{hei (...more...)
>> cl upload http://alpha.gnu.org/gnu/bc/bc-1.06.95.tar.bz2
[36;1m (exit code 0, expected 0)[0m

0x563a865683e34f34826468644a6af47c

>> cl cat 0x563a865683e34f34826468644a6af47c
[36;1m (exit code 0, expected 0)[0m

name        perm   size
-----------------------
bc-1.06.95  0o777   dir

>> cl upload http://alpha.gnu.org/gnu/bc/bc-1.06.95.tar.bz2?a=b
[36;1m (exit code 0, expected 0)[0m

0xbefae1bbe38547489cb5e5ffebb7f464

>> cl cat 0xbefae1bbe38547489cb5e5ffebb7f464
[36;1m (exit code 0, expected 0)[0m

name        perm   size
-----------------------
bc-1.06.95  0o777   dir

>> cl upload https://github.com/codalab/codalab-worksheets --git
[36;1m (exit code 0, expected 0)[0m

0xb33baa8227cf41248055f2ee7664daee

>> cl cat 0xb33baa8227cf41248055f2ee7664daee
[36;1m (exit code 0, expected 0)[0m

name                         perm    size
-----------------------------------------
.dockerignore -> .gitignore  0o755   link
.git                         0o755    dir
.github                      0o755    dir
.gitignore                   0o644    484
.mergify.yml                 0o644    364
LICENSE.txt                  0o644    568
MANIFEST.in                  0o644     70
README.md                    0o644    969
SECURITY.md                  0o644    593
alembic                      0o755    dir
alembic.ini                  0o644   1.1k
codalab                      0o755    dir
codalab_service.py           0o755  37.4k
docker_config                0o755    dir
docs                         0o755    dir
frontend                     0o755    dir
mkdocs.yml                   0o644   1.4k
monitor.py                   0o644  11.5k
pre-commit.sh                0o755    918
pyproject.toml               0o644    282
rc                           0o644   1.1k
requirements-server.txt      0o644    464
requirements.dev.txt         0o644     40
requirements.docs.txt        0o644     65
requirements.txt             0o644    602
scripts                      0o755    dir
setup-frontend.js            0o644    477
setup.cfg                    0o644   2.3k
setup.py                     0o644   3.7k
test_runner.py               0o644   5.5k
tests                        0o755    dir
views                        0o755    dir

>> cl upload https://www.wikipedia.org https://www.wikipedia.org
[36;1m (exit code 1, expected 1)[0m


[32;1m[*] TEST PASSED[0m

[*][*] CLEANING UP
>> cl logout
[36;1m (exit code 0, expected 0)[0m


>> cl uinfo
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 11m49s / 100y0d (0.0%)
disk           : 20.1m / 100.0g (0.0%)
parallel_run_quota: 100

>> cl work 0x23706f2903f24b8f8a643ebe09fd41c9
[36;1m (exit code 0, expected 0)[0m

Switched to worksheet: http://rest-server:2900/worksheets/0x23706f2903f24b8f8a643ebe09fd41c9 (temp-test-cli-538231)

>> cl ls -w 0x8c94592b06e946179991fb4309dcf4bb -u
[36;1m (exit code 0, expected 0)[0m

0x74ed4a8b64e643a7a71ca7aec4f4693f
0x563a865683e34f34826468644a6af47c
0xbefae1bbe38547489cb5e5ffebb7f464
0xb33baa8227cf41248055f2ee7664daee

>> cl wrm --force 0x8c94592b06e946179991fb4309dcf4bb
[36;1m (exit code 0, expected 0)[0m


>> cl info -f state 0x74ed4a8b64e643a7a71ca7aec4f4693f
[36;1m (exit code 0, expected 0)[0m

ready

>> cl rm --force 0x74ed4a8b64e643a7a71ca7aec4f4693f
[36;1m (exit code 0, expected 0)[0m

0x74ed4a8b64e643a7a71ca7aec4f4693f

>> cl info -f state 0x563a865683e34f34826468644a6af47c
[36;1m (exit code 0, expected 0)[0m

ready

>> cl rm --force 0x563a865683e34f34826468644a6af47c
[36;1m (exit code 0, expected 0)[0m

0x563a865683e34f34826468644a6af47c

>> cl info -f state 0xb33baa8227cf41248055f2ee7664daee
[36;1m (exit code 0, expected 0)[0m

ready

>> cl rm --force 0xb33baa8227cf41248055f2ee7664daee
[36;1m (exit code 0, expected 0)[0m

0xb33baa8227cf41248055f2ee7664daee

>> cl info -f state 0xbefae1bbe38547489cb5e5ffebb7f464
[36;1m (exit code 0, expected 0)[0m

ready

>> cl rm --force 0xbefae1bbe38547489cb5e5ffebb7f464
[36;1m (exit code 0, expected 0)[0m

0xbefae1bbe38547489cb5e5ffebb7f464

>> cl uedit codalab --disk-quota 100.0g
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
is_verified    : True
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 11m49s / 100y0d (0.0%)
disk           : 2.2k / 100.0g (0.0%)
parallel_run_quota: 100

[33;1m[*][*] BEGIN MODULE: upload4[0m

[*][*] SWITCHING TO TEMPORARY WORKSHEET
>> cl logout
[36;1m (exit code 0, expected 0)[0m


>> cl uinfo
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 11m49s / 100y0d (0.0%)
disk           : 2.2k / 100.0g (0.0%)
parallel_run_quota: 100

>> cl work -u
[36;1m (exit code 0, expected 0)[0m

0x23706f2903f24b8f8a643ebe09fd41c9

>> cl new temp-test-cli-727553
[36;1m (exit code 0, expected 0)[0m

0x41c667c3eb404b618ec6221246664957

>> cl work 0x41c667c3eb404b618ec6221246664957
[36;1m (exit code 0, expected 0)[0m

Switched to worksheet: http://rest-server:2900/worksheets/0x41c667c3eb404b618ec6221246664957 (temp-test-cli-727553)

>> cl uinfo -f disk
[36;1m (exit code 0, expected 0)[0m

2.2k / 100.0g (0.0%)

[*][*] BEGIN TEST
>> tar cfz /tmp/temp-test-cli-440382.tar.gz -C /opt/codalab-worksheets/tests/cli/files dir1
[36;1m (exit code 0, expected 0)[0m


>> tar cfz /tmp/temp-test-cli-440895.tar.gz -C /opt/codalab-worksheets/tests/cli/files a.txt
[36;1m (exit code 0, expected 0)[0m


>> cl upload /tmp/temp-test-cli-440382.tar.gz /tmp/temp-test-cli-440895.tar.gz
[36;1m (exit code 0, expected 0)[0m

0x75a97672aad14300a30a664bf38b57b4

>> cl cat 0x75a97672aad14300a30a664bf38b57b4
[36;1m (exit code 0, expected 0)[0m

name                         perm   size
----------------------------------------
temp-test-cli-440382.tar.gz  0o644   241
temp-test-cli-440895.tar.gz  0o644   176

[32;1m[*] TEST PASSED[0m

[*][*] CLEANING UP
>> cl logout
[36;1m (exit code 0, expected 0)[0m


>> cl uinfo
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 11m49s / 100y0d (0.0%)
disk           : 2.8k / 100.0g (0.0%)
parallel_run_quota: 100

>> cl work 0x23706f2903f24b8f8a643ebe09fd41c9
[36;1m (exit code 0, expected 0)[0m

Switched to worksheet: http://rest-server:2900/worksheets/0x23706f2903f24b8f8a643ebe09fd41c9 (temp-test-cli-538231)

>> cl ls -w 0x41c667c3eb404b618ec6221246664957 -u
[36;1m (exit code 0, expected 0)[0m

0x75a97672aad14300a30a664bf38b57b4

>> cl wrm --force 0x41c667c3eb404b618ec6221246664957
[36;1m (exit code 0, expected 0)[0m


>> cl info -f state 0x75a97672aad14300a30a664bf38b57b4
[36;1m (exit code 0, expected 0)[0m

ready

>> cl rm --force 0x75a97672aad14300a30a664bf38b57b4
[36;1m (exit code 0, expected 0)[0m

0x75a97672aad14300a30a664bf38b57b4

>> cl uedit codalab --disk-quota 100.0g
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
is_verified    : True
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 11m49s / 100y0d (0.0%)
disk           : 2.2k / 100.0g (0.0%)
parallel_run_quota: 100

[33;1m[*][*] BEGIN MODULE: blob[0m

[33;1m[*][*] DESCRIPTION: Certain Blob Storage tests. Should only be called when
    CODALAB_ALWAYS_USE_AZURE_BLOB_BETA is set to 1.[0m

[*][*] SWITCHING TO TEMPORARY WORKSHEET
>> cl logout
[36;1m (exit code 0, expected 0)[0m


>> cl uinfo
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 11m49s / 100y0d (0.0%)
disk           : 2.2k / 100.0g (0.0%)
parallel_run_quota: 100

>> cl work -u
[36;1m (exit code 0, expected 0)[0m

0x23706f2903f24b8f8a643ebe09fd41c9

>> cl new temp-test-cli-969636
[36;1m (exit code 0, expected 0)[0m

0x305faa2dd1d34cbe8d1f9fa5f8223e80

>> cl work 0x305faa2dd1d34cbe8d1f9fa5f8223e80
[36;1m (exit code 0, expected 0)[0m

Switched to worksheet: http://rest-server:2900/worksheets/0x305faa2dd1d34cbe8d1f9fa5f8223e80 (temp-test-cli-969636)

>> cl uinfo -f disk
[36;1m (exit code 0, expected 0)[0m

2.2k / 100.0g (0.0%)

[*][*] BEGIN TEST
>> cl upload -a /opt/codalab-worksheets/tests/cli/files/echo
[31;1m (exit code 1, expected 0 BAD)[0m

Traceback (most recent call last):
  File "/opt/codalab-worksheets/codalab/client/json_api_client.py", line 18, in wrapper
    return f(*args, **kwargs)
  File "/opt/codalab-worksheets/codalab/client/json_api_client.py", line 660, in upload_contents_blob
    progress_callback=progress_callback,
  File "/opt/codalab-worksheets/codalab/worker/rest_client.py", line 190, in _upload_with_chunked_encoding
    StringIO(response.read().decode()),
urllib.error.HTTPError: HTTP Error 500: Internal Server Error

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/codalab-worksheets/scripts/test_util.py", line 116, in run_command
    cli.do_command(args[1:])
  File "/opt/codalab-worksheets/codalab/lib/bundle_cli.py", line 956, in do_command
    structured_result = command_fn()
  File "/opt/codalab-worksheets/codalab/lib/bundle_cli.py", line 950, in <lambda>
    command_fn = lambda: args.function(self, args)
  File "/opt/codalab-worksheets/codalab/lib/bundle_cli.py", line 1491, in do_upload_command
    progress_callback=progress.update,
  File "/opt/codalab-worksheets/codalab/client/json_api_client.py", line 38, in wrapper
    sys.exc_info()[2],
  File "/usr/local/lib/python3.6/dist-packages/six.py", line 702, in reraise
    raise value.with_traceback(tb)
  File "/opt/codalab-worksheets/codalab/client/json_api_client.py", line 18, in wrapper
    return f(*args, **kwargs)
  File "/opt/codalab-worksheets/codalab/client/json_api_client.py", line 660, in upload_contents_blob
    progress_callback=progress_callback,
  File "/opt/codalab-worksheets/codalab/worker/rest_client.py", line 190, in _upload_with_chunked_encoding
    StringIO(response.read().decode()),
codalab.client.json_api_client.JsonApiException: Unable to upload contents of bundle 0x37df06963de242d08e2227475ced5da9: Internal Server Error - Upload failed: <urllib3.connection.HTTPConnection object at 0x7f5e384349e8>: Failed to establish a new connection: [Errno -2] Name or service not known

[31;1m[!] ERROR: Exit codes don't match: got 1, expected 0[0m

[*][*] CLEANING UP
>> cl logout
[36;1m (exit code 0, expected 0)[0m


>> cl uinfo
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 11m49s / 100y0d (0.0%)
disk           : 2.2k / 100.0g (0.0%)
parallel_run_quota: 100

>> cl work 0x23706f2903f24b8f8a643ebe09fd41c9
[36;1m (exit code 0, expected 0)[0m

Switched to worksheet: http://rest-server:2900/worksheets/0x23706f2903f24b8f8a643ebe09fd41c9 (temp-test-cli-538231)

>> cl ls -w 0x305faa2dd1d34cbe8d1f9fa5f8223e80 -u
[36;1m (exit code 0, expected 0)[0m

0x37df06963de242d08e2227475ced5da9

>> cl wrm --force 0x305faa2dd1d34cbe8d1f9fa5f8223e80
[36;1m (exit code 0, expected 0)[0m


>> cl info -f state 0x37df06963de242d08e2227475ced5da9
[36;1m (exit code 0, expected 0)[0m

failed

>> cl rm --force 0x37df06963de242d08e2227475ced5da9
[36;1m (exit code 0, expected 0)[0m

0x37df06963de242d08e2227475ced5da9

>> cl uedit codalab --disk-quota 100.0g
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
is_verified    : True
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 11m49s / 100y0d (0.0%)
disk           : 2.2k / 100.0g (0.0%)
parallel_run_quota: 100

[33;1m[*][*] BEGIN MODULE: default_bundle_store[0m

[33;1m[*][*] DESCRIPTION: Tests the CODALAB_DEFAULT_BUNDLE_STORE_NAME environment
    variable. Should only be called when
    CODALAB_DEFAULT_BUNDLE_STORE_NAME is set.[0m

[*][*] SWITCHING TO TEMPORARY WORKSHEET
>> cl logout
[36;1m (exit code 0, expected 0)[0m


>> cl uinfo
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 11m49s / 100y0d (0.0%)
disk           : 2.2k / 100.0g (0.0%)
parallel_run_quota: 100

>> cl work -u
[36;1m (exit code 0, expected 0)[0m

0x23706f2903f24b8f8a643ebe09fd41c9

>> cl new temp-test-cli-8991
[36;1m (exit code 0, expected 0)[0m

0xb510958f4ced4f57a072a27fdbf645ff

>> cl work 0xb510958f4ced4f57a072a27fdbf645ff
[36;1m (exit code 0, expected 0)[0m

Switched to worksheet: http://rest-server:2900/worksheets/0xb510958f4ced4f57a072a27fdbf645ff (temp-test-cli-8991)

>> cl uinfo -f disk
[36;1m (exit code 0, expected 0)[0m

2.2k / 100.0g (0.0%)

[*][*] BEGIN TEST
>> cl store add --name  --storage-type disk --storage-format uncompressed
[36;1m (exit code 0, expected 0)[0m

0xf467c02c624145e7b74df74f4afae78c

>> cl upload -c hello
[36;1m (exit code 0, expected 0)[0m

0xd6805f4ac08249868b92b67c5b6a424f

>> cl info 0xd6805f4ac08249868b92b67c5b6a424f
[36;1m (exit code 0, expected 0)[0m

bundle_type               : dataset
uuid                      : 0xd6805f4ac08249868b92b67c5b6a424f
data_hash                 : 0xca2c3dd5ea5467a4d1f386ed421b0ca6e7ec8286
state                     : ready
command                   : <none>
frozen                    : <none>
is_anonymous              : False
owner                     : codalab(0)
name                      : _
created                   : 2022-04-30 01:44:03
data_size                 : 5

[32;1m[*] TEST PASSED[0m

[*][*] CLEANING UP
>> cl logout
[36;1m (exit code 0, expected 0)[0m


>> cl uinfo
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 11m49s / 100y0d (0.0%)
disk           : 2.2k / 100.0g (0.0%)
parallel_run_quota: 100

>> cl work 0x23706f2903f24b8f8a643ebe09fd41c9
[36;1m (exit code 0, expected 0)[0m

Switched to worksheet: http://rest-server:2900/worksheets/0x23706f2903f24b8f8a643ebe09fd41c9 (temp-test-cli-538231)

>> cl ls -w 0xb510958f4ced4f57a072a27fdbf645ff -u
[36;1m (exit code 0, expected 0)[0m

0xd6805f4ac08249868b92b67c5b6a424f

>> cl wrm --force 0xb510958f4ced4f57a072a27fdbf645ff
[36;1m (exit code 0, expected 0)[0m


>> cl info -f state 0xd6805f4ac08249868b92b67c5b6a424f
[36;1m (exit code 0, expected 0)[0m

ready

>> cl rm --force 0xd6805f4ac08249868b92b67c5b6a424f
[36;1m (exit code 0, expected 0)[0m

0xd6805f4ac08249868b92b67c5b6a424f

>> cl uedit codalab --disk-quota 100.0g
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
is_verified    : True
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 11m49s / 100y0d (0.0%)
disk           : 2.2k / 100.0g (0.0%)
parallel_run_quota: 100

[33;1m[*][*] BEGIN MODULE: store_add[0m

[33;1m[*][*] DESCRIPTION: 
    Tests of command `cl store add` on different bundle stores. (Not testing --storage-format yet)
    [0m

[*][*] SWITCHING TO TEMPORARY WORKSHEET
>> cl logout
[36;1m (exit code 0, expected 0)[0m


>> cl uinfo
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 11m49s / 100y0d (0.0%)
disk           : 2.2k / 100.0g (0.0%)
parallel_run_quota: 100

>> cl work -u
[36;1m (exit code 0, expected 0)[0m

0x23706f2903f24b8f8a643ebe09fd41c9

>> cl new temp-test-cli-534476
[36;1m (exit code 0, expected 0)[0m

0xf11e5923bd684cac960badefdfdbc65d

>> cl work 0xf11e5923bd684cac960badefdfdbc65d
[36;1m (exit code 0, expected 0)[0m

Switched to worksheet: http://rest-server:2900/worksheets/0xf11e5923bd684cac960badefdfdbc65d (temp-test-cli-534476)

>> cl uinfo -f disk
[36;1m (exit code 0, expected 0)[0m

2.2k / 100.0g (0.0%)

[*][*] BEGIN TEST
>> cl store add --name blob_test --storage-type azure_blob --url azfs://devstoreaccount1/bundles
[36;1m (exit code 0, expected 0)[0m

0x088fab00ee2641378089bf7a8b604703

>> cl store ls
[36;1m (exit code 0, expected 0)[0m

id                                  name                  storage_type  storage_format
--------------------------------------------------------------------------------------
0xbe5e65368b2043ce8cf127d18e69bcb7  gcp                   disk          uncompressed  
0x5558998a65fe40258c1aa820d16f88f3  gcp-test              gcs           compressed_v1 
0xd374538527c14f32af81422187ff74de  temp-test-cli-144473  disk          uncompressed  
0xf467c02c624145e7b74df74f4afae78c                        disk          uncompressed  
0x088fab00ee2641378089bf7a8b604703  blob_test             azure_blob    compressed_v1 

>> cl store rm 0x088fab00ee2641378089bf7a8b604703
[36;1m (exit code 0, expected 0)[0m

0x088fab00ee2641378089bf7a8b604703

>> cl store add --name blob_test --url azfs://devstoreaccount1/bundles
[36;1m (exit code 0, expected 0)[0m

0xa9f8a99dd5164deab19feab40bea43f0

>> cl store ls
[36;1m (exit code 0, expected 0)[0m

id                                  name                  storage_type  storage_format
--------------------------------------------------------------------------------------
0xbe5e65368b2043ce8cf127d18e69bcb7  gcp                   disk          uncompressed  
0x5558998a65fe40258c1aa820d16f88f3  gcp-test              gcs           compressed_v1 
0xd374538527c14f32af81422187ff74de  temp-test-cli-144473  disk          uncompressed  
0xf467c02c624145e7b74df74f4afae78c                        disk          uncompressed  
0xa9f8a99dd5164deab19feab40bea43f0  blob_test             azure_blob    compressed_v1 

>> cl store rm 0xa9f8a99dd5164deab19feab40bea43f0
[36;1m (exit code 0, expected 0)[0m

0xa9f8a99dd5164deab19feab40bea43f0

>> cl store add --name blob_test --storage-type disk --url azfs://devstoreaccount1/bundles
[36;1m (exit code 1, expected 1)[0m


>> cl store add --name blob_test --storage-type gcs --url gs://codalab-test
[36;1m (exit code 0, expected 0)[0m

0x0a0f3e4de082485f81397061c56600b3

>> cl store ls
[36;1m (exit code 0, expected 0)[0m

id                                  name                  storage_type  storage_format
--------------------------------------------------------------------------------------
0xbe5e65368b2043ce8cf127d18e69bcb7  gcp                   disk          uncompressed  
0x5558998a65fe40258c1aa820d16f88f3  gcp-test              gcs           compressed_v1 
0xd374538527c14f32af81422187ff74de  temp-test-cli-144473  disk          uncompressed  
0xf467c02c624145e7b74df74f4afae78c                        disk          uncompressed  
0x0a0f3e4de082485f81397061c56600b3  blob_test             gcs           compressed_v1 

>> cl store rm 0x0a0f3e4de082485f81397061c56600b3
[36;1m (exit code 0, expected 0)[0m

0x0a0f3e4de082485f81397061c56600b3

>> cl store add --name blob_test --url gs://codalab-test
[36;1m (exit code 0, expected 0)[0m

0x550e92f3ab9a41fc86f0f1c9fdd92e73

>> cl store ls
[36;1m (exit code 0, expected 0)[0m

id                                  name                  storage_type  storage_format
--------------------------------------------------------------------------------------
0xbe5e65368b2043ce8cf127d18e69bcb7  gcp                   disk          uncompressed  
0x5558998a65fe40258c1aa820d16f88f3  gcp-test              gcs           compressed_v1 
0xd374538527c14f32af81422187ff74de  temp-test-cli-144473  disk          uncompressed  
0xf467c02c624145e7b74df74f4afae78c                        disk          uncompressed  
0x550e92f3ab9a41fc86f0f1c9fdd92e73  blob_test             gcs           compressed_v1 

>> cl store rm 0x550e92f3ab9a41fc86f0f1c9fdd92e73
[36;1m (exit code 0, expected 0)[0m

0x550e92f3ab9a41fc86f0f1c9fdd92e73

>> cl store add --name blob_test --storage-type azure_blob --url gs://codalab-test
[36;1m (exit code 1, expected 1)[0m


[32;1m[*] TEST PASSED[0m

[*][*] CLEANING UP
>> cl logout
[36;1m (exit code 0, expected 0)[0m


>> cl uinfo
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 11m49s / 100y0d (0.0%)
disk           : 2.2k / 100.0g (0.0%)
parallel_run_quota: 100

>> cl work 0x23706f2903f24b8f8a643ebe09fd41c9
[36;1m (exit code 0, expected 0)[0m

Switched to worksheet: http://rest-server:2900/worksheets/0x23706f2903f24b8f8a643ebe09fd41c9 (temp-test-cli-538231)

>> cl ls -w 0xf11e5923bd684cac960badefdfdbc65d -u
[36;1m (exit code 0, expected 0)[0m


>> cl wrm --force 0xf11e5923bd684cac960badefdfdbc65d
[36;1m (exit code 0, expected 0)[0m


>> cl uedit codalab --disk-quota 100.0g
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
is_verified    : True
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 11m49s / 100y0d (0.0%)
disk           : 2.2k / 100.0g (0.0%)
parallel_run_quota: 100

[33;1m[*][*] BEGIN MODULE: download[0m

[*][*] SWITCHING TO TEMPORARY WORKSHEET
>> cl logout
[36;1m (exit code 0, expected 0)[0m


>> cl uinfo
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 11m49s / 100y0d (0.0%)
disk           : 2.2k / 100.0g (0.0%)
parallel_run_quota: 100

>> cl work -u
[36;1m (exit code 0, expected 0)[0m

0x23706f2903f24b8f8a643ebe09fd41c9

>> cl new temp-test-cli-909965
[36;1m (exit code 0, expected 0)[0m

0xe17874c56f8248a485d72ef25d1f1579

>> cl work 0xe17874c56f8248a485d72ef25d1f1579
[36;1m (exit code 0, expected 0)[0m

Switched to worksheet: http://rest-server:2900/worksheets/0xe17874c56f8248a485d72ef25d1f1579 (temp-test-cli-909965)

>> cl uinfo -f disk
[36;1m (exit code 0, expected 0)[0m

2.2k / 100.0g (0.0%)

[*][*] BEGIN TEST
>> tar cfz /tmp/temp-test-cli-63653.tar.gz -C /opt/codalab-worksheets/tests/cli/files -- -AmMDnVl4s8 a-symlink.txt a.txt b.txt broken-symlink codalab.png crazy (ain't it) dir1 dir2 dir3 echo evaluate.sh ignore_test netcat-test.py passwd unicode-worksheet
[36;1m (exit code 0, expected 0)[0m


>> cl upload /tmp/temp-test-cli-63653.tar.gz
[36;1m (exit code 0, expected 0)[0m

0xa043cba440f74c54ab3996d50c16920d

>> cl download 0xa043cba440f74c54ab3996d50c16920d -o /tmp/temp-test-cli-905680
[36;1m (exit code 0, expected 0)[0m

Downloading temp-test-cli-63653(0xa043cba440f74c54ab3996d50c16920d)/ => /tmp/temp-test-cli-905680

>> ls -R /tmp/temp-test-cli-905680
[36;1m (exit code 0, expected 0)[0m

/tmp/temp-test-cli-905680:
-AmMDnVl4s8
a-symlink.txt
a.txt
b.txt
broken-symlink
codalab.png
crazy (ain't it)
dir1
dir2
dir3
echo
evaluate.sh
ignore_test
netcat-test.py
passwd
unicode-worksheet

/tmp/temp-test-cli-905680/dir1:
broken-symlink
f1
f2
f3
g1

/tmp/temp-test-cli-905680/dir2:
the-only-file

/tmp/temp-test-cli-905680/dir3:
dir1
f1

/tmp/temp-test-cli-905680/dir3/dir1:
f1

/tmp/temp-test-cli-905680/ignore_test:
dir
ignored.txt
ignored_dir
not_ignored.txt

/tmp/temp-test-cli-905680/ignore_test/dir:
ignored2.txt
not_ignored2.txt

/tmp/temp-test-cli-905680/ignore_test/ignored_dir:
numbers.txt

>> cl download 0xa043cba440f74c54ab3996d50c16920d/echo -o /tmp/temp-test-cli-905680
[36;1m (exit code 0, expected 0)[0m

Downloading temp-test-cli-63653(0xa043cba440f74c54ab3996d50c16920d)/echo => /tmp/temp-test-cli-905680

>> cl download 0xa043cba440f74c54ab3996d50c16920d/crazy (ain't it) -o /tmp/temp-test-cli-905680
[36;1m (exit code 0, expected 0)[0m

Downloading temp-test-cli-63653(0xa043cba440f74c54ab3996d50c16920d)/crazy (ain't it) => /tmp/temp-test-cli-905680

>> cl download 0xa043cba440f74c54ab3996d50c16920d/-AmMDnVl4s8 -o /tmp/temp-test-cli-905680
[36;1m (exit code 0, expected 0)[0m

Downloading temp-test-cli-63653(0xa043cba440f74c54ab3996d50c16920d)/-AmMDnVl4s8 => /tmp/temp-test-cli-905680

>> cl download 0xa043cba440f74c54ab3996d50c16920d/a-symlink.txt -o /tmp/temp-test-cli-905680
[36;1m (exit code 1, expected 1)[0m


>> cl download 0xa043cba440f74c54ab3996d50c16920d/dir1 -o /tmp/temp-test-cli-905680
[36;1m (exit code 0, expected 0)[0m

Downloading temp-test-cli-63653(0xa043cba440f74c54ab3996d50c16920d)/dir1 => /tmp/temp-test-cli-905680

>> cl download not-exists
WARNING:retry.api:HTTP Error 404: Not Found, retrying in 1 seconds...
[36;1m (exit code 1, expected 1)[0m


>> cl download 0xa043cba440f74c54ab3996d50c16920d/not-exists
WARNING:retry.api:HTTP Error 404: Not Found, retrying in 1 seconds...
[36;1m (exit code 1, expected 1)[0m


[32;1m[*] TEST PASSED[0m

[*][*] CLEANING UP
>> cl logout
[36;1m (exit code 0, expected 0)[0m


>> cl uinfo
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 11m49s / 100y0d (0.0%)
disk           : 45.9k / 100.0g (0.0%)
parallel_run_quota: 100

>> cl work 0x23706f2903f24b8f8a643ebe09fd41c9
[36;1m (exit code 0, expected 0)[0m

Switched to worksheet: http://rest-server:2900/worksheets/0x23706f2903f24b8f8a643ebe09fd41c9 (temp-test-cli-538231)

>> cl ls -w 0xe17874c56f8248a485d72ef25d1f1579 -u
[36;1m (exit code 0, expected 0)[0m

0xa043cba440f74c54ab3996d50c16920d

>> cl wrm --force 0xe17874c56f8248a485d72ef25d1f1579
[36;1m (exit code 0, expected 0)[0m


>> cl info -f state 0xa043cba440f74c54ab3996d50c16920d
[36;1m (exit code 0, expected 0)[0m

ready

>> cl rm --force 0xa043cba440f74c54ab3996d50c16920d
[36;1m (exit code 0, expected 0)[0m

0xa043cba440f74c54ab3996d50c16920d

>> cl uedit codalab --disk-quota 100.0g
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
is_verified    : True
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 11m49s / 100y0d (0.0%)
disk           : 2.2k / 100.0g (0.0%)
parallel_run_quota: 100

[33;1m[*][*] BEGIN MODULE: refs[0m

[*][*] SWITCHING TO TEMPORARY WORKSHEET
>> cl logout
[36;1m (exit code 0, expected 0)[0m


>> cl uinfo
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 11m49s / 100y0d (0.0%)
disk           : 2.2k / 100.0g (0.0%)
parallel_run_quota: 100

>> cl work -u
[36;1m (exit code 0, expected 0)[0m

0x23706f2903f24b8f8a643ebe09fd41c9

>> cl new temp-test-cli-98415
[36;1m (exit code 0, expected 0)[0m

0x3f260879249b4d73af96ff1ae20bf1b0

>> cl work 0x3f260879249b4d73af96ff1ae20bf1b0
[36;1m (exit code 0, expected 0)[0m

Switched to worksheet: http://rest-server:2900/worksheets/0x3f260879249b4d73af96ff1ae20bf1b0 (temp-test-cli-98415)

>> cl uinfo -f disk
[36;1m (exit code 0, expected 0)[0m

2.2k / 100.0g (0.0%)

[*][*] BEGIN TEST
>> cl upload /opt/codalab-worksheets/tests/cli/files/a.txt
[36;1m (exit code 0, expected 0)[0m

0xde4e8670772e421bb34d6c9ad138f99e

>> cl work -u
[36;1m (exit code 0, expected 0)[0m

0x3f260879249b4d73af96ff1ae20bf1b0

>> cl info 0x3f260879249b4d73af96ff1ae20bf1b0/0xde4e8670772e421bb34d6c9ad138f99e
[36;1m (exit code 0, expected 0)[0m

bundle_type               : dataset
uuid                      : 0xde4e8670772e421bb34d6c9ad138f99e
data_hash                 : 0x978c1ced5270553feeb1597e601578cfb7f2a689
state                     : ready
command                   : <none>
frozen                    : <none>
is_anonymous              : False
owner                     : codalab(0)
name                      : a.txt
created                   : 2022-04-30 01:44:11
data_size                 : 64

>> cl ls -w .
[36;1m (exit code 0, expected 0)[0m

### Worksheet: http://rest-server:2900/worksheets/0x3f260879249b4d73af96ff1ae20bf1b0 (temp-test-cli-98415)
### Title: <none>
### Tags: 
### Owner: codalab(0)
### Permissions: public(0x2dd4be):read
ref  uuid      name   summary  owner    created              data_size  state
-----------------------------------------------------------------------------
 ^1  0xde4e86  a.txt           codalab  2022-04-30 01:44:11         64  ready

>> cl ls -w /
[36;1m (exit code 0, expected 0)[0m

### Worksheet: http://rest-server:2900/worksheets/0x6c46573802be499ea06b201e1aa1d0c9 (home-codalab)
### Title: <none>
### Tags: 
### Owner: codalab(0)
### Permissions: public(0x2dd4be):read
ref  uuid  name  summary  owner  created  data_size  state
----------------------------------------------------------

[32;1m[*] TEST PASSED[0m

[*][*] CLEANING UP
>> cl logout
[36;1m (exit code 0, expected 0)[0m


>> cl uinfo
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 11m49s / 100y0d (0.0%)
disk           : 2.3k / 100.0g (0.0%)
parallel_run_quota: 100

>> cl work 0x23706f2903f24b8f8a643ebe09fd41c9
[36;1m (exit code 0, expected 0)[0m

Switched to worksheet: http://rest-server:2900/worksheets/0x23706f2903f24b8f8a643ebe09fd41c9 (temp-test-cli-538231)

>> cl ls -w 0x3f260879249b4d73af96ff1ae20bf1b0 -u
[36;1m (exit code 0, expected 0)[0m

0xde4e8670772e421bb34d6c9ad138f99e

>> cl wrm --force 0x3f260879249b4d73af96ff1ae20bf1b0
[36;1m (exit code 0, expected 0)[0m


>> cl info -f state 0xde4e8670772e421bb34d6c9ad138f99e
[36;1m (exit code 0, expected 0)[0m

ready

>> cl rm --force 0xde4e8670772e421bb34d6c9ad138f99e
[36;1m (exit code 0, expected 0)[0m

0xde4e8670772e421bb34d6c9ad138f99e

>> cl uedit codalab --disk-quota 100.0g
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
is_verified    : True
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 11m49s / 100y0d (0.0%)
disk           : 2.2k / 100.0g (0.0%)
parallel_run_quota: 100

[33;1m[*][*] BEGIN MODULE: binary[0m

[*][*] SWITCHING TO TEMPORARY WORKSHEET
>> cl logout
[36;1m (exit code 0, expected 0)[0m


>> cl uinfo
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 11m49s / 100y0d (0.0%)
disk           : 2.2k / 100.0g (0.0%)
parallel_run_quota: 100

>> cl work -u
[36;1m (exit code 0, expected 0)[0m

0x23706f2903f24b8f8a643ebe09fd41c9

>> cl new temp-test-cli-265081
[36;1m (exit code 0, expected 0)[0m

0xd4034cb1d35949ed96163e776e184fda

>> cl work 0xd4034cb1d35949ed96163e776e184fda
[36;1m (exit code 0, expected 0)[0m

Switched to worksheet: http://rest-server:2900/worksheets/0xd4034cb1d35949ed96163e776e184fda (temp-test-cli-265081)

>> cl uinfo -f disk
[36;1m (exit code 0, expected 0)[0m

2.2k / 100.0g (0.0%)

[*][*] BEGIN TEST
>> cl upload /bin/ls
[36;1m (exit code 0, expected 0)[0m

0xb60ee6c5c86441049a6715f3ef9e73bc

>> cl cat 0xb60ee6c5c86441049a6715f3ef9e73bc
[36;1m (exit code 0, expected 0)[0m

<binary>
>> cl info --verbose 0xb60ee6c5c86441049a6715f3ef9e73bc
[36;1m (exit code 0, expected 0)[0m

bundle_type               : dataset
uuid                      : 0xb60ee6c5c86441049a6715f3ef9e73bc
data_hash                 : 0xaf153bd0601e1acd6180bfb7690405623c08cbbf
state                     : ready
command                   : <none>
frozen                    : <none>
is_anonymous              : False
owner                     : codalab(0)
name                      : ls
created                   : 2022-04-30 01:44:13
data_size                 : 123k
children:
host_worksheets:
  http://rest-server:2900/worksheets/0xd4034cb1d35949ed96163e776e184fda (temp-test-cli-265081)
permission: all
group_permissions:
  public(0x2dd4be):read
=== contents preview ===
<binary>
[32;1m[*] TEST PASSED[0m

[*][*] CLEANING UP
>> cl logout
[36;1m (exit code 0, expected 0)[0m


>> cl uinfo
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 11m49s / 100y0d (0.0%)
disk           : 125k / 100.0g (0.0%)
parallel_run_quota: 100

>> cl work 0x23706f2903f24b8f8a643ebe09fd41c9
[36;1m (exit code 0, expected 0)[0m

Switched to worksheet: http://rest-server:2900/worksheets/0x23706f2903f24b8f8a643ebe09fd41c9 (temp-test-cli-538231)

>> cl ls -w 0xd4034cb1d35949ed96163e776e184fda -u
[36;1m (exit code 0, expected 0)[0m

0xb60ee6c5c86441049a6715f3ef9e73bc

>> cl wrm --force 0xd4034cb1d35949ed96163e776e184fda
[36;1m (exit code 0, expected 0)[0m


>> cl info -f state 0xb60ee6c5c86441049a6715f3ef9e73bc
[36;1m (exit code 0, expected 0)[0m

ready

>> cl rm --force 0xb60ee6c5c86441049a6715f3ef9e73bc
[36;1m (exit code 0, expected 0)[0m

0xb60ee6c5c86441049a6715f3ef9e73bc

>> cl uedit codalab --disk-quota 100.0g
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
is_verified    : True
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 11m49s / 100y0d (0.0%)
disk           : 2.2k / 100.0g (0.0%)
parallel_run_quota: 100

[33;1m[*][*] BEGIN MODULE: rm[0m

[*][*] SWITCHING TO TEMPORARY WORKSHEET
>> cl logout
[36;1m (exit code 0, expected 0)[0m


>> cl uinfo
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 11m49s / 100y0d (0.0%)
disk           : 2.2k / 100.0g (0.0%)
parallel_run_quota: 100

>> cl work -u
[36;1m (exit code 0, expected 0)[0m

0x23706f2903f24b8f8a643ebe09fd41c9

>> cl new temp-test-cli-419560
[36;1m (exit code 0, expected 0)[0m

0x3428ad9044194f21836969aa99b05de0

>> cl work 0x3428ad9044194f21836969aa99b05de0
[36;1m (exit code 0, expected 0)[0m

Switched to worksheet: http://rest-server:2900/worksheets/0x3428ad9044194f21836969aa99b05de0 (temp-test-cli-419560)

>> cl uinfo -f disk
[36;1m (exit code 0, expected 0)[0m

2.2k / 100.0g (0.0%)

[*][*] BEGIN TEST
>> cl upload /opt/codalab-worksheets/tests/cli/files/a.txt
[36;1m (exit code 0, expected 0)[0m

0x08e96e6b468343beb8cc9a829a9d7301

>> cl add bundle 0x08e96e6b468343beb8cc9a829a9d7301
[36;1m (exit code 0, expected 0)[0m


>> cl rm 0x08e96e6b468343beb8cc9a829a9d7301
[36;1m (exit code 0, expected 0)[0m

0x08e96e6b468343beb8cc9a829a9d7301

>> cl rm 
[36;1m (exit code 1, expected 1)[0m


[32;1m[*] TEST PASSED[0m

[*][*] CLEANING UP
>> cl logout
[36;1m (exit code 0, expected 0)[0m


>> cl uinfo
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 11m49s / 100y0d (0.0%)
disk           : 2.2k / 100.0g (0.0%)
parallel_run_quota: 100

>> cl work 0x23706f2903f24b8f8a643ebe09fd41c9
[36;1m (exit code 0, expected 0)[0m

Switched to worksheet: http://rest-server:2900/worksheets/0x23706f2903f24b8f8a643ebe09fd41c9 (temp-test-cli-538231)

>> cl ls -w 0x3428ad9044194f21836969aa99b05de0 -u
[36;1m (exit code 0, expected 0)[0m


>> cl wrm --force 0x3428ad9044194f21836969aa99b05de0
[36;1m (exit code 0, expected 0)[0m


>> cl uedit codalab --disk-quota 100.0g
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
is_verified    : True
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 11m49s / 100y0d (0.0%)
disk           : 2.2k / 100.0g (0.0%)
parallel_run_quota: 100

[33;1m[*][*] BEGIN MODULE: make[0m

[*][*] SWITCHING TO TEMPORARY WORKSHEET
>> cl logout
[36;1m (exit code 0, expected 0)[0m


>> cl uinfo
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 11m49s / 100y0d (0.0%)
disk           : 2.2k / 100.0g (0.0%)
parallel_run_quota: 100

>> cl work -u
[36;1m (exit code 0, expected 0)[0m

0x23706f2903f24b8f8a643ebe09fd41c9

>> cl new temp-test-cli-182574
[36;1m (exit code 0, expected 0)[0m

0x4233404b111d4323a0101f63d0f077e2

>> cl work 0x4233404b111d4323a0101f63d0f077e2
[36;1m (exit code 0, expected 0)[0m

Switched to worksheet: http://rest-server:2900/worksheets/0x4233404b111d4323a0101f63d0f077e2 (temp-test-cli-182574)

>> cl uinfo -f disk
[36;1m (exit code 0, expected 0)[0m

2.2k / 100.0g (0.0%)

[*][*] BEGIN TEST
>> cl upload /opt/codalab-worksheets/tests/cli/files/a.txt
[36;1m (exit code 0, expected 0)[0m

0x6a5a033adc1443b79a838713eee7d0e8

>> cl upload /opt/codalab-worksheets/tests/cli/files/b.txt
[36;1m (exit code 0, expected 0)[0m

0x2830603cf80a4af5a2799a1f64b2dc1a

>> cl make dep1:0x6a5a033adc1443b79a838713eee7d0e8 dep2:0x2830603cf80a4af5a2799a1f64b2dc1a
[36;1m (exit code 0, expected 0)[0m

0x879e5c639e5c44f5939b6b3af27cd92a

>> cl wait 0x879e5c639e5c44f5939b6b3af27cd92a
[36;1m (exit code 0, expected 0)[0m

0x879e5c639e5c44f5939b6b3af27cd92a

>> cl info 0x879e5c639e5c44f5939b6b3af27cd92a
[36;1m (exit code 0, expected 0)[0m

bundle_type               : make
uuid                      : 0x879e5c639e5c44f5939b6b3af27cd92a
data_hash                 : 0x163b6fa3a2b3e08450a850b6db91c4a42d5930aa
state                     : ready
command                   : <none>
frozen                    : <none>
is_anonymous              : False
owner                     : codalab(0)
name                      : make-dep1-0x6a5..2799a1f64b2dc1a
created                   : 2022-04-30 01:44:16
data_size                 : 214
allow_failed_dependencies : False
dependencies:
  dep1: a.txt(0x6a5a033adc1443b79a838713eee7d0e8)
  dep2: b.txt(0x2830603cf80a4af5a2799a1f64b2dc1a)

>> cl make 0x879e5c639e5c44f5939b6b3af27cd92a --name foo
[36;1m (exit code 0, expected 0)[0m

0x9b7fc037d98144c590bb91add7545587

>> cl wait 0x9b7fc037d98144c590bb91add7545587
[36;1m (exit code 0, expected 0)[0m

0x9b7fc037d98144c590bb91add7545587

>> cl info 0x879e5c639e5c44f5939b6b3af27cd92a
[36;1m (exit code 0, expected 0)[0m

bundle_type               : make
uuid                      : 0x879e5c639e5c44f5939b6b3af27cd92a
data_hash                 : 0x163b6fa3a2b3e08450a850b6db91c4a42d5930aa
state                     : ready
command                   : <none>
frozen                    : <none>
is_anonymous              : False
owner                     : codalab(0)
name                      : make-dep1-0x6a5..2799a1f64b2dc1a
created                   : 2022-04-30 01:44:16
data_size                 : 214
allow_failed_dependencies : False
dependencies:
  dep1: a.txt(0x6a5a033adc1443b79a838713eee7d0e8)
  dep2: b.txt(0x2830603cf80a4af5a2799a1f64b2dc1a)

>> cl rm 0x6a5a033adc1443b79a838713eee7d0e8
WARNING:retry.api:HTTP Error 400: Bad Request, retrying in 1 seconds...
[36;1m (exit code 1, expected 1)[0m


>> cl rm --force 0x2830603cf80a4af5a2799a1f64b2dc1a
[36;1m (exit code 0, expected 0)[0m

0x2830603cf80a4af5a2799a1f64b2dc1a

>> cl rm -r 0x6a5a033adc1443b79a838713eee7d0e8
[36;1m (exit code 0, expected 0)[0m

0x6a5a033adc1443b79a838713eee7d0e8
0x879e5c639e5c44f5939b6b3af27cd92a
0x9b7fc037d98144c590bb91add7545587

[32;1m[*] TEST PASSED[0m

[*][*] CLEANING UP
>> cl logout
[36;1m (exit code 0, expected 0)[0m


>> cl uinfo
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 11m49s / 100y0d (0.0%)
disk           : 2.2k / 100.0g (0.0%)
parallel_run_quota: 100

>> cl work 0x23706f2903f24b8f8a643ebe09fd41c9
[36;1m (exit code 0, expected 0)[0m

Switched to worksheet: http://rest-server:2900/worksheets/0x23706f2903f24b8f8a643ebe09fd41c9 (temp-test-cli-538231)

>> cl ls -w 0x4233404b111d4323a0101f63d0f077e2 -u
[36;1m (exit code 0, expected 0)[0m


>> cl wrm --force 0x4233404b111d4323a0101f63d0f077e2
[36;1m (exit code 0, expected 0)[0m


>> cl uedit codalab --disk-quota 100.0g
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
is_verified    : True
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 11m49s / 100y0d (0.0%)
disk           : 2.2k / 100.0g (0.0%)
parallel_run_quota: 100

[33;1m[*][*] BEGIN MODULE: worksheet[0m

[*][*] SWITCHING TO TEMPORARY WORKSHEET
>> cl logout
[36;1m (exit code 0, expected 0)[0m


>> cl uinfo
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 11m49s / 100y0d (0.0%)
disk           : 2.2k / 100.0g (0.0%)
parallel_run_quota: 100

>> cl work -u
[36;1m (exit code 0, expected 0)[0m

0x23706f2903f24b8f8a643ebe09fd41c9

>> cl new temp-test-cli-743398
[36;1m (exit code 0, expected 0)[0m

0xb0ac9a5c5b6d40daa6cb080a150febea

>> cl work 0xb0ac9a5c5b6d40daa6cb080a150febea
[36;1m (exit code 0, expected 0)[0m

Switched to worksheet: http://rest-server:2900/worksheets/0xb0ac9a5c5b6d40daa6cb080a150febea (temp-test-cli-743398)

>> cl uinfo -f disk
[36;1m (exit code 0, expected 0)[0m

2.2k / 100.0g (0.0%)

[*][*] BEGIN TEST
>> cl new temp-test-cli-757005
[36;1m (exit code 0, expected 0)[0m

0xae4ee65baf534f2fa77a912a04901a8b

>> cl work 0xae4ee65baf534f2fa77a912a04901a8b
[36;1m (exit code 0, expected 0)[0m

Switched to worksheet: http://rest-server:2900/worksheets/0xae4ee65baf534f2fa77a912a04901a8b (temp-test-cli-757005)

>> cl ls -u
[36;1m (exit code 0, expected 0)[0m


>> cl upload /opt/codalab-worksheets/tests/cli/files/a.txt
[36;1m (exit code 0, expected 0)[0m

0xd8d92fde05484015ac5a8e7a3f97efa6

>> cl ls -u
[36;1m (exit code 0, expected 0)[0m

0xd8d92fde05484015ac5a8e7a3f97efa6

>> cl ls
[36;1m (exit code 0, expected 0)[0m

### Worksheet: http://rest-server:2900/worksheets/0xae4ee65baf534f2fa77a912a04901a8b (temp-test-cli-757005)
### Title: <none>
### Tags: 
### Owner: codalab(0)
### Permissions: public(0x2dd4be):read
ref  uuid      name   summary  owner    created              data_size  state
-----------------------------------------------------------------------------
 ^1  0xd8d92f  a.txt           codalab  2022-04-30 01:44:22         64  ready

>> cl add text testing
[36;1m (exit code 0, expected 0)[0m


>> cl add text 你好世界😊
[36;1m (exit code 0, expected 0)[0m


>> cl add text % display contents / maxlines=10
[36;1m (exit code 0, expected 0)[0m


>> cl add bundle 0xd8d92fde05484015ac5a8e7a3f97efa6
[36;1m (exit code 0, expected 0)[0m


>> cl add text // comment
[36;1m (exit code 0, expected 0)[0m


>> cl add text % schema foo
[36;1m (exit code 0, expected 0)[0m


>> cl add text % add uuid
[36;1m (exit code 0, expected 0)[0m


>> cl add text % add data_hash data_hash s/0x/HEAD
[36;1m (exit code 0, expected 0)[0m


>> cl add text % add CREATE created "date | [0:5]"
[36;1m (exit code 0, expected 0)[0m


>> cl add text % display table foo
[36;1m (exit code 0, expected 0)[0m


>> cl add bundle 0xd8d92fde05484015ac5a8e7a3f97efa6
[36;1m (exit code 0, expected 0)[0m


>> cl add bundle 0xd8d92fde05484015ac5a8e7a3f97efa6 --dest-worksheet 0xae4ee65baf534f2fa77a912a04901a8b
[36;1m (exit code 0, expected 0)[0m


>> cl add worksheet 0xae4ee65baf534f2fa77a912a04901a8b
[36;1m (exit code 0, expected 0)[0m


>> cl print
[36;1m (exit code 0, expected 0)[0m

### Worksheet: http://rest-server:2900/worksheets/0xae4ee65baf534f2fa77a912a04901a8b (temp-test-cli-757005)
### Title: <none>
### Tags: 
### Owner: codalab(0)
### Permissions: public(0x2dd4be):read

  uuid[0:8]  name   summary[0:1024]  data_size  state  description
  ----------------------------------------------------------------
  0xd8d92f   a.txt  [uploaded]       64         ready             

testing
你好世界😊


// comment

[SchemaBlock]

  uuid                                data_hash                                     CREATE
  ----------------------------------------------------------------------------------------
  0xd8d92fde05484015ac5a8e7a3f97efa6  HEAD978c1ced5270553feeb1597e601578cfb7f2a689  2022- 
  0xd8d92fde05484015ac5a8e7a3f97efa6  HEAD978c1ced5270553feeb1597e601578cfb7f2a689  2022- 

[Worksheet http://rest-server:2900/worksheets/0xae4ee65baf534f2fa77a912a04901a8b (temp-test-cli-757005)]
This is a simple text file for CodaLab.
It has two lines in it.

>> cl wadd 0xae4ee65baf534f2fa77a912a04901a8b 0xae4ee65baf534f2fa77a912a04901a8b
[36;1m (exit code 0, expected 0)[0m

Copied 14 worksheet items to 0xae4ee65baf534f2fa77a912a04901a8b.

>> cl ls -u
[36;1m (exit code 0, expected 0)[0m

0xd8d92fde05484015ac5a8e7a3f97efa6
0xd8d92fde05484015ac5a8e7a3f97efa6
0xd8d92fde05484015ac5a8e7a3f97efa6
0xd8d92fde05484015ac5a8e7a3f97efa6
0xd8d92fde05484015ac5a8e7a3f97efa6
0xd8d92fde05484015ac5a8e7a3f97efa6
0xd8d92fde05484015ac5a8e7a3f97efa6
0xd8d92fde05484015ac5a8e7a3f97efa6

>> cl wedit 0xae4ee65baf534f2fa77a912a04901a8b --name temp-test-cli-7570052
[36;1m (exit code 0, expected 0)[0m

Saved worksheet metadata for temp-test-cli-757005(0xae4ee65baf534f2fa77a912a04901a8b).

>> cl wedit 0xae4ee65baf534f2fa77a912a04901a8b --file /opt/codalab-worksheets/tests/cli/files/unicode-worksheet
[36;1m (exit code 0, expected 0)[0m

Saved worksheet items for temp-test-cli-7570052(0xae4ee65baf534f2fa77a912a04901a8b).

>> cl print -r
[36;1m (exit code 0, expected 0)[0m

CodaLab可以幫助很多電腦科學研究生

>> cl wedit 0xae4ee65baf534f2fa77a912a04901a8b --file /dev/null
[36;1m (exit code 0, expected 0)[0m

Saved worksheet items for temp-test-cli-7570052(0xae4ee65baf534f2fa77a912a04901a8b).

[32;1m[*] TEST PASSED[0m

[*][*] CLEANING UP
>> cl logout
[36;1m (exit code 0, expected 0)[0m


>> cl uinfo
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 11m49s / 100y0d (0.0%)
disk           : 2.3k / 100.0g (0.0%)
parallel_run_quota: 100

>> cl work 0x23706f2903f24b8f8a643ebe09fd41c9
[36;1m (exit code 0, expected 0)[0m

Switched to worksheet: http://rest-server:2900/worksheets/0x23706f2903f24b8f8a643ebe09fd41c9 (temp-test-cli-538231)

>> cl ls -w 0xb0ac9a5c5b6d40daa6cb080a150febea -u
[36;1m (exit code 0, expected 0)[0m


>> cl wrm --force 0xb0ac9a5c5b6d40daa6cb080a150febea
[36;1m (exit code 0, expected 0)[0m


>> cl ls -w 0xae4ee65baf534f2fa77a912a04901a8b -u
[36;1m (exit code 0, expected 0)[0m


>> cl wrm --force 0xae4ee65baf534f2fa77a912a04901a8b
[36;1m (exit code 0, expected 0)[0m


>> cl uedit codalab --disk-quota 100.0g
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
is_verified    : True
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 11m49s / 100y0d (0.0%)
disk           : 2.3k / 100.0g (0.0%)
parallel_run_quota: 100

[33;1m[*][*] BEGIN MODULE: worksheet_search[0m

[*][*] SWITCHING TO TEMPORARY WORKSHEET
>> cl logout
[36;1m (exit code 0, expected 0)[0m


>> cl uinfo
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 11m49s / 100y0d (0.0%)
disk           : 2.3k / 100.0g (0.0%)
parallel_run_quota: 100

>> cl work -u
[36;1m (exit code 0, expected 0)[0m

0x23706f2903f24b8f8a643ebe09fd41c9

>> cl new temp-test-cli-141179
[36;1m (exit code 0, expected 0)[0m

0x4b49d6558ece42aa8daaf425ef06a857

>> cl work 0x4b49d6558ece42aa8daaf425ef06a857
[36;1m (exit code 0, expected 0)[0m

Switched to worksheet: http://rest-server:2900/worksheets/0x4b49d6558ece42aa8daaf425ef06a857 (temp-test-cli-141179)

>> cl uinfo -f disk
[36;1m (exit code 0, expected 0)[0m

2.3k / 100.0g (0.0%)

[*][*] BEGIN TEST
>> cl new temp-test-cli-86297
[36;1m (exit code 0, expected 0)[0m

0x928a70171370407c91142b532bbe0a22

>> cl work 0x928a70171370407c91142b532bbe0a22
[36;1m (exit code 0, expected 0)[0m

Switched to worksheet: http://rest-server:2900/worksheets/0x928a70171370407c91142b532bbe0a22 (temp-test-cli-86297)

>> cl upload /opt/codalab-worksheets/tests/cli/files/a.txt
[36;1m (exit code 0, expected 0)[0m

0xae9ef0ca5c834e688fc65c267924f214

>> cl add text % search 0xae9ef0ca5c834e688fc65c267924f214
[36;1m (exit code 0, expected 0)[0m


>> cl add text % wsearch 0x928a70171370407c91142b532bbe0a22
[36;1m (exit code 0, expected 0)[0m


>> cl print
[36;1m (exit code 0, expected 0)[0m

### Worksheet: http://rest-server:2900/worksheets/0x928a70171370407c91142b532bbe0a22 (temp-test-cli-86297)
### Title: <none>
### Tags: 
### Owner: codalab(0)
### Permissions: public(0x2dd4be):read

  uuid[0:8]  name   summary[0:1024]  data_size  state  description
  ----------------------------------------------------------------
  0xae9ef0   a.txt  [uploaded]       64         ready             
  0xae9ef0   a.txt  [uploaded]       64         ready             

[Worksheet http://rest-server:2900/worksheets/0x928a70171370407c91142b532bbe0a22 (temp-test-cli-86297)]

>> cl new temp-test-cli-518998
[36;1m (exit code 0, expected 0)[0m

0x815d7813cd134820a4a5adfbcfa761a5

>> cl work 0x815d7813cd134820a4a5adfbcfa761a5
[36;1m (exit code 0, expected 0)[0m

Switched to worksheet: http://rest-server:2900/worksheets/0x815d7813cd134820a4a5adfbcfa761a5 (temp-test-cli-518998)

>> cl uinfo -f id
[36;1m (exit code 0, expected 0)[0m

0

>> cl uinfo -f user_name
[36;1m (exit code 0, expected 0)[0m

codalab

>> cl gnew temp-test-cli-731036
[36;1m (exit code 0, expected 0)[0m

Created new group temp-test-cli-731036(0x18e0a9581b424ac6887cfbcc2dbe335f).

>> cl wperm 0x815d7813cd134820a4a5adfbcfa761a5 public n
[36;1m (exit code 0, expected 0)[0m

Group public(0x2dd4be0064a74b968689952b2b43465a) has none permission on worksheet http://rest-server:2900/worksheets/0x815d7813cd134820a4a5adfbcfa761a5 (temp-test-cli-518998).

>> cl wperm 0x815d7813cd134820a4a5adfbcfa761a5 temp-test-cli-731036 r
[36;1m (exit code 0, expected 0)[0m

Group temp-test-cli-731036(0x18e0a9581b424ac6887cfbcc2dbe335f) has read permission on worksheet http://rest-server:2900/worksheets/0x815d7813cd134820a4a5adfbcfa761a5 (temp-test-cli-518998).

>> cl wls .shared
[36;1m (exit code 0, expected 0)[0m

uuid      name                  owner       permissions                        
-------------------------------------------------------------------------------
0x815d78  temp-test-cli-518998  codalab(0)  temp-test-cli-731036(0x18e0a9):read

>> cl wls group=0x18e0a9581b424ac6887cfbcc2dbe335f
[36;1m (exit code 0, expected 0)[0m

uuid      name                  owner       permissions                        
-------------------------------------------------------------------------------
0x815d78  temp-test-cli-518998  codalab(0)  temp-test-cli-731036(0x18e0a9):read

>> cl wls group=temp-test-cli-731036
[36;1m (exit code 0, expected 0)[0m

uuid      name                  owner       permissions                        
-------------------------------------------------------------------------------
0x815d78  temp-test-cli-518998  codalab(0)  temp-test-cli-731036(0x18e0a9):read

>> cl wperm 0x928a70171370407c91142b532bbe0a22 temp-test-cli-731036 r
[36;1m (exit code 0, expected 0)[0m

Group temp-test-cli-731036(0x18e0a9581b424ac6887cfbcc2dbe335f) has read permission on worksheet http://rest-server:2900/worksheets/0x928a70171370407c91142b532bbe0a22 (temp-test-cli-86297).

>> cl wls .shared .notmine
[36;1m (exit code 0, expected 0)[0m


[32;1m[*] TEST PASSED[0m

[*][*] CLEANING UP
>> cl logout
[36;1m (exit code 0, expected 0)[0m


>> cl uinfo
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 11m49s / 100y0d (0.0%)
disk           : 2.4k / 100.0g (0.0%)
parallel_run_quota: 100

>> cl work 0x23706f2903f24b8f8a643ebe09fd41c9
[36;1m (exit code 0, expected 0)[0m

Switched to worksheet: http://rest-server:2900/worksheets/0x23706f2903f24b8f8a643ebe09fd41c9 (temp-test-cli-538231)

>> cl ls -w 0x4b49d6558ece42aa8daaf425ef06a857 -u
[36;1m (exit code 0, expected 0)[0m


>> cl wrm --force 0x4b49d6558ece42aa8daaf425ef06a857
[36;1m (exit code 0, expected 0)[0m


>> cl ls -w 0x928a70171370407c91142b532bbe0a22 -u
[36;1m (exit code 0, expected 0)[0m

0xae9ef0ca5c834e688fc65c267924f214

>> cl wrm --force 0x928a70171370407c91142b532bbe0a22
[36;1m (exit code 0, expected 0)[0m


>> cl ls -w 0x815d7813cd134820a4a5adfbcfa761a5 -u
[36;1m (exit code 0, expected 0)[0m


>> cl wrm --force 0x815d7813cd134820a4a5adfbcfa761a5
[36;1m (exit code 0, expected 0)[0m


>> cl info -f state 0xae9ef0ca5c834e688fc65c267924f214
[36;1m (exit code 0, expected 0)[0m

ready

>> cl rm --force 0xae9ef0ca5c834e688fc65c267924f214
[36;1m (exit code 0, expected 0)[0m

0xae9ef0ca5c834e688fc65c267924f214

>> cl uedit codalab --disk-quota 100.0g
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
is_verified    : True
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 11m49s / 100y0d (0.0%)
disk           : 2.3k / 100.0g (0.0%)
parallel_run_quota: 100

>> cl grm 0x18e0a9581b424ac6887cfbcc2dbe335f
[36;1m (exit code 0, expected 0)[0m

Deleted group temp-test-cli-731036(0x18e0a9581b424ac6887cfbcc2dbe335f).

[33;1m[*][*] BEGIN MODULE: worksheet_tags[0m

[*][*] SWITCHING TO TEMPORARY WORKSHEET
>> cl logout
[36;1m (exit code 0, expected 0)[0m


>> cl uinfo
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 11m49s / 100y0d (0.0%)
disk           : 2.3k / 100.0g (0.0%)
parallel_run_quota: 100

>> cl work -u
[36;1m (exit code 0, expected 0)[0m

0x23706f2903f24b8f8a643ebe09fd41c9

>> cl new temp-test-cli-267172
[36;1m (exit code 0, expected 0)[0m

0x306bc1bec8634cf58bae1fb73ab9fe55

>> cl work 0x306bc1bec8634cf58bae1fb73ab9fe55
[36;1m (exit code 0, expected 0)[0m

Switched to worksheet: http://rest-server:2900/worksheets/0x306bc1bec8634cf58bae1fb73ab9fe55 (temp-test-cli-267172)

>> cl uinfo -f disk
[36;1m (exit code 0, expected 0)[0m

2.3k / 100.0g (0.0%)

[*][*] BEGIN TEST
>> cl new temp-test-cli-196498
[36;1m (exit code 0, expected 0)[0m

0x38a37c15bbf64053b25bf6baa5f3ed97

>> cl wedit temp-test-cli-196498 --tags foo bar baz
[36;1m (exit code 0, expected 0)[0m

Saved worksheet metadata for temp-test-cli-196498(0x38a37c15bbf64053b25bf6baa5f3ed97).

>> cl ls -w 0x38a37c15bbf64053b25bf6baa5f3ed97
[36;1m (exit code 0, expected 0)[0m

### Worksheet: http://rest-server:2900/worksheets/0x38a37c15bbf64053b25bf6baa5f3ed97 (temp-test-cli-196498)
### Title: <none>
### Tags: foo bar baz
### Owner: codalab(0)
### Permissions: public(0x2dd4be):read
ref  uuid  name  summary  owner  created  data_size  state
----------------------------------------------------------

>> cl wedit temp-test-cli-196498 --tags bar foo
[36;1m (exit code 0, expected 0)[0m

Saved worksheet metadata for temp-test-cli-196498(0x38a37c15bbf64053b25bf6baa5f3ed97).

>> cl ls -w 0x38a37c15bbf64053b25bf6baa5f3ed97
[36;1m (exit code 0, expected 0)[0m

### Worksheet: http://rest-server:2900/worksheets/0x38a37c15bbf64053b25bf6baa5f3ed97 (temp-test-cli-196498)
### Title: <none>
### Tags: bar foo
### Owner: codalab(0)
### Permissions: public(0x2dd4be):read
ref  uuid  name  summary  owner  created  data_size  state
----------------------------------------------------------

>> cl wedit temp-test-cli-196498 --tags 你好世界😊 fáncy ünicode
/usr/local/lib/python3.6/dist-packages/azure/storage/blob/_shared/encryption.py:15: CryptographyDeprecationWarning: Python 3.6 is no longer supported by the Python core team. Therefore, support for it is deprecated in cryptography and will be removed in a future release.
  from cryptography.hazmat.backends import default_backend
Traceback (most recent call last):
  File "/opt/codalab-worksheets/codalab/client/json_api_client.py", line 18, in wrapper
    return f(*args, **kwargs)
  File "/opt/codalab-worksheets/codalab/client/json_api_client.py", line 489, in update
    data=self._pack_document(data if isinstance(data, list) else [data], resource_type),
  File "/opt/codalab-worksheets/codalab/worker/rest_client.py", line 108, in _make_request
    with closing(urlopen_with_retry(request, timeout=timeout_seconds)) as response:
  File "/usr/local/lib/python3.6/dist-packages/decorator.py", line 232, in fun
    return caller(func, *(extras + args), **kw)
  File "/usr/local/lib/python3.6/dist-packages/retry/api.py", line 74, in retry_decorator
    logger)
  File "/usr/local/lib/python3.6/dist-packages/retry/api.py", line 33, in __retry_internal
    return f()
  File "/opt/codalab-worksheets/codalab/common.py", line 169, in urlopen_with_retry
    return urllib.request.urlopen(request, timeout=timeout)
  File "/usr/lib/python3.6/urllib/request.py", line 223, in urlopen
    return opener.open(url, data, timeout)
  File "/usr/lib/python3.6/urllib/request.py", line 532, in open
    response = meth(req, response)
  File "/usr/lib/python3.6/urllib/request.py", line 642, in http_response
    'http', request, response, code, msg, hdrs)
  File "/usr/lib/python3.6/urllib/request.py", line 570, in error
    return self._call_chain(*args)
  File "/usr/lib/python3.6/urllib/request.py", line 504, in _call_chain
    result = func(*args)
  File "/usr/lib/python3.6/urllib/request.py", line 650, in http_error_default
    raise HTTPError(req.full_url, code, msg, hdrs, fp)
urllib.error.HTTPError: HTTP Error 500: Internal Server Error

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/bin/cl", line 33, in <module>
    sys.exit(load_entry_point('codalab', 'console_scripts', 'cl')())
  File "/opt/codalab-worksheets/codalab/bin/cl.py", line 10, in main
    cli.do_command(sys.argv[1:])
  File "/opt/codalab-worksheets/codalab/lib/bundle_cli.py", line 956, in do_command
    structured_result = command_fn()
  File "/opt/codalab-worksheets/codalab/lib/bundle_cli.py", line 950, in <lambda>
    command_fn = lambda: args.function(self, args)
  File "/opt/codalab-worksheets/codalab/lib/bundle_cli.py", line 3364, in do_wedit_command
    client.update('worksheets', info)
  File "/opt/codalab-worksheets/codalab/client/json_api_client.py", line 38, in wrapper
    sys.exc_info()[2],
  File "/usr/local/lib/python3.6/dist-packages/six.py", line 702, in reraise
    raise value.with_traceback(tb)
  File "/opt/codalab-worksheets/codalab/client/json_api_client.py", line 18, in wrapper
    return f(*args, **kwargs)
  File "/opt/codalab-worksheets/codalab/client/json_api_client.py", line 489, in update
    data=self._pack_document(data if isinstance(data, list) else [data], resource_type),
  File "/opt/codalab-worksheets/codalab/worker/rest_client.py", line 108, in _make_request
    with closing(urlopen_with_retry(request, timeout=timeout_seconds)) as response:
  File "/usr/local/lib/python3.6/dist-packages/decorator.py", line 232, in fun
    return caller(func, *(extras + args), **kw)
  File "/usr/local/lib/python3.6/dist-packages/retry/api.py", line 74, in retry_decorator
    logger)
  File "/usr/local/lib/python3.6/dist-packages/retry/api.py", line 33, in __retry_internal
    return f()
  File "/opt/codalab-worksheets/codalab/common.py", line 169, in urlopen_with_retry
    return urllib.request.urlopen(request, timeout=timeout)
  File "/usr/lib/python3.6/urllib/request.py", line 223, in urlopen
    return opener.open(url, data, timeout)
  File "/usr/lib/python3.6/urllib/request.py", line 532, in open
    response = meth(req, response)
  File "/usr/lib/python3.6/urllib/request.py", line 642, in http_response
    'http', request, response, code, msg, hdrs)
  File "/usr/lib/python3.6/urllib/request.py", line 570, in error
    return self._call_chain(*args)
  File "/usr/lib/python3.6/urllib/request.py", line 504, in _call_chain
    result = func(*args)
  File "/usr/lib/python3.6/urllib/request.py", line 650, in http_error_default
    raise HTTPError(req.full_url, code, msg, hdrs, fp)
codalab.client.json_api_client.JsonApiException: Unable to update worksheets: Internal Server Error - Unexpected Internal Error (sequence item 0: expected str instance, int found). The administrators have been notified.
[36;1m (exit code 1, expected 1)[0m


>> cl wedit temp-test-cli-196498 --tags
[36;1m (exit code 0, expected 0)[0m

Saved worksheet metadata for temp-test-cli-196498(0x38a37c15bbf64053b25bf6baa5f3ed97).

>> cl ls -w 0x38a37c15bbf64053b25bf6baa5f3ed97
[36;1m (exit code 0, expected 0)[0m

### Worksheet: http://rest-server:2900/worksheets/0x38a37c15bbf64053b25bf6baa5f3ed97 (temp-test-cli-196498)
### Title: <none>
### Tags: 
### Owner: codalab(0)
### Permissions: public(0x2dd4be):read
ref  uuid  name  summary  owner  created  data_size  state
----------------------------------------------------------

[32;1m[*] TEST PASSED[0m

[*][*] CLEANING UP
>> cl logout
[36;1m (exit code 0, expected 0)[0m


>> cl uinfo
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 11m49s / 100y0d (0.0%)
disk           : 2.3k / 100.0g (0.0%)
parallel_run_quota: 100

>> cl work 0x23706f2903f24b8f8a643ebe09fd41c9
[36;1m (exit code 0, expected 0)[0m

Switched to worksheet: http://rest-server:2900/worksheets/0x23706f2903f24b8f8a643ebe09fd41c9 (temp-test-cli-538231)

>> cl ls -w 0x306bc1bec8634cf58bae1fb73ab9fe55 -u
[36;1m (exit code 0, expected 0)[0m


>> cl wrm --force 0x306bc1bec8634cf58bae1fb73ab9fe55
[36;1m (exit code 0, expected 0)[0m


>> cl ls -w 0x38a37c15bbf64053b25bf6baa5f3ed97 -u
[36;1m (exit code 0, expected 0)[0m


>> cl wrm --force 0x38a37c15bbf64053b25bf6baa5f3ed97
[36;1m (exit code 0, expected 0)[0m


>> cl uedit codalab --disk-quota 100.0g
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
is_verified    : True
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 11m49s / 100y0d (0.0%)
disk           : 2.3k / 100.0g (0.0%)
parallel_run_quota: 100

[33;1m[*][*] BEGIN MODULE: uls[0m

[*][*] SWITCHING TO TEMPORARY WORKSHEET
>> cl logout
[36;1m (exit code 0, expected 0)[0m


>> cl uinfo
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 11m49s / 100y0d (0.0%)
disk           : 2.3k / 100.0g (0.0%)
parallel_run_quota: 100

>> cl work -u
[36;1m (exit code 0, expected 0)[0m

0x23706f2903f24b8f8a643ebe09fd41c9

>> cl new temp-test-cli-672125
[36;1m (exit code 0, expected 0)[0m

0x224a5afa0a9044afbe4641e2fa0dd0d2

>> cl work 0x224a5afa0a9044afbe4641e2fa0dd0d2
[36;1m (exit code 0, expected 0)[0m

Switched to worksheet: http://rest-server:2900/worksheets/0x224a5afa0a9044afbe4641e2fa0dd0d2 (temp-test-cli-672125)

>> cl uinfo -f disk
[36;1m (exit code 0, expected 0)[0m

2.3k / 100.0g (0.0%)

[*][*] BEGIN TEST
>> cl logout
[36;1m (exit code 0, expected 0)[0m


>> cl uinfo
[36;1m (exit code 0, expected 0)[0m

id             : non_root_user
user_name      : non_root_user
has_access     : False
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Sat Apr 30 01:44:33 2022
last_login     : None
email          : temp-test-cli-222411
time           : 0.0s / 100y0d (0.0%)
disk           : 0 / 100 (0.0%)
parallel_run_quota: 100

>> cl uls .joined_after=2022-04-30T01:44:33.432830 -f user_name
WARNING:retry.api:HTTP Error 403: Forbidden, retrying in 1 seconds...
[31;1m (exit code 1, expected 0 BAD)[0m


[31;1m[!] ERROR: Exit codes don't match: got 1, expected 0[0m

[*][*] CLEANING UP
>> cl logout
[36;1m (exit code 0, expected 0)[0m


>> cl uinfo
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 11m49s / 100y0d (0.0%)
disk           : 2.3k / 100.0g (0.0%)
parallel_run_quota: 100

>> cl work 0x23706f2903f24b8f8a643ebe09fd41c9
[36;1m (exit code 0, expected 0)[0m

Switched to worksheet: http://rest-server:2900/worksheets/0x23706f2903f24b8f8a643ebe09fd41c9 (temp-test-cli-538231)

>> cl ls -w 0x224a5afa0a9044afbe4641e2fa0dd0d2 -u
[36;1m (exit code 0, expected 0)[0m


>> cl wrm --force 0x224a5afa0a9044afbe4641e2fa0dd0d2
[36;1m (exit code 0, expected 0)[0m


>> cl uedit codalab --disk-quota 100.0g
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
is_verified    : True
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 11m49s / 100y0d (0.0%)
disk           : 2.3k / 100.0g (0.0%)
parallel_run_quota: 100

[33;1m[*][*] BEGIN MODULE: worksheet_freeze_unfreeze[0m

[*][*] SWITCHING TO TEMPORARY WORKSHEET
>> cl logout
[36;1m (exit code 0, expected 0)[0m


>> cl uinfo
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 11m49s / 100y0d (0.0%)
disk           : 2.3k / 100.0g (0.0%)
parallel_run_quota: 100

>> cl work -u
[36;1m (exit code 0, expected 0)[0m

0x23706f2903f24b8f8a643ebe09fd41c9

>> cl new temp-test-cli-340390
[36;1m (exit code 0, expected 0)[0m

0x949872d285de456788423ef96993a295

>> cl work 0x949872d285de456788423ef96993a295
[36;1m (exit code 0, expected 0)[0m

Switched to worksheet: http://rest-server:2900/worksheets/0x949872d285de456788423ef96993a295 (temp-test-cli-340390)

>> cl uinfo -f disk
[36;1m (exit code 0, expected 0)[0m

2.3k / 100.0g (0.0%)

[*][*] BEGIN TEST
>> cl work -u
[36;1m (exit code 0, expected 0)[0m

0x949872d285de456788423ef96993a295

>> cl new temp-test-cli-594013
[36;1m (exit code 0, expected 0)[0m

0x2ebd893696c3425e8ae4e672f26a59ca

>> cl work 0x2ebd893696c3425e8ae4e672f26a59ca
[36;1m (exit code 0, expected 0)[0m

Switched to worksheet: http://rest-server:2900/worksheets/0x2ebd893696c3425e8ae4e672f26a59ca (temp-test-cli-594013)

>> cl upload -c hello
[36;1m (exit code 0, expected 0)[0m

0x2674d1d9f66d494cb832b86039d26a35

>> cl add text message
[36;1m (exit code 0, expected 0)[0m


>> cl wedit -t new_title
[36;1m (exit code 0, expected 0)[0m

Saved worksheet metadata for temp-test-cli-594013(0x2ebd893696c3425e8ae4e672f26a59ca).

>> cl wperm 0x2ebd893696c3425e8ae4e672f26a59ca public n
[36;1m (exit code 0, expected 0)[0m

Group public(0x2dd4be0064a74b968689952b2b43465a) has none permission on worksheet http://rest-server:2900/worksheets/0x2ebd893696c3425e8ae4e672f26a59ca (temp-test-cli-594013).

>> cl wedit --freeze
[36;1m (exit code 0, expected 0)[0m

Saved worksheet metadata for temp-test-cli-594013(0x2ebd893696c3425e8ae4e672f26a59ca).

>> cl detach 0x2674d1d9f66d494cb832b86039d26a35
WARNING:retry.api:HTTP Error 403: Forbidden, retrying in 1 seconds...
[36;1m (exit code 1, expected 1)[0m


>> cl rm 0x2674d1d9f66d494cb832b86039d26a35
WARNING:retry.api:HTTP Error 400: Bad Request, retrying in 1 seconds...
[36;1m (exit code 1, expected 1)[0m


>> cl add text message
WARNING:retry.api:HTTP Error 403: Forbidden, retrying in 1 seconds...
[36;1m (exit code 1, expected 1)[0m


>> cl wedit -t new_title
WARNING:retry.api:HTTP Error 403: Forbidden, retrying in 1 seconds...
[36;1m (exit code 1, expected 1)[0m


>> cl wperm 0x2ebd893696c3425e8ae4e672f26a59ca public a
WARNING:retry.api:HTTP Error 403: Forbidden, retrying in 1 seconds...
[36;1m (exit code 1, expected 1)[0m


>> cl wedit --freeze
WARNING:retry.api:HTTP Error 403: Forbidden, retrying in 1 seconds...
[36;1m (exit code 1, expected 1)[0m


>> cl wedit --unfreeze
[36;1m (exit code 0, expected 0)[0m

Saved worksheet metadata for temp-test-cli-594013(0x2ebd893696c3425e8ae4e672f26a59ca).

>> cl detach 0x2674d1d9f66d494cb832b86039d26a35
[36;1m (exit code 0, expected 0)[0m


>> cl rm 0x2674d1d9f66d494cb832b86039d26a35
[36;1m (exit code 0, expected 0)[0m

0x2674d1d9f66d494cb832b86039d26a35

>> cl add text message
[36;1m (exit code 0, expected 0)[0m


>> cl wedit -t new_title
[36;1m (exit code 0, expected 0)[0m

Saved worksheet metadata for temp-test-cli-594013(0x2ebd893696c3425e8ae4e672f26a59ca).

>> cl wperm 0x2ebd893696c3425e8ae4e672f26a59ca public a
[36;1m (exit code 0, expected 0)[0m

Group public(0x2dd4be0064a74b968689952b2b43465a) has all permission on worksheet http://rest-server:2900/worksheets/0x2ebd893696c3425e8ae4e672f26a59ca (temp-test-cli-594013).

>> cl wedit --freeze
[36;1m (exit code 0, expected 0)[0m

Saved worksheet metadata for temp-test-cli-594013(0x2ebd893696c3425e8ae4e672f26a59ca).

>> cl wedit -t new_title
WARNING:retry.api:HTTP Error 403: Forbidden, retrying in 1 seconds...
[36;1m (exit code 1, expected 1)[0m


>> cl wedit -t new_title --unfreeze
[36;1m (exit code 0, expected 0)[0m

Saved worksheet metadata for temp-test-cli-594013(0x2ebd893696c3425e8ae4e672f26a59ca).

[32;1m[*] TEST PASSED[0m

[*][*] CLEANING UP
>> cl logout
[36;1m (exit code 0, expected 0)[0m


>> cl uinfo
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 11m49s / 100y0d (0.0%)
disk           : 2.3k / 100.0g (0.0%)
parallel_run_quota: 100

>> cl work 0x23706f2903f24b8f8a643ebe09fd41c9
[36;1m (exit code 0, expected 0)[0m

Switched to worksheet: http://rest-server:2900/worksheets/0x23706f2903f24b8f8a643ebe09fd41c9 (temp-test-cli-538231)

>> cl ls -w 0x949872d285de456788423ef96993a295 -u
[36;1m (exit code 0, expected 0)[0m


>> cl wrm --force 0x949872d285de456788423ef96993a295
[36;1m (exit code 0, expected 0)[0m


>> cl ls -w 0x2ebd893696c3425e8ae4e672f26a59ca -u
[36;1m (exit code 0, expected 0)[0m


>> cl wrm --force 0x2ebd893696c3425e8ae4e672f26a59ca
[36;1m (exit code 0, expected 0)[0m


>> cl uedit codalab --disk-quota 100.0g
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
is_verified    : True
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 11m49s / 100y0d (0.0%)
disk           : 2.3k / 100.0g (0.0%)
parallel_run_quota: 100

[33;1m[*][*] BEGIN MODULE: bundle_freeze_unfreeze[0m

[*][*] SWITCHING TO TEMPORARY WORKSHEET
>> cl logout
[36;1m (exit code 0, expected 0)[0m


>> cl uinfo
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 11m49s / 100y0d (0.0%)
disk           : 2.3k / 100.0g (0.0%)
parallel_run_quota: 100

>> cl work -u
[36;1m (exit code 0, expected 0)[0m

0x23706f2903f24b8f8a643ebe09fd41c9

>> cl new temp-test-cli-571503
[36;1m (exit code 0, expected 0)[0m

0x7f6ed9f7b1d5414a978709b81863a8b4

>> cl work 0x7f6ed9f7b1d5414a978709b81863a8b4
[36;1m (exit code 0, expected 0)[0m

Switched to worksheet: http://rest-server:2900/worksheets/0x7f6ed9f7b1d5414a978709b81863a8b4 (temp-test-cli-571503)

>> cl uinfo -f disk
[36;1m (exit code 0, expected 0)[0m

2.3k / 100.0g (0.0%)

[*][*] BEGIN TEST
>> cl run --request-docker-image python:3.6.10-slim-buster --request-disk 1m --request-memory 10m sleep 10 && date -n temp-test-cli-167354
[36;1m (exit code 0, expected 0)[0m

0xe05e73321b9a46eda78eae8516c850d4

>> cl info -f state 0xe05e73321b9a46eda78eae8516c850d4
[36;1m (exit code 0, expected 0)[0m

created

>> cl info -f state 0xe05e73321b9a46eda78eae8516c850d4
[36;1m (exit code 0, expected 0)[0m

staged

>> cl info -f state 0xe05e73321b9a46eda78eae8516c850d4
[36;1m (exit code 0, expected 0)[0m

starting

>> cl info -f state 0xe05e73321b9a46eda78eae8516c850d4
[36;1m (exit code 0, expected 0)[0m

staged

>> cl info -f state 0xe05e73321b9a46eda78eae8516c850d4
[36;1m (exit code 0, expected 0)[0m

staged

>> cl info -f state 0xe05e73321b9a46eda78eae8516c850d4
[36;1m (exit code 0, expected 0)[0m

starting

>> cl info -f state 0xe05e73321b9a46eda78eae8516c850d4
[36;1m (exit code 0, expected 0)[0m

staged

>> cl info -f state 0xe05e73321b9a46eda78eae8516c850d4
[36;1m (exit code 0, expected 0)[0m

staged

>> cl info -f state 0xe05e73321b9a46eda78eae8516c850d4
[36;1m (exit code 0, expected 0)[0m

staged

>> cl info -f state 0xe05e73321b9a46eda78eae8516c850d4
[36;1m (exit code 0, expected 0)[0m

preparing

>> cl info -f state 0xe05e73321b9a46eda78eae8516c850d4
[36;1m (exit code 0, expected 0)[0m

preparing

>> cl info -f state 0xe05e73321b9a46eda78eae8516c850d4
[36;1m (exit code 0, expected 0)[0m

preparing

>> cl info -f state 0xe05e73321b9a46eda78eae8516c850d4
[36;1m (exit code 0, expected 0)[0m

preparing

>> cl info -f state 0xe05e73321b9a46eda78eae8516c850d4
[36;1m (exit code 0, expected 0)[0m

preparing

>> cl info -f state 0xe05e73321b9a46eda78eae8516c850d4
[36;1m (exit code 0, expected 0)[0m

preparing

>> cl info -f state 0xe05e73321b9a46eda78eae8516c850d4
[36;1m (exit code 0, expected 0)[0m

preparing

>> cl info -f state 0xe05e73321b9a46eda78eae8516c850d4
[36;1m (exit code 0, expected 0)[0m

preparing

>> cl info -f state 0xe05e73321b9a46eda78eae8516c850d4
[36;1m (exit code 0, expected 0)[0m

preparing

>> cl info -f state 0xe05e73321b9a46eda78eae8516c850d4
[36;1m (exit code 0, expected 0)[0m

preparing

>> cl info -f state 0xe05e73321b9a46eda78eae8516c850d4
[36;1m (exit code 0, expected 0)[0m

running

>> cl edit 0xe05e73321b9a46eda78eae8516c850d4 --freeze
WARNING:retry.api:HTTP Error 403: Forbidden, retrying in 1 seconds...
[36;1m (exit code 1, expected 1)[0m


>> cl wait 0xe05e73321b9a46eda78eae8516c850d4
[36;1m (exit code 0, expected 0)[0m

0xe05e73321b9a46eda78eae8516c850d4

>> cl edit 0xe05e73321b9a46eda78eae8516c850d4 --freeze
[36;1m (exit code 0, expected 0)[0m

Saved metadata for bundle 0xe05e73321b9a46eda78eae8516c850d4.

>> cl rm 0xe05e73321b9a46eda78eae8516c850d4
WARNING:retry.api:HTTP Error 403: Forbidden, retrying in 1 seconds...
[36;1m (exit code 1, expected 1)[0m


>> cl edit --freeze 0xe05e73321b9a46eda78eae8516c850d4
WARNING:retry.api:HTTP Error 403: Forbidden, retrying in 1 seconds...
[36;1m (exit code 1, expected 1)[0m


>> cl edit -n new_name 0xe05e73321b9a46eda78eae8516c850d4
WARNING:retry.api:HTTP Error 403: Forbidden, retrying in 1 seconds...
[36;1m (exit code 1, expected 1)[0m


>> cl edit --freeze -n new_name 0xe05e73321b9a46eda78eae8516c850d4
WARNING:retry.api:HTTP Error 403: Forbidden, retrying in 1 seconds...
[36;1m (exit code 1, expected 1)[0m


>> cl perm 0xe05e73321b9a46eda78eae8516c850d4 public n
WARNING:retry.api:HTTP Error 403: Forbidden, retrying in 1 seconds...
[36;1m (exit code 1, expected 1)[0m


>> cl edit --unfreeze -n new_name 0xe05e73321b9a46eda78eae8516c850d4
[36;1m (exit code 0, expected 0)[0m

Saved metadata for bundle 0xe05e73321b9a46eda78eae8516c850d4.

>> cl edit --freeze 0xe05e73321b9a46eda78eae8516c850d4
[36;1m (exit code 0, expected 0)[0m

Saved metadata for bundle 0xe05e73321b9a46eda78eae8516c850d4.

>> cl edit --unfreeze 0xe05e73321b9a46eda78eae8516c850d4
[36;1m (exit code 0, expected 0)[0m

Saved metadata for bundle 0xe05e73321b9a46eda78eae8516c850d4.

>> cl edit -n new_name 0xe05e73321b9a46eda78eae8516c850d4
[36;1m (exit code 0, expected 0)[0m

Saved metadata for bundle 0xe05e73321b9a46eda78eae8516c850d4.

>> cl perm 0xe05e73321b9a46eda78eae8516c850d4 public n
[36;1m (exit code 0, expected 0)[0m

Group public(0x2dd4be0064a74b968689952b2b43465a) has none permission on 1 bundles.

>> cl rm 0xe05e73321b9a46eda78eae8516c850d4
[36;1m (exit code 0, expected 0)[0m

0xe05e73321b9a46eda78eae8516c850d4

[32;1m[*] TEST PASSED[0m

[*][*] CLEANING UP
>> cl logout
[36;1m (exit code 0, expected 0)[0m


>> cl uinfo
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 11m59s / 100y0d (0.0%)
disk           : 2.3k / 100.0g (0.0%)
parallel_run_quota: 100

>> cl work 0x23706f2903f24b8f8a643ebe09fd41c9
[36;1m (exit code 0, expected 0)[0m

Switched to worksheet: http://rest-server:2900/worksheets/0x23706f2903f24b8f8a643ebe09fd41c9 (temp-test-cli-538231)

>> cl ls -w 0x7f6ed9f7b1d5414a978709b81863a8b4 -u
[36;1m (exit code 0, expected 0)[0m


>> cl wrm --force 0x7f6ed9f7b1d5414a978709b81863a8b4
[36;1m (exit code 0, expected 0)[0m


>> cl uedit codalab --disk-quota 100.0g
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
is_verified    : True
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 11m59s / 100y0d (0.0%)
disk           : 2.3k / 100.0g (0.0%)
parallel_run_quota: 100

[33;1m[*][*] BEGIN MODULE: detach[0m

[*][*] SWITCHING TO TEMPORARY WORKSHEET
>> cl logout
[36;1m (exit code 0, expected 0)[0m


>> cl uinfo
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 11m59s / 100y0d (0.0%)
disk           : 2.3k / 100.0g (0.0%)
parallel_run_quota: 100

>> cl work -u
[36;1m (exit code 0, expected 0)[0m

0x23706f2903f24b8f8a643ebe09fd41c9

>> cl new temp-test-cli-655201
[36;1m (exit code 0, expected 0)[0m

0xe40067e8f3d645968e510c9640742605

>> cl work 0xe40067e8f3d645968e510c9640742605
[36;1m (exit code 0, expected 0)[0m

Switched to worksheet: http://rest-server:2900/worksheets/0xe40067e8f3d645968e510c9640742605 (temp-test-cli-655201)

>> cl uinfo -f disk
[36;1m (exit code 0, expected 0)[0m

2.3k / 100.0g (0.0%)

[*][*] BEGIN TEST
>> cl upload /opt/codalab-worksheets/tests/cli/files/a.txt
[36;1m (exit code 0, expected 0)[0m

0x26c96b869079481fb6837493fa3aa293

>> cl upload /opt/codalab-worksheets/tests/cli/files/b.txt
[36;1m (exit code 0, expected 0)[0m

0xd076f437af364131b52a7d1e481803cc

>> cl add bundle 0x26c96b869079481fb6837493fa3aa293
[36;1m (exit code 0, expected 0)[0m


>> cl add bundle 0xd076f437af364131b52a7d1e481803cc
[36;1m (exit code 0, expected 0)[0m


>> cl detach 0x26c96b869079481fb6837493fa3aa293
[36;1m (exit code 1, expected 1)[0m


>> cl detach 0x26c96b869079481fb6837493fa3aa293 -n 3
[36;1m (exit code 1, expected 1)[0m


>> cl detach 0xd076f437af364131b52a7d1e481803cc -n 2
[36;1m (exit code 0, expected 0)[0m


>> cl info -f uuid ^
[36;1m (exit code 0, expected 0)[0m

0xd076f437af364131b52a7d1e481803cc

>> cl detach 0xd076f437af364131b52a7d1e481803cc
[36;1m (exit code 0, expected 0)[0m


>> cl info -f uuid ^
[36;1m (exit code 0, expected 0)[0m

0x26c96b869079481fb6837493fa3aa293

>> cl detach 0x26c96b869079481fb6837493fa3aa293 -n 2
[36;1m (exit code 0, expected 0)[0m


>> cl detach 0x26c96b869079481fb6837493fa3aa293
[36;1m (exit code 0, expected 0)[0m


>> cl ls -u
[36;1m (exit code 0, expected 0)[0m


[32;1m[*] TEST PASSED[0m

[*][*] CLEANING UP
>> cl logout
[36;1m (exit code 0, expected 0)[0m


>> cl uinfo
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 11m59s / 100y0d (0.0%)
disk           : 2.4k / 100.0g (0.0%)
parallel_run_quota: 100

>> cl work 0x23706f2903f24b8f8a643ebe09fd41c9
[36;1m (exit code 0, expected 0)[0m

Switched to worksheet: http://rest-server:2900/worksheets/0x23706f2903f24b8f8a643ebe09fd41c9 (temp-test-cli-538231)

>> cl ls -w 0xe40067e8f3d645968e510c9640742605 -u
[36;1m (exit code 0, expected 0)[0m


>> cl wrm --force 0xe40067e8f3d645968e510c9640742605
[36;1m (exit code 0, expected 0)[0m


>> cl info -f state 0xd076f437af364131b52a7d1e481803cc
[36;1m (exit code 0, expected 0)[0m

ready

>> cl rm --force 0xd076f437af364131b52a7d1e481803cc
[36;1m (exit code 0, expected 0)[0m

0xd076f437af364131b52a7d1e481803cc

>> cl info -f state 0x26c96b869079481fb6837493fa3aa293
[36;1m (exit code 0, expected 0)[0m

ready

>> cl rm --force 0x26c96b869079481fb6837493fa3aa293
[36;1m (exit code 0, expected 0)[0m

0x26c96b869079481fb6837493fa3aa293

>> cl uedit codalab --disk-quota 100.0g
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
is_verified    : True
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 11m59s / 100y0d (0.0%)
disk           : 2.3k / 100.0g (0.0%)
parallel_run_quota: 100

[33;1m[*][*] BEGIN MODULE: perm[0m

[*][*] SWITCHING TO TEMPORARY WORKSHEET
>> cl logout
[36;1m (exit code 0, expected 0)[0m


>> cl uinfo
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 11m59s / 100y0d (0.0%)
disk           : 2.3k / 100.0g (0.0%)
parallel_run_quota: 100

>> cl work -u
[36;1m (exit code 0, expected 0)[0m

0x23706f2903f24b8f8a643ebe09fd41c9

>> cl new temp-test-cli-735802
[36;1m (exit code 0, expected 0)[0m

0x8a8e6f6af3bd4a47b511b50086a7d703

>> cl work 0x8a8e6f6af3bd4a47b511b50086a7d703
[36;1m (exit code 0, expected 0)[0m

Switched to worksheet: http://rest-server:2900/worksheets/0x8a8e6f6af3bd4a47b511b50086a7d703 (temp-test-cli-735802)

>> cl uinfo -f disk
[36;1m (exit code 0, expected 0)[0m

2.3k / 100.0g (0.0%)

[*][*] BEGIN TEST
>> cl upload /opt/codalab-worksheets/tests/cli/files/a.txt
[36;1m (exit code 0, expected 0)[0m

0x7802a73aa5b44ffaa5a7a1fdd4a7f346

>> cl info -v -f permission 0x7802a73aa5b44ffaa5a7a1fdd4a7f346
[36;1m (exit code 0, expected 0)[0m

all

>> cl perm 0x7802a73aa5b44ffaa5a7a1fdd4a7f346 public n
[36;1m (exit code 0, expected 0)[0m

Group public(0x2dd4be0064a74b968689952b2b43465a) has none permission on 1 bundles.

>> cl perm 0x7802a73aa5b44ffaa5a7a1fdd4a7f346 public r
[36;1m (exit code 0, expected 0)[0m

Group public(0x2dd4be0064a74b968689952b2b43465a) has read permission on 1 bundles.

>> cl perm 0x7802a73aa5b44ffaa5a7a1fdd4a7f346 public a
[36;1m (exit code 0, expected 0)[0m

Group public(0x2dd4be0064a74b968689952b2b43465a) has all permission on 1 bundles.

[32;1m[*] TEST PASSED[0m

[*][*] CLEANING UP
>> cl logout
[36;1m (exit code 0, expected 0)[0m


>> cl uinfo
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 11m59s / 100y0d (0.0%)
disk           : 2.4k / 100.0g (0.0%)
parallel_run_quota: 100

>> cl work 0x23706f2903f24b8f8a643ebe09fd41c9
[36;1m (exit code 0, expected 0)[0m

Switched to worksheet: http://rest-server:2900/worksheets/0x23706f2903f24b8f8a643ebe09fd41c9 (temp-test-cli-538231)

>> cl ls -w 0x8a8e6f6af3bd4a47b511b50086a7d703 -u
[36;1m (exit code 0, expected 0)[0m

0x7802a73aa5b44ffaa5a7a1fdd4a7f346

>> cl wrm --force 0x8a8e6f6af3bd4a47b511b50086a7d703
[36;1m (exit code 0, expected 0)[0m


>> cl info -f state 0x7802a73aa5b44ffaa5a7a1fdd4a7f346
[36;1m (exit code 0, expected 0)[0m

ready

>> cl rm --force 0x7802a73aa5b44ffaa5a7a1fdd4a7f346
[36;1m (exit code 0, expected 0)[0m

0x7802a73aa5b44ffaa5a7a1fdd4a7f346

>> cl uedit codalab --disk-quota 100.0g
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
is_verified    : True
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 11m59s / 100y0d (0.0%)
disk           : 2.3k / 100.0g (0.0%)
parallel_run_quota: 100

[33;1m[*][*] BEGIN MODULE: search[0m

[*][*] SWITCHING TO TEMPORARY WORKSHEET
>> cl logout
[36;1m (exit code 0, expected 0)[0m


>> cl uinfo
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 11m59s / 100y0d (0.0%)
disk           : 2.3k / 100.0g (0.0%)
parallel_run_quota: 100

>> cl work -u
[36;1m (exit code 0, expected 0)[0m

0x23706f2903f24b8f8a643ebe09fd41c9

>> cl new temp-test-cli-121774
[36;1m (exit code 0, expected 0)[0m

0xac08ce03d1a24ab79af98d42120a5a54

>> cl work 0xac08ce03d1a24ab79af98d42120a5a54
[36;1m (exit code 0, expected 0)[0m

Switched to worksheet: http://rest-server:2900/worksheets/0xac08ce03d1a24ab79af98d42120a5a54 (temp-test-cli-121774)

>> cl uinfo -f disk
[36;1m (exit code 0, expected 0)[0m

2.3k / 100.0g (0.0%)

[*][*] BEGIN TEST
>> cl upload /opt/codalab-worksheets/tests/cli/files/a.txt -n temp-test-cli-266908
[36;1m (exit code 0, expected 0)[0m

0x9495ac415365421facd091282c993317

>> cl upload /opt/codalab-worksheets/tests/cli/files/b.txt -n temp-test-cli-266908
[36;1m (exit code 0, expected 0)[0m

0x0e6523838c2c415c93bffdefc7c80c82

>> cl search 0x9495ac415365421facd091282c993317 -u
[36;1m (exit code 0, expected 0)[0m

0x9495ac415365421facd091282c993317

>> cl search uuid=0x9495ac415365421facd091282c993317 -f uuid
[36;1m (exit code 0, expected 0)[0m

uuid    
--------
0x9495ac

>> cl search uuid=0x9495ac415365421facd091282c993317 -u
[36;1m (exit code 0, expected 0)[0m

0x9495ac415365421facd091282c993317

>> cl search uuid=0x9495ac -u
[36;1m (exit code 0, expected 0)[0m


>> cl search uuid=0x9495ac.* -u
[36;1m (exit code 0, expected 0)[0m

0x9495ac415365421facd091282c993317

>> cl search uuid=0x9495ac% -u
[36;1m (exit code 0, expected 0)[0m

0x9495ac415365421facd091282c993317

>> cl search uuid=0x9495ac415365421facd091282c993317 name=temp-test-cli-266908 -u
[36;1m (exit code 0, expected 0)[0m

0x9495ac415365421facd091282c993317

>> cl search name=temp-test-cli-266908 id=.sort -u
[36;1m (exit code 0, expected 0)[0m

0x9495ac415365421facd091282c993317
0x0e6523838c2c415c93bffdefc7c80c82

>> cl search uuid=0x9495ac415365421facd091282c993317,0x0e6523838c2c415c93bffdefc7c80c82 id=.sort -u
[36;1m (exit code 0, expected 0)[0m

0x9495ac415365421facd091282c993317
0x0e6523838c2c415c93bffdefc7c80c82

>> cl search name=temp-test-cli-266908 id=.sort- -u
[36;1m (exit code 0, expected 0)[0m

0x0e6523838c2c415c93bffdefc7c80c82
0x9495ac415365421facd091282c993317

>> cl search name=temp-test-cli-266908 .count
[36;1m (exit code 0, expected 0)[0m

2

>> cl info -f data_size 0x9495ac415365421facd091282c993317
[36;1m (exit code 0, expected 0)[0m

64

>> cl info -f data_size 0x0e6523838c2c415c93bffdefc7c80c82
[36;1m (exit code 0, expected 0)[0m

22

>> cl search name=temp-test-cli-266908 data_size=.sum
[36;1m (exit code 0, expected 0)[0m

86.0

>> cl run --request-docker-image python:3.6.10-slim-buster --request-disk 1m --request-memory 10m echo hello -n temp-test-cli-554934
[36;1m (exit code 0, expected 0)[0m

0xfc9bf109f6884c7eba7d0a7b1383aa52

>> cl wait 0xfc9bf109f6884c7eba7d0a7b1383aa52
[36;1m (exit code 0, expected 0)[0m

0xfc9bf109f6884c7eba7d0a7b1383aa52

>> cl uinfo -f id
[36;1m (exit code 0, expected 0)[0m

0

>> cl uinfo -f user_name
[36;1m (exit code 0, expected 0)[0m

codalab

>> cl gnew temp-test-cli-351396
[36;1m (exit code 0, expected 0)[0m

Created new group temp-test-cli-351396(0x7e467b4c5abc4b5bad783ed6e5532398).

>> cl perm 0xfc9bf109f6884c7eba7d0a7b1383aa52 public n
[36;1m (exit code 0, expected 0)[0m

Group public(0x2dd4be0064a74b968689952b2b43465a) has none permission on 1 bundles.

>> cl perm 0xfc9bf109f6884c7eba7d0a7b1383aa52 temp-test-cli-351396 r
[36;1m (exit code 0, expected 0)[0m

Group temp-test-cli-351396(0x7e467b4c5abc4b5bad783ed6e5532398) has read permission on 1 bundles.

>> cl search .shared
[36;1m (exit code 0, expected 0)[0m

uuid      name                  summary  owner    created              data_size  state
---------------------------------------------------------------------------------------
0xfc9bf1  temp-test-cli-554934           codalab  2022-04-30 01:45:25        134  ready

>> cl search group=0x7e467b4c5abc4b5bad783ed6e5532398
[36;1m (exit code 0, expected 0)[0m

uuid      name                  summary  owner    created              data_size  state
---------------------------------------------------------------------------------------
0xfc9bf1  temp-test-cli-554934           codalab  2022-04-30 01:45:25        134  ready

>> cl search group=temp-test-cli-351396
[36;1m (exit code 0, expected 0)[0m

uuid      name                  summary  owner    created              data_size  state
---------------------------------------------------------------------------------------
0xfc9bf1  temp-test-cli-554934           codalab  2022-04-30 01:45:25        134  ready

[32;1m[*] TEST PASSED[0m

[*][*] CLEANING UP
>> cl logout
[36;1m (exit code 0, expected 0)[0m


>> cl uinfo
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 11m59s / 100y0d (0.0%)
disk           : 2.5k / 100.0g (0.0%)
parallel_run_quota: 100

>> cl work 0x23706f2903f24b8f8a643ebe09fd41c9
[36;1m (exit code 0, expected 0)[0m

Switched to worksheet: http://rest-server:2900/worksheets/0x23706f2903f24b8f8a643ebe09fd41c9 (temp-test-cli-538231)

>> cl ls -w 0xac08ce03d1a24ab79af98d42120a5a54 -u
[36;1m (exit code 0, expected 0)[0m

0x9495ac415365421facd091282c993317
0x0e6523838c2c415c93bffdefc7c80c82
0xfc9bf109f6884c7eba7d0a7b1383aa52

>> cl wrm --force 0xac08ce03d1a24ab79af98d42120a5a54
[36;1m (exit code 0, expected 0)[0m


>> cl info -f state 0x9495ac415365421facd091282c993317
[36;1m (exit code 0, expected 0)[0m

ready

>> cl rm --force 0x9495ac415365421facd091282c993317
[36;1m (exit code 0, expected 0)[0m

0x9495ac415365421facd091282c993317

>> cl info -f state 0xfc9bf109f6884c7eba7d0a7b1383aa52
[36;1m (exit code 0, expected 0)[0m

ready

>> cl rm --force 0xfc9bf109f6884c7eba7d0a7b1383aa52
[36;1m (exit code 0, expected 0)[0m

0xfc9bf109f6884c7eba7d0a7b1383aa52

>> cl info -f state 0x0e6523838c2c415c93bffdefc7c80c82
[36;1m (exit code 0, expected 0)[0m

ready

>> cl rm --force 0x0e6523838c2c415c93bffdefc7c80c82
[36;1m (exit code 0, expected 0)[0m

0x0e6523838c2c415c93bffdefc7c80c82

>> cl uedit codalab --disk-quota 100.0g
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
is_verified    : True
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 11m59s / 100y0d (0.0%)
disk           : 2.3k / 100.0g (0.0%)
parallel_run_quota: 100

>> cl grm 0x7e467b4c5abc4b5bad783ed6e5532398
[36;1m (exit code 0, expected 0)[0m

Deleted group temp-test-cli-351396(0x7e467b4c5abc4b5bad783ed6e5532398).

[33;1m[*][*] BEGIN MODULE: search_time[0m

[*][*] SWITCHING TO TEMPORARY WORKSHEET
>> cl logout
[36;1m (exit code 0, expected 0)[0m


>> cl uinfo
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 11m59s / 100y0d (0.0%)
disk           : 2.3k / 100.0g (0.0%)
parallel_run_quota: 100

>> cl work -u
[36;1m (exit code 0, expected 0)[0m

0x23706f2903f24b8f8a643ebe09fd41c9

>> cl new temp-test-cli-683336
[36;1m (exit code 0, expected 0)[0m

0xcc465be2882f403c84f5c2a5f5b72ffe

>> cl work 0xcc465be2882f403c84f5c2a5f5b72ffe
[36;1m (exit code 0, expected 0)[0m

Switched to worksheet: http://rest-server:2900/worksheets/0xcc465be2882f403c84f5c2a5f5b72ffe (temp-test-cli-683336)

>> cl uinfo -f disk
[36;1m (exit code 0, expected 0)[0m

2.3k / 100.0g (0.0%)

[*][*] BEGIN TEST
>> cl run --request-docker-image python:3.6.10-slim-buster --request-disk 1m --request-memory 10m date -n temp-test-cli-763523
[36;1m (exit code 0, expected 0)[0m

0xcdcb6944d5524146bccb0f9300945e85

>> cl wait 0xcdcb6944d5524146bccb0f9300945e85
[36;1m (exit code 0, expected 0)[0m

0xcdcb6944d5524146bccb0f9300945e85

>> cl run --request-docker-image python:3.6.10-slim-buster --request-disk 1m --request-memory 10m date -n temp-test-cli-763523
[36;1m (exit code 0, expected 0)[0m

0x5dd0021b9fcb4905bcb032b5b3f74d28

>> cl wait 0x5dd0021b9fcb4905bcb032b5b3f74d28
[36;1m (exit code 0, expected 0)[0m

0x5dd0021b9fcb4905bcb032b5b3f74d28

>> cl run --request-docker-image python:3.6.10-slim-buster --request-disk 1m --request-memory 10m date -n temp-test-cli-763523
[36;1m (exit code 0, expected 0)[0m

0x0b71db186c1a4c08bedae1bd78b317b8

>> cl wait 0x0b71db186c1a4c08bedae1bd78b317b8
[36;1m (exit code 0, expected 0)[0m

0x0b71db186c1a4c08bedae1bd78b317b8

>> cl search name=temp-test-cli-763523 .before=2022-04-30T01:45:34.071520 -u
[36;1m (exit code 0, expected 0)[0m


>> cl search name=temp-test-cli-763523 .after=2022-04-30T01:46:06.454497 -u
[36;1m (exit code 0, expected 0)[0m


>> cl search name=temp-test-cli-763523 .before=2022-04-30T01:45:44.443414 id=.sort -u
[36;1m (exit code 0, expected 0)[0m

0xcdcb6944d5524146bccb0f9300945e85

>> cl search name=temp-test-cli-763523 .before=2022-04-30T01:46:06.454497 id=.sort -u
[36;1m (exit code 0, expected 0)[0m

0xcdcb6944d5524146bccb0f9300945e85
0x5dd0021b9fcb4905bcb032b5b3f74d28
0x0b71db186c1a4c08bedae1bd78b317b8

>> cl search name=temp-test-cli-763523 .after=2022-04-30T01:45:34.071520 id=.sort -u
[36;1m (exit code 0, expected 0)[0m

0xcdcb6944d5524146bccb0f9300945e85
0x5dd0021b9fcb4905bcb032b5b3f74d28
0x0b71db186c1a4c08bedae1bd78b317b8

>> cl search name=temp-test-cli-763523 .after=2022-04-30T01:45:44.443414 id=.sort -u
[36;1m (exit code 0, expected 0)[0m

0x5dd0021b9fcb4905bcb032b5b3f74d28
0x0b71db186c1a4c08bedae1bd78b317b8

>> cl search name=temp-test-cli-763523 .after=2022-04-30T01:45:34.071520 .before=2022-04-30T01:45:44.443414 id=.sort -u
[36;1m (exit code 0, expected 0)[0m

0xcdcb6944d5524146bccb0f9300945e85

>> cl search name=temp-test-cli-763523 .after=2022-04-30T01:45:44.443414 .before=2022-04-30T01:46:06.454497 id=.sort -u
[36;1m (exit code 0, expected 0)[0m

0x5dd0021b9fcb4905bcb032b5b3f74d28
0x0b71db186c1a4c08bedae1bd78b317b8

[32;1m[*] TEST PASSED[0m

[*][*] CLEANING UP
>> cl logout
[36;1m (exit code 0, expected 0)[0m


>> cl uinfo
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 11m59s / 100y0d (0.0%)
disk           : 2.8k / 100.0g (0.0%)
parallel_run_quota: 100

>> cl work 0x23706f2903f24b8f8a643ebe09fd41c9
[36;1m (exit code 0, expected 0)[0m

Switched to worksheet: http://rest-server:2900/worksheets/0x23706f2903f24b8f8a643ebe09fd41c9 (temp-test-cli-538231)

>> cl ls -w 0xcc465be2882f403c84f5c2a5f5b72ffe -u
[36;1m (exit code 0, expected 0)[0m

0xcdcb6944d5524146bccb0f9300945e85
0x5dd0021b9fcb4905bcb032b5b3f74d28
0x0b71db186c1a4c08bedae1bd78b317b8

>> cl wrm --force 0xcc465be2882f403c84f5c2a5f5b72ffe
[36;1m (exit code 0, expected 0)[0m


>> cl info -f state 0x5dd0021b9fcb4905bcb032b5b3f74d28
[36;1m (exit code 0, expected 0)[0m

ready

>> cl rm --force 0x5dd0021b9fcb4905bcb032b5b3f74d28
[36;1m (exit code 0, expected 0)[0m

0x5dd0021b9fcb4905bcb032b5b3f74d28

>> cl info -f state 0xcdcb6944d5524146bccb0f9300945e85
[36;1m (exit code 0, expected 0)[0m

ready

>> cl rm --force 0xcdcb6944d5524146bccb0f9300945e85
[36;1m (exit code 0, expected 0)[0m

0xcdcb6944d5524146bccb0f9300945e85

>> cl info -f state 0x0b71db186c1a4c08bedae1bd78b317b8
[36;1m (exit code 0, expected 0)[0m

ready

>> cl rm --force 0x0b71db186c1a4c08bedae1bd78b317b8
[36;1m (exit code 0, expected 0)[0m

0x0b71db186c1a4c08bedae1bd78b317b8

>> cl uedit codalab --disk-quota 100.0g
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
is_verified    : True
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 11m59s / 100y0d (0.0%)
disk           : 2.3k / 100.0g (0.0%)
parallel_run_quota: 100

[33;1m[*][*] BEGIN MODULE: run[0m

[*][*] SWITCHING TO TEMPORARY WORKSHEET
>> cl logout
[36;1m (exit code 0, expected 0)[0m


>> cl uinfo
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 11m59s / 100y0d (0.0%)
disk           : 2.3k / 100.0g (0.0%)
parallel_run_quota: 100

>> cl work -u
[36;1m (exit code 0, expected 0)[0m

0x23706f2903f24b8f8a643ebe09fd41c9

>> cl new temp-test-cli-28731
[36;1m (exit code 0, expected 0)[0m

0x728000dfa3044ee3b72773166dbf6ef2

>> cl work 0x728000dfa3044ee3b72773166dbf6ef2
[36;1m (exit code 0, expected 0)[0m

Switched to worksheet: http://rest-server:2900/worksheets/0x728000dfa3044ee3b72773166dbf6ef2 (temp-test-cli-28731)

>> cl uinfo -f disk
[36;1m (exit code 0, expected 0)[0m

2.3k / 100.0g (0.0%)

[*][*] BEGIN TEST
>> cl run --request-docker-image python:3.6.10-slim-buster --request-disk 1m --request-memory 10m echo hello -n temp-test-cli-233109
[36;1m (exit code 0, expected 0)[0m

0x9c701c9a1b5b4538863dfce061f6a6a2

>> cl wait 0x9c701c9a1b5b4538863dfce061f6a6a2
[36;1m (exit code 0, expected 0)[0m

0x9c701c9a1b5b4538863dfce061f6a6a2

>> cl info -f data_hash 0x9c701c9a1b5b4538863dfce061f6a6a2
[36;1m (exit code 0, expected 0)[0m

0xea7dcd933e02c1b9a3d5ad1746c7c5822ad48a23

>> cl info -f time_preparing 0x9c701c9a1b5b4538863dfce061f6a6a2
[36;1m (exit code 0, expected 0)[0m

2.5416266918182373

>> cl info -f time_running 0x9c701c9a1b5b4538863dfce061f6a6a2
[36;1m (exit code 0, expected 0)[0m

2.229551076889038

>> cl info -f time_cleaning_up 0x9c701c9a1b5b4538863dfce061f6a6a2
[36;1m (exit code 0, expected 0)[0m

0.11421656608581543

>> cl info -f time_uploading_results 0x9c701c9a1b5b4538863dfce061f6a6a2
[36;1m (exit code 0, expected 0)[0m

3.3488402366638184

>> cl search temp-test-cli-233109
[36;1m (exit code 0, expected 0)[0m

uuid      name                  summary  owner    created              data_size  state
---------------------------------------------------------------------------------------
0x9c701c  temp-test-cli-233109           codalab  2022-04-30 01:46:08        134  ready

>> cl search temp-test-cli-233109 -u
[36;1m (exit code 0, expected 0)[0m

0x9c701c9a1b5b4538863dfce061f6a6a2

>> cl search temp-test-cli-233109 --append
[36;1m (exit code 0, expected 0)[0m

uuid      name                  summary  owner    created              data_size  state
---------------------------------------------------------------------------------------
0x9c701c  temp-test-cli-233109           codalab  2022-04-30 01:46:08        134  ready
Added 1 bundles to http://rest-server:2900/worksheets/0x728000dfa3044ee3b72773166dbf6ef2 (temp-test-cli-28731)

>> cl download 0x9c701c9a1b5b4538863dfce061f6a6a2/stdout -o /tmp/temp-test-cli-301570
[36;1m (exit code 0, expected 0)[0m

Downloading temp-test-cli-233109(0x9c701c9a1b5b4538863dfce061f6a6a2)/stdout => /tmp/temp-test-cli-301570

>> cl info -f state 0x9c701c9a1b5b4538863dfce061f6a6a2
[36;1m (exit code 0, expected 0)[0m

ready

>> cl info -f args 0x9c701c9a1b5b4538863dfce061f6a6a2
[36;1m (exit code 0, expected 0)[0m

run "echo hello" --request-cpus 1 --request-disk 1m --request-docker-image python:3.6.10-slim-buster --request-memory 10m --request-network

>> cl cat 0x9c701c9a1b5b4538863dfce061f6a6a2/stdout
[36;1m (exit code 0, expected 0)[0m

hello

>> cl run --request-docker-image python:3.6.10-slim-buster --request-disk 1m --request-memory 10m echo hello -n temp-test-cli-514073-dashed.dotted
[36;1m (exit code 0, expected 0)[0m

0x2e364532a1e449e6a0e8b10252aeff4c

>> cl run --request-docker-image python:3.6.10-slim-buster --request-disk 1m --request-memory 10m :temp-test-cli-514073-dashed.dotted cat temp-test-cli-514073-dashed.dotted/stdout
[36;1m (exit code 0, expected 0)[0m

0x3d9661a02d22472b83b5bde52ebb0fa2

>> cl wait 0x3d9661a02d22472b83b5bde52ebb0fa2
[36;1m (exit code 0, expected 0)[0m

0x3d9661a02d22472b83b5bde52ebb0fa2

>> cl cat 0x3d9661a02d22472b83b5bde52ebb0fa2/stdout
[36;1m (exit code 0, expected 0)[0m

hello

>> cl work
[36;1m (exit code 0, expected 0)[0m

Currently on worksheet: http://rest-server:2900/worksheets/0x728000dfa3044ee3b72773166dbf6ef2 (temp-test-cli-28731)

>> cl new temp-test-cli-171306
[36;1m (exit code 0, expected 0)[0m

0x7889bff7fae2416d8ee55f7e00045599

>> cl work 0x7889bff7fae2416d8ee55f7e00045599
[36;1m (exit code 0, expected 0)[0m

Switched to worksheet: http://rest-server:2900/worksheets/0x7889bff7fae2416d8ee55f7e00045599 (temp-test-cli-171306)

>> cl run --request-docker-image python:3.6.10-slim-buster --request-disk 1m --request-memory 10m source:temp-test-cli-28731//temp-test-cli-233109 cat source/stdout -n temp-test-cli-538256
[36;1m (exit code 0, expected 0)[0m

0x96ce1ba4e1404d088b4893dd5f3b21da

>> cl wait 0x96ce1ba4e1404d088b4893dd5f3b21da
[36;1m (exit code 0, expected 0)[0m

0x96ce1ba4e1404d088b4893dd5f3b21da

>> cl search temp-test-cli-538256
[36;1m (exit code 0, expected 0)[0m

uuid      name                  summary  owner    created              data_size  state
---------------------------------------------------------------------------------------
0x96ce1b  temp-test-cli-538256           codalab  2022-04-30 01:46:56        134  ready

>> cl search temp-test-cli-538256 -u
[36;1m (exit code 0, expected 0)[0m

0x96ce1ba4e1404d088b4893dd5f3b21da

>> cl cat 0x96ce1ba4e1404d088b4893dd5f3b21da/stdout
[36;1m (exit code 0, expected 0)[0m

hello

>> cl run --request-docker-image python:3.6.10-slim-buster --request-disk 1m --request-memory 10m cat %temp-test-cli-28731//temp-test-cli-233109%/stdout -n temp-test-cli-775525
[36;1m (exit code 0, expected 0)[0m

0x0f0838b01e6842dc8feab2601245ae23

>> cl wait 0x0f0838b01e6842dc8feab2601245ae23
[36;1m (exit code 0, expected 0)[0m

0x0f0838b01e6842dc8feab2601245ae23

>> cl search temp-test-cli-775525
[36;1m (exit code 0, expected 0)[0m

uuid      name                  summary  owner    created              data_size  state
---------------------------------------------------------------------------------------
0x0f0838  temp-test-cli-775525           codalab  2022-04-30 01:47:16        134  ready

>> cl search temp-test-cli-775525 -u
[36;1m (exit code 0, expected 0)[0m

0x0f0838b01e6842dc8feab2601245ae23

>> cl cat 0x0f0838b01e6842dc8feab2601245ae23/stdout
[36;1m (exit code 0, expected 0)[0m

hello

>> cl run --request-docker-image python:3.6.10-slim-buster --request-disk 1m --request-memory 10m cat %http://rest-server:2900::temp-test-cli-28731//temp-test-cli-233109%/stdout
[36;1m (exit code 1, expected 1)[0m


>> cl run --request-docker-image python:3.6.10-slim-buster --request-disk 1m --request-memory 10m foo:0x9c701c9a1b5b4538863dfce061f6a6a2 foo1:0x9c701c9a1b5b4538863dfce061f6a6a2 foo2:0x9c701c9a1b5b4538863dfce061f6a6a2 echo "three aliases"
[36;1m (exit code 0, expected 0)[0m

0xe4c184bd3928427db97c86e40c16f58a

>> cl wait 0xe4c184bd3928427db97c86e40c16f58a
[36;1m (exit code 0, expected 0)[0m

0xe4c184bd3928427db97c86e40c16f58a

>> cl cat 0xe4c184bd3928427db97c86e40c16f58a/stdout
[36;1m (exit code 0, expected 0)[0m

three aliases

>> cl cat 0xe4c184bd3928427db97c86e40c16f58a/foo/stdout
[36;1m (exit code 0, expected 0)[0m

hello

>> cl cat 0xe4c184bd3928427db97c86e40c16f58a/foo1/stdout
[36;1m (exit code 0, expected 0)[0m

hello

>> cl cat 0xe4c184bd3928427db97c86e40c16f58a/foo2/stdout
[36;1m (exit code 0, expected 0)[0m

hello

>> cl run --request-docker-image python:3.6.10-slim-buster --request-disk 1m --request-memory 10m echo "hi" > hi.txt ; echo "bye" > bye.txt; echo "goodbye" > goodbye.txt --exclude-patterns *bye*.txt
[36;1m (exit code 0, expected 0)[0m

0x7e6f9a0bab4e42c587d2f6a3984af602

>> cl wait 0x7e6f9a0bab4e42c587d2f6a3984af602
[36;1m (exit code 0, expected 0)[0m

0x7e6f9a0bab4e42c587d2f6a3984af602

>> cl cat 0x7e6f9a0bab4e42c587d2f6a3984af602
[36;1m (exit code 0, expected 0)[0m

name    perm   size
-------------------
hi.txt  0o644     3
stderr  0o644     0
stdout  0o644     0

>> cl run --request-docker-image python:3.6.10-slim-buster --request-disk 1m --request-memory 10m echo "hi" > hi.txt ; echo "bye" > bye.txt; echo "goodbye" > goodbye.txt --exclude-patterns bye.txt goodbye.txt
[36;1m (exit code 0, expected 0)[0m

0x31cb5efdaa6847c9bfe2ed7993b7b743

>> cl wait 0x31cb5efdaa6847c9bfe2ed7993b7b743
[36;1m (exit code 0, expected 0)[0m

0x31cb5efdaa6847c9bfe2ed7993b7b743

>> cl cat 0x31cb5efdaa6847c9bfe2ed7993b7b743
[36;1m (exit code 0, expected 0)[0m

name    perm   size
-------------------
hi.txt  0o644     3
stderr  0o644     0
stdout  0o644     0

[32;1m[*] TEST PASSED[0m

[*][*] CLEANING UP
>> cl logout
[36;1m (exit code 0, expected 0)[0m


>> cl uinfo
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 11m59s / 100y0d (0.0%)
disk           : 3.4k / 100.0g (0.0%)
parallel_run_quota: 100

>> cl work 0x23706f2903f24b8f8a643ebe09fd41c9
[36;1m (exit code 0, expected 0)[0m

Switched to worksheet: http://rest-server:2900/worksheets/0x23706f2903f24b8f8a643ebe09fd41c9 (temp-test-cli-538231)

>> cl ls -w 0x728000dfa3044ee3b72773166dbf6ef2 -u
[36;1m (exit code 0, expected 0)[0m

0x9c701c9a1b5b4538863dfce061f6a6a2
0x9c701c9a1b5b4538863dfce061f6a6a2
0x2e364532a1e449e6a0e8b10252aeff4c
0x3d9661a02d22472b83b5bde52ebb0fa2

>> cl wrm --force 0x728000dfa3044ee3b72773166dbf6ef2
[36;1m (exit code 0, expected 0)[0m


>> cl ls -w 0x7889bff7fae2416d8ee55f7e00045599 -u
[36;1m (exit code 0, expected 0)[0m

0x96ce1ba4e1404d088b4893dd5f3b21da
0x0f0838b01e6842dc8feab2601245ae23
0xe4c184bd3928427db97c86e40c16f58a
0x7e6f9a0bab4e42c587d2f6a3984af602
0x31cb5efdaa6847c9bfe2ed7993b7b743

>> cl wrm --force 0x7889bff7fae2416d8ee55f7e00045599
[36;1m (exit code 0, expected 0)[0m


>> cl info -f state 0x9c701c9a1b5b4538863dfce061f6a6a2
[36;1m (exit code 0, expected 0)[0m

ready

>> cl rm --force 0x9c701c9a1b5b4538863dfce061f6a6a2
[36;1m (exit code 0, expected 0)[0m

0x9c701c9a1b5b4538863dfce061f6a6a2

>> cl info -f state 0xe4c184bd3928427db97c86e40c16f58a
[36;1m (exit code 0, expected 0)[0m

ready

>> cl rm --force 0xe4c184bd3928427db97c86e40c16f58a
[36;1m (exit code 0, expected 0)[0m

0xe4c184bd3928427db97c86e40c16f58a

>> cl info -f state 0x31cb5efdaa6847c9bfe2ed7993b7b743
[36;1m (exit code 0, expected 0)[0m

ready

>> cl rm --force 0x31cb5efdaa6847c9bfe2ed7993b7b743
[36;1m (exit code 0, expected 0)[0m

0x31cb5efdaa6847c9bfe2ed7993b7b743

>> cl info -f state 0x2e364532a1e449e6a0e8b10252aeff4c
[36;1m (exit code 0, expected 0)[0m

ready

>> cl rm --force 0x2e364532a1e449e6a0e8b10252aeff4c
[36;1m (exit code 0, expected 0)[0m

0x2e364532a1e449e6a0e8b10252aeff4c

>> cl info -f state 0x96ce1ba4e1404d088b4893dd5f3b21da
[36;1m (exit code 0, expected 0)[0m

ready

>> cl rm --force 0x96ce1ba4e1404d088b4893dd5f3b21da
[36;1m (exit code 0, expected 0)[0m

0x96ce1ba4e1404d088b4893dd5f3b21da

>> cl info -f state 0x3d9661a02d22472b83b5bde52ebb0fa2
[36;1m (exit code 0, expected 0)[0m

ready

>> cl rm --force 0x3d9661a02d22472b83b5bde52ebb0fa2
[36;1m (exit code 0, expected 0)[0m

0x3d9661a02d22472b83b5bde52ebb0fa2

>> cl info -f state 0x0f0838b01e6842dc8feab2601245ae23
[36;1m (exit code 0, expected 0)[0m

ready

>> cl rm --force 0x0f0838b01e6842dc8feab2601245ae23
[36;1m (exit code 0, expected 0)[0m

0x0f0838b01e6842dc8feab2601245ae23

>> cl info -f state 0x7e6f9a0bab4e42c587d2f6a3984af602
[36;1m (exit code 0, expected 0)[0m

ready

>> cl rm --force 0x7e6f9a0bab4e42c587d2f6a3984af602
[36;1m (exit code 0, expected 0)[0m

0x7e6f9a0bab4e42c587d2f6a3984af602

>> cl uedit codalab --disk-quota 100.0g
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
is_verified    : True
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 11m59s / 100y0d (0.0%)
disk           : 2.3k / 100.0g (0.0%)
parallel_run_quota: 100

[33;1m[*][*] BEGIN MODULE: time[0m

[33;1m[*][*] DESCRIPTION: Various tests that ensure the timing of runs is still fast.[0m

[*][*] SWITCHING TO TEMPORARY WORKSHEET
>> cl logout
[36;1m (exit code 0, expected 0)[0m


>> cl uinfo
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 11m59s / 100y0d (0.0%)
disk           : 2.3k / 100.0g (0.0%)
parallel_run_quota: 100

>> cl work -u
[36;1m (exit code 0, expected 0)[0m

0x23706f2903f24b8f8a643ebe09fd41c9

>> cl new temp-test-cli-780913
[36;1m (exit code 0, expected 0)[0m

0xb15b07446d2f4782af0558ac2a69d1e0

>> cl work 0xb15b07446d2f4782af0558ac2a69d1e0
[36;1m (exit code 0, expected 0)[0m

Switched to worksheet: http://rest-server:2900/worksheets/0xb15b07446d2f4782af0558ac2a69d1e0 (temp-test-cli-780913)

>> cl uinfo -f disk
[36;1m (exit code 0, expected 0)[0m

2.3k / 100.0g (0.0%)

[*][*] BEGIN TEST
>> cl run --request-docker-image python:3.6.10-slim-buster --request-disk 1m --request-memory 10m echo hello
[36;1m (exit code 0, expected 0)[0m

0xec751a9a2f524a589f28d8482d7c49a9

>> cl info -f state 0xec751a9a2f524a589f28d8482d7c49a9
[36;1m (exit code 0, expected 0)[0m

created

>> cl info -f state 0xec751a9a2f524a589f28d8482d7c49a9
[36;1m (exit code 0, expected 0)[0m

staged

>> cl info -f state 0xec751a9a2f524a589f28d8482d7c49a9
[36;1m (exit code 0, expected 0)[0m

starting

>> cl info -f state 0xec751a9a2f524a589f28d8482d7c49a9
[36;1m (exit code 0, expected 0)[0m

staged

>> cl info -f state 0xec751a9a2f524a589f28d8482d7c49a9
[36;1m (exit code 0, expected 0)[0m

staged

>> cl info -f state 0xec751a9a2f524a589f28d8482d7c49a9
[36;1m (exit code 0, expected 0)[0m

preparing

>> cl info -f state 0xec751a9a2f524a589f28d8482d7c49a9
[36;1m (exit code 0, expected 0)[0m

preparing

>> cl info -f state 0xec751a9a2f524a589f28d8482d7c49a9
[36;1m (exit code 0, expected 0)[0m

preparing

>> cl info -f state 0xec751a9a2f524a589f28d8482d7c49a9
[36;1m (exit code 0, expected 0)[0m

preparing

>> cl info -f state 0xec751a9a2f524a589f28d8482d7c49a9
[36;1m (exit code 0, expected 0)[0m

preparing

>> cl info -f state 0xec751a9a2f524a589f28d8482d7c49a9
[36;1m (exit code 0, expected 0)[0m

preparing

>> cl info -f state 0xec751a9a2f524a589f28d8482d7c49a9
[36;1m (exit code 0, expected 0)[0m

preparing

>> cl info -f state 0xec751a9a2f524a589f28d8482d7c49a9
[36;1m (exit code 0, expected 0)[0m

preparing

>> cl info -f state 0xec751a9a2f524a589f28d8482d7c49a9
[36;1m (exit code 0, expected 0)[0m

preparing

>> cl info -f state 0xec751a9a2f524a589f28d8482d7c49a9
[36;1m (exit code 0, expected 0)[0m

finalizing

>> cl info -f state 0xec751a9a2f524a589f28d8482d7c49a9
[36;1m (exit code 0, expected 0)[0m

ready

>> cl run --request-docker-image python:3.6.10-slim-buster --request-disk 1m --request-memory 10m dep:0xec751a9a2f524a589f28d8482d7c49a9 ls dep
[36;1m (exit code 0, expected 0)[0m

0xfa667e48c8bc45bc81338169452af83a

>> cl info -f state 0xfa667e48c8bc45bc81338169452af83a
[36;1m (exit code 0, expected 0)[0m

created

>> cl info -f state 0xfa667e48c8bc45bc81338169452af83a
[36;1m (exit code 0, expected 0)[0m

staged

>> cl info -f state 0xfa667e48c8bc45bc81338169452af83a
[36;1m (exit code 0, expected 0)[0m

starting

>> cl info -f state 0xfa667e48c8bc45bc81338169452af83a
[36;1m (exit code 0, expected 0)[0m

staged

>> cl info -f state 0xfa667e48c8bc45bc81338169452af83a
[36;1m (exit code 0, expected 0)[0m

staged

>> cl info -f state 0xfa667e48c8bc45bc81338169452af83a
[36;1m (exit code 0, expected 0)[0m

starting

>> cl info -f state 0xfa667e48c8bc45bc81338169452af83a
[36;1m (exit code 0, expected 0)[0m

staged

>> cl info -f state 0xfa667e48c8bc45bc81338169452af83a
[36;1m (exit code 0, expected 0)[0m

staged

>> cl info -f state 0xfa667e48c8bc45bc81338169452af83a
[36;1m (exit code 0, expected 0)[0m

starting

>> cl info -f state 0xfa667e48c8bc45bc81338169452af83a
[36;1m (exit code 0, expected 0)[0m

staged

>> cl info -f state 0xfa667e48c8bc45bc81338169452af83a
[36;1m (exit code 0, expected 0)[0m

preparing

>> cl info -f state 0xfa667e48c8bc45bc81338169452af83a
[36;1m (exit code 0, expected 0)[0m

preparing

>> cl info -f state 0xfa667e48c8bc45bc81338169452af83a
[36;1m (exit code 0, expected 0)[0m

preparing

>> cl info -f state 0xfa667e48c8bc45bc81338169452af83a
[36;1m (exit code 0, expected 0)[0m

preparing

>> cl info -f state 0xfa667e48c8bc45bc81338169452af83a
[36;1m (exit code 0, expected 0)[0m

preparing

>> cl info -f state 0xfa667e48c8bc45bc81338169452af83a
[36;1m (exit code 0, expected 0)[0m

preparing

>> cl info -f state 0xfa667e48c8bc45bc81338169452af83a
[36;1m (exit code 0, expected 0)[0m

preparing

>> cl info -f state 0xfa667e48c8bc45bc81338169452af83a
[36;1m (exit code 0, expected 0)[0m

preparing

>> cl info -f state 0xfa667e48c8bc45bc81338169452af83a
[36;1m (exit code 0, expected 0)[0m

preparing

>> cl info -f state 0xfa667e48c8bc45bc81338169452af83a
[36;1m (exit code 0, expected 0)[0m

preparing

>> cl info -f state 0xfa667e48c8bc45bc81338169452af83a
[36;1m (exit code 0, expected 0)[0m

preparing

>> cl info -f state 0xfa667e48c8bc45bc81338169452af83a
[36;1m (exit code 0, expected 0)[0m

preparing

>> cl info -f state 0xfa667e48c8bc45bc81338169452af83a
[36;1m (exit code 0, expected 0)[0m

running

>> cl info -f state 0xfa667e48c8bc45bc81338169452af83a
[36;1m (exit code 0, expected 0)[0m

running

>> cl info -f state 0xfa667e48c8bc45bc81338169452af83a
[36;1m (exit code 0, expected 0)[0m

running

>> cl info -f state 0xfa667e48c8bc45bc81338169452af83a
[36;1m (exit code 0, expected 0)[0m

running

>> cl info -f state 0xfa667e48c8bc45bc81338169452af83a
[36;1m (exit code 0, expected 0)[0m

running

>> cl info -f state 0xfa667e48c8bc45bc81338169452af83a
[36;1m (exit code 0, expected 0)[0m

running

>> cl info -f state 0xfa667e48c8bc45bc81338169452af83a
[36;1m (exit code 0, expected 0)[0m

running

>> cl info -f state 0xfa667e48c8bc45bc81338169452af83a
[36;1m (exit code 0, expected 0)[0m

running

>> cl info -f state 0xfa667e48c8bc45bc81338169452af83a
[36;1m (exit code 0, expected 0)[0m

running

>> cl info -f state 0xfa667e48c8bc45bc81338169452af83a
[36;1m (exit code 0, expected 0)[0m

running

>> cl info -f state 0xfa667e48c8bc45bc81338169452af83a
[36;1m (exit code 0, expected 0)[0m

running

>> cl info -f state 0xfa667e48c8bc45bc81338169452af83a
[36;1m (exit code 0, expected 0)[0m

running

>> cl info -f state 0xfa667e48c8bc45bc81338169452af83a
[36;1m (exit code 0, expected 0)[0m

running

>> cl info -f state 0xfa667e48c8bc45bc81338169452af83a
[36;1m (exit code 0, expected 0)[0m

running

[31;1m[!] ERROR: timeout while waiting for 0xfa667e48c8bc45bc81338169452af83a to run[0m

[*][*] CLEANING UP
>> cl logout
[36;1m (exit code 0, expected 0)[0m


>> cl uinfo
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 11m59s / 100y0d (0.0%)
disk           : 2.6k / 100.0g (0.0%)
parallel_run_quota: 100

>> cl work 0x23706f2903f24b8f8a643ebe09fd41c9
[36;1m (exit code 0, expected 0)[0m

Switched to worksheet: http://rest-server:2900/worksheets/0x23706f2903f24b8f8a643ebe09fd41c9 (temp-test-cli-538231)

>> cl ls -w 0xb15b07446d2f4782af0558ac2a69d1e0 -u
[36;1m (exit code 0, expected 0)[0m

0xec751a9a2f524a589f28d8482d7c49a9
0xfa667e48c8bc45bc81338169452af83a

>> cl wrm --force 0xb15b07446d2f4782af0558ac2a69d1e0
[36;1m (exit code 0, expected 0)[0m


>> cl info -f state 0xec751a9a2f524a589f28d8482d7c49a9
[36;1m (exit code 0, expected 0)[0m

ready

>> cl rm --force 0xec751a9a2f524a589f28d8482d7c49a9
[36;1m (exit code 0, expected 0)[0m

0xec751a9a2f524a589f28d8482d7c49a9

>> cl info -f state 0xfa667e48c8bc45bc81338169452af83a
[36;1m (exit code 0, expected 0)[0m

ready

>> cl rm --force 0xfa667e48c8bc45bc81338169452af83a
[36;1m (exit code 0, expected 0)[0m

0xfa667e48c8bc45bc81338169452af83a

>> cl uedit codalab --disk-quota 100.0g
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
is_verified    : True
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 11m59s / 100y0d (0.0%)
disk           : 2.3k / 100.0g (0.0%)
parallel_run_quota: 100

[33;1m[*][*] BEGIN MODULE: link[0m

[*][*] SWITCHING TO TEMPORARY WORKSHEET
>> cl logout
[36;1m (exit code 0, expected 0)[0m


>> cl uinfo
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 11m59s / 100y0d (0.0%)
disk           : 2.3k / 100.0g (0.0%)
parallel_run_quota: 100

>> cl work -u
[36;1m (exit code 0, expected 0)[0m

0x23706f2903f24b8f8a643ebe09fd41c9

>> cl new temp-test-cli-151696
[36;1m (exit code 0, expected 0)[0m

0xc553860fb217493484f239f1b0a5af65

>> cl work 0xc553860fb217493484f239f1b0a5af65
[36;1m (exit code 0, expected 0)[0m

Switched to worksheet: http://rest-server:2900/worksheets/0xc553860fb217493484f239f1b0a5af65 (temp-test-cli-151696)

>> cl uinfo -f disk
[36;1m (exit code 0, expected 0)[0m

2.3k / 100.0g (0.0%)

[*][*] BEGIN TEST
>> cl upload /etc/passwd --link
[36;1m (exit code 0, expected 0)[0m

0x912f6e681680408f849410d09da7e36a

>> cl info -f state 0x912f6e681680408f849410d09da7e36a
[36;1m (exit code 0, expected 0)[0m

ready

>> cl cat 0x912f6e681680408f849410d09da7e36a
WARNING:retry.api:HTTP Error 404: Not Found, retrying in 1 seconds...
[36;1m (exit code 1, expected 1)[0m

<none>

>> cl upload /tmp/codalab/link-mounts/test.txt --link
[36;1m (exit code 0, expected 0)[0m

0x312cedf00c724203b007414d05d3a34f

>> cl info -f state 0x312cedf00c724203b007414d05d3a34f
[36;1m (exit code 0, expected 0)[0m

ready

>> cl info -f link_url 0x312cedf00c724203b007414d05d3a34f
[36;1m (exit code 0, expected 0)[0m

/tmp/codalab/link-mounts/test.txt

>> cl info -f link_format 0x312cedf00c724203b007414d05d3a34f
[36;1m (exit code 0, expected 0)[0m

raw

>> cl cat 0x312cedf00c724203b007414d05d3a34f
WARNING:retry.api:HTTP Error 404: Not Found, retrying in 1 seconds...
[31;1m (exit code 1, expected 0 BAD)[0m

<none>

[31;1m[!] ERROR: Exit codes don't match: got 1, expected 0[0m

[*][*] CLEANING UP
>> cl logout
[36;1m (exit code 0, expected 0)[0m


>> cl uinfo
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 11m59s / 100y0d (0.0%)
disk           : 2.3k / 100.0g (0.0%)
parallel_run_quota: 100

>> cl work 0x23706f2903f24b8f8a643ebe09fd41c9
[36;1m (exit code 0, expected 0)[0m

Switched to worksheet: http://rest-server:2900/worksheets/0x23706f2903f24b8f8a643ebe09fd41c9 (temp-test-cli-538231)

>> cl ls -w 0xc553860fb217493484f239f1b0a5af65 -u
[36;1m (exit code 0, expected 0)[0m

0x912f6e681680408f849410d09da7e36a
0x312cedf00c724203b007414d05d3a34f

>> cl wrm --force 0xc553860fb217493484f239f1b0a5af65
[36;1m (exit code 0, expected 0)[0m


>> cl info -f state 0x312cedf00c724203b007414d05d3a34f
[36;1m (exit code 0, expected 0)[0m

ready

>> cl rm --force 0x312cedf00c724203b007414d05d3a34f
[36;1m (exit code 0, expected 0)[0m

0x312cedf00c724203b007414d05d3a34f

>> cl info -f state 0x912f6e681680408f849410d09da7e36a
[36;1m (exit code 0, expected 0)[0m

ready

>> cl rm --force 0x912f6e681680408f849410d09da7e36a
[36;1m (exit code 0, expected 0)[0m

0x912f6e681680408f849410d09da7e36a

>> cl uedit codalab --disk-quota 100.0g
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
is_verified    : True
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 11m59s / 100y0d (0.0%)
disk           : 2.3k / 100.0g (0.0%)
parallel_run_quota: 100

[33;1m[*][*] BEGIN MODULE: run2[0m

[*][*] SWITCHING TO TEMPORARY WORKSHEET
>> cl logout
[36;1m (exit code 0, expected 0)[0m


>> cl uinfo
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 11m59s / 100y0d (0.0%)
disk           : 2.3k / 100.0g (0.0%)
parallel_run_quota: 100

>> cl work -u
[36;1m (exit code 0, expected 0)[0m

0x23706f2903f24b8f8a643ebe09fd41c9

>> cl new temp-test-cli-714478
[36;1m (exit code 0, expected 0)[0m

0x628b2367c7ba4eb49896e7a65cac0286

>> cl work 0x628b2367c7ba4eb49896e7a65cac0286
[36;1m (exit code 0, expected 0)[0m

Switched to worksheet: http://rest-server:2900/worksheets/0x628b2367c7ba4eb49896e7a65cac0286 (temp-test-cli-714478)

>> cl uinfo -f disk
[36;1m (exit code 0, expected 0)[0m

2.3k / 100.0g (0.0%)

[*][*] BEGIN TEST
>> cl upload /opt/codalab-worksheets/tests/cli/files/dir3
[36;1m (exit code 0, expected 0)[0m

0x1d6fc301de6a45f1af1dc8cd1f8205fc

>> cl run --request-docker-image python:3.6.10-slim-buster --request-disk 1m --request-memory 10m dir3:0x1d6fc301de6a45f1af1dc8cd1f8205fc for x in {1..100}; do ls dir3 && sleep 1; done
[36;1m (exit code 0, expected 0)[0m

0x7571680a87724b0e83906d8adcf88f39

>> cl run --request-docker-image python:3.6.10-slim-buster --request-disk 1m --request-memory 10m dir3:0x1d6fc301de6a45f1af1dc8cd1f8205fc for x in {1..10}; do ls dir3 && sleep 1; done
[36;1m (exit code 0, expected 0)[0m

0x5227be56bb7043bbbf07c5619f4e2691

>> cl wait 0x5227be56bb7043bbbf07c5619f4e2691
[36;1m (exit code 0, expected 0)[0m

0x5227be56bb7043bbbf07c5619f4e2691

>> cl info -f state 0x7571680a87724b0e83906d8adcf88f39
[36;1m (exit code 0, expected 0)[0m

running

>> cl wait 0x7571680a87724b0e83906d8adcf88f39
[36;1m (exit code 0, expected 0)[0m

0x7571680a87724b0e83906d8adcf88f39

>> cl upload /opt/codalab-worksheets/tests/cli/files/dir3
[36;1m (exit code 0, expected 0)[0m

0xe4f16214a0d34029a01640f07761e59a

>> cl run --request-docker-image python:3.6.10-slim-buster --request-disk 1m --request-memory 10m .:0xe4f16214a0d34029a01640f07761e59a cat f1
[36;1m (exit code 0, expected 0)[0m

0x01cb6584b6a64f219a006c234f168464

>> cl wait 0x01cb6584b6a64f219a006c234f168464
[36;1m (exit code 0, expected 0)[0m

0x01cb6584b6a64f219a006c234f168464

>> cl cat 0x01cb6584b6a64f219a006c234f168464/stdout
[36;1m (exit code 0, expected 0)[0m

first file in dir3

>> cl run --request-docker-image python:3.6.10-slim-buster --request-disk 1m --request-memory 10m .:0xe4f16214a0d34029a01640f07761e59a cat dir1/f1
[36;1m (exit code 0, expected 0)[0m

0x95203c56c77e47b58ce41a5755bc1e9c

>> cl wait 0x95203c56c77e47b58ce41a5755bc1e9c
[36;1m (exit code 0, expected 0)[0m

0x95203c56c77e47b58ce41a5755bc1e9c

>> cl cat 0x95203c56c77e47b58ce41a5755bc1e9c/stdout
[36;1m (exit code 0, expected 0)[0m

first nested file

>> cl upload /opt/codalab-worksheets/tests/cli/files/dir3/dir1
[36;1m (exit code 0, expected 0)[0m

0xb2d2a3c73acf4dc6ad612d74ff9a82da

>> cl run --request-docker-image python:3.6.10-slim-buster --request-disk 1m --request-memory 10m .:0xb2d2a3c73acf4dc6ad612d74ff9a82da cat f1
[36;1m (exit code 0, expected 0)[0m

0xd788ddca1eee43f2a39a9dda89523845

>> cl wait 0xd788ddca1eee43f2a39a9dda89523845
[36;1m (exit code 0, expected 0)[0m

0xd788ddca1eee43f2a39a9dda89523845

>> cl cat 0xd788ddca1eee43f2a39a9dda89523845/stdout
[36;1m (exit code 0, expected 0)[0m

first nested file

>> cl upload /opt/codalab-worksheets/tests/cli/files/dir1
[36;1m (exit code 0, expected 0)[0m

0xe88bf2ae6dda49dcb3174194fd73afa6

>> cl run --request-docker-image python:3.6.10-slim-buster --request-disk 1m --request-memory 10m foo/bar:0xe88bf2ae6dda49dcb3174194fd73afa6 foo/bar2:0xe4f16214a0d34029a01640f07761e59a cat foo/bar/f1
[36;1m (exit code 0, expected 0)[0m

0x6f3f0c20b3b84c0caca4a8eaf15e8b37

>> cl wait 0x6f3f0c20b3b84c0caca4a8eaf15e8b37
[36;1m (exit code 0, expected 0)[0m

0x6f3f0c20b3b84c0caca4a8eaf15e8b37

>> cl cat 0x6f3f0c20b3b84c0caca4a8eaf15e8b37/stdout
[36;1m (exit code 0, expected 0)[0m

first file

>> cl run --request-docker-image python:3.6.10-slim-buster --request-disk 1m --request-memory 10m foo/bar:0xe88bf2ae6dda49dcb3174194fd73afa6 foo/bar2:0xe4f16214a0d34029a01640f07761e59a cat foo/bar2/f1
[36;1m (exit code 0, expected 0)[0m

0x8fb79932feaf4d8b913b76be4473c0ff

>> cl wait 0x8fb79932feaf4d8b913b76be4473c0ff
[36;1m (exit code 0, expected 0)[0m

0x8fb79932feaf4d8b913b76be4473c0ff

>> cl cat 0x8fb79932feaf4d8b913b76be4473c0ff/stdout
[36;1m (exit code 0, expected 0)[0m

first file in dir3

>> cl run --request-docker-image python:3.6.10-slim-buster --request-disk 1m --request-memory 10m /foo/bar:0xe88bf2ae6dda49dcb3174194fd73afa6 /foo/bar2:0xe4f16214a0d34029a01640f07761e59a cat /foo/bar2/f1
[36;1m (exit code 0, expected 0)[0m

0xc7a25edbb4814b019d7e3a8862a14416

>> cl wait 0xc7a25edbb4814b019d7e3a8862a14416
[36;1m (exit code 0, expected 0)[0m

0xc7a25edbb4814b019d7e3a8862a14416

>> cl cat 0xc7a25edbb4814b019d7e3a8862a14416/stdout
[36;1m (exit code 0, expected 0)[0m

first file in dir3

>> cl run --request-docker-image python:3.6.10-slim-buster --request-disk 1m --request-memory 10m f1:0xe88bf2ae6dda49dcb3174194fd73afa6/f1 foo/bar:0xe88bf2ae6dda49dcb3174194fd73afa6 cat f1
[36;1m (exit code 0, expected 0)[0m

0x4eb40cc1b9874eda8ec8c3a86be878ad

>> cl wait 0x4eb40cc1b9874eda8ec8c3a86be878ad
[36;1m (exit code 0, expected 0)[0m

0x4eb40cc1b9874eda8ec8c3a86be878ad

>> cl cat 0x4eb40cc1b9874eda8ec8c3a86be878ad/stdout
[36;1m (exit code 0, expected 0)[0m

first file

>> cl run --request-docker-image python:3.6.10-slim-buster --request-disk 1m --request-memory 10m f1:0xe88bf2ae6dda49dcb3174194fd73afa6/f1 foo/bar:0xe88bf2ae6dda49dcb3174194fd73afa6 cat foo/bar/f1
[36;1m (exit code 0, expected 0)[0m

0xbb96f442ae9a4007b2c3d897457397a8

>> cl wait 0xbb96f442ae9a4007b2c3d897457397a8
[36;1m (exit code 0, expected 0)[0m

0xbb96f442ae9a4007b2c3d897457397a8

>> cl cat 0xbb96f442ae9a4007b2c3d897457397a8/stdout
[36;1m (exit code 0, expected 0)[0m

first file

>> cl run --request-docker-image python:3.6.10-slim-buster --request-disk 1m --request-memory 10m foo:0xe4f16214a0d34029a01640f07761e59a foo/bar:0xe88bf2ae6dda49dcb3174194fd73afa6 cat foo/bar/f1
[36;1m (exit code 1, expected 1)[0m


[32;1m[*] TEST PASSED[0m

[*][*] CLEANING UP
>> cl logout
[36;1m (exit code 0, expected 0)[0m


>> cl uinfo
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 13m51s / 100y0d (0.0%)
disk           : 5.4k / 100.0g (0.0%)
parallel_run_quota: 100

>> cl work 0x23706f2903f24b8f8a643ebe09fd41c9
[36;1m (exit code 0, expected 0)[0m

Switched to worksheet: http://rest-server:2900/worksheets/0x23706f2903f24b8f8a643ebe09fd41c9 (temp-test-cli-538231)

>> cl ls -w 0x628b2367c7ba4eb49896e7a65cac0286 -u
[36;1m (exit code 0, expected 0)[0m

0x1d6fc301de6a45f1af1dc8cd1f8205fc
0x7571680a87724b0e83906d8adcf88f39
0x5227be56bb7043bbbf07c5619f4e2691
0xe4f16214a0d34029a01640f07761e59a
0x01cb6584b6a64f219a006c234f168464
0x95203c56c77e47b58ce41a5755bc1e9c
0xb2d2a3c73acf4dc6ad612d74ff9a82da
0xd788ddca1eee43f2a39a9dda89523845
0xe88bf2ae6dda49dcb3174194fd73afa6
0x6f3f0c20b3b84c0caca4a8eaf15e8b37
0x8fb79932feaf4d8b913b76be4473c0ff
0xc7a25edbb4814b019d7e3a8862a14416
0x4eb40cc1b9874eda8ec8c3a86be878ad
0xbb96f442ae9a4007b2c3d897457397a8

>> cl wrm --force 0x628b2367c7ba4eb49896e7a65cac0286
[36;1m (exit code 0, expected 0)[0m


>> cl info -f state 0xc7a25edbb4814b019d7e3a8862a14416
[36;1m (exit code 0, expected 0)[0m

ready

>> cl rm --force 0xc7a25edbb4814b019d7e3a8862a14416
[36;1m (exit code 0, expected 0)[0m

0xc7a25edbb4814b019d7e3a8862a14416

>> cl info -f state 0x1d6fc301de6a45f1af1dc8cd1f8205fc
[36;1m (exit code 0, expected 0)[0m

ready

>> cl rm --force 0x1d6fc301de6a45f1af1dc8cd1f8205fc
[36;1m (exit code 0, expected 0)[0m

0x1d6fc301de6a45f1af1dc8cd1f8205fc

>> cl info -f state 0x5227be56bb7043bbbf07c5619f4e2691
[36;1m (exit code 0, expected 0)[0m

ready

>> cl rm --force 0x5227be56bb7043bbbf07c5619f4e2691
[36;1m (exit code 0, expected 0)[0m

0x5227be56bb7043bbbf07c5619f4e2691

>> cl info -f state 0x7571680a87724b0e83906d8adcf88f39
[36;1m (exit code 0, expected 0)[0m

ready

>> cl rm --force 0x7571680a87724b0e83906d8adcf88f39
[36;1m (exit code 0, expected 0)[0m

0x7571680a87724b0e83906d8adcf88f39

>> cl info -f state 0xd788ddca1eee43f2a39a9dda89523845
[36;1m (exit code 0, expected 0)[0m

ready

>> cl rm --force 0xd788ddca1eee43f2a39a9dda89523845
[36;1m (exit code 0, expected 0)[0m

0xd788ddca1eee43f2a39a9dda89523845

>> cl info -f state 0xe88bf2ae6dda49dcb3174194fd73afa6
[36;1m (exit code 0, expected 0)[0m

ready

>> cl rm --force 0xe88bf2ae6dda49dcb3174194fd73afa6
[36;1m (exit code 0, expected 0)[0m

0xe88bf2ae6dda49dcb3174194fd73afa6

>> cl info -f state 0x6f3f0c20b3b84c0caca4a8eaf15e8b37
[36;1m (exit code 0, expected 0)[0m

ready

>> cl rm --force 0x6f3f0c20b3b84c0caca4a8eaf15e8b37
[36;1m (exit code 0, expected 0)[0m

0x6f3f0c20b3b84c0caca4a8eaf15e8b37

>> cl info -f state 0x01cb6584b6a64f219a006c234f168464
[36;1m (exit code 0, expected 0)[0m

ready

>> cl rm --force 0x01cb6584b6a64f219a006c234f168464
[36;1m (exit code 0, expected 0)[0m

0x01cb6584b6a64f219a006c234f168464

>> cl info -f state 0x95203c56c77e47b58ce41a5755bc1e9c
[36;1m (exit code 0, expected 0)[0m

ready

>> cl rm --force 0x95203c56c77e47b58ce41a5755bc1e9c
[36;1m (exit code 0, expected 0)[0m

0x95203c56c77e47b58ce41a5755bc1e9c

>> cl info -f state 0xe4f16214a0d34029a01640f07761e59a
[36;1m (exit code 0, expected 0)[0m

ready

>> cl rm --force 0xe4f16214a0d34029a01640f07761e59a
[36;1m (exit code 0, expected 0)[0m

0xe4f16214a0d34029a01640f07761e59a

>> cl info -f state 0x4eb40cc1b9874eda8ec8c3a86be878ad
[36;1m (exit code 0, expected 0)[0m

ready

>> cl rm --force 0x4eb40cc1b9874eda8ec8c3a86be878ad
[36;1m (exit code 0, expected 0)[0m

0x4eb40cc1b9874eda8ec8c3a86be878ad

>> cl info -f state 0xb2d2a3c73acf4dc6ad612d74ff9a82da
[36;1m (exit code 0, expected 0)[0m

ready

>> cl rm --force 0xb2d2a3c73acf4dc6ad612d74ff9a82da
[36;1m (exit code 0, expected 0)[0m

0xb2d2a3c73acf4dc6ad612d74ff9a82da

>> cl info -f state 0xbb96f442ae9a4007b2c3d897457397a8
[36;1m (exit code 0, expected 0)[0m

ready

>> cl rm --force 0xbb96f442ae9a4007b2c3d897457397a8
[36;1m (exit code 0, expected 0)[0m

0xbb96f442ae9a4007b2c3d897457397a8

>> cl info -f state 0x8fb79932feaf4d8b913b76be4473c0ff
[36;1m (exit code 0, expected 0)[0m

ready

>> cl rm --force 0x8fb79932feaf4d8b913b76be4473c0ff
[36;1m (exit code 0, expected 0)[0m

0x8fb79932feaf4d8b913b76be4473c0ff

>> cl uedit codalab --disk-quota 100.0g
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
is_verified    : True
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 13m51s / 100y0d (0.0%)
disk           : 2.3k / 100.0g (0.0%)
parallel_run_quota: 100

[33;1m[*][*] BEGIN MODULE: read[0m

[*][*] SWITCHING TO TEMPORARY WORKSHEET
>> cl logout
[36;1m (exit code 0, expected 0)[0m


>> cl uinfo
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 13m51s / 100y0d (0.0%)
disk           : 2.3k / 100.0g (0.0%)
parallel_run_quota: 100

>> cl work -u
[36;1m (exit code 0, expected 0)[0m

0x23706f2903f24b8f8a643ebe09fd41c9

>> cl new temp-test-cli-336457
[36;1m (exit code 0, expected 0)[0m

0x13bda05a0aa24323bc4510cd52e50878

>> cl work 0x13bda05a0aa24323bc4510cd52e50878
[36;1m (exit code 0, expected 0)[0m

Switched to worksheet: http://rest-server:2900/worksheets/0x13bda05a0aa24323bc4510cd52e50878 (temp-test-cli-336457)

>> cl uinfo -f disk
[36;1m (exit code 0, expected 0)[0m

2.3k / 100.0g (0.0%)

[*][*] BEGIN TEST
>> cl upload /opt/codalab-worksheets/tests/cli/files/
[36;1m (exit code 0, expected 0)[0m

0x7c83f0f57c954b9ca1f8096f89175989

>> cl run --request-docker-image python:3.6.10-slim-buster --request-disk 1m --request-memory 10m dir:0x7c83f0f57c954b9ca1f8096f89175989 file:0x7c83f0f57c954b9ca1f8096f89175989/a.txt ls dir; cat file; seq 1 10; touch done; while true; do sleep 60; done
[36;1m (exit code 0, expected 0)[0m

0xf6ce623f3d1843959416345e05471fa9

>> cl info -f state 0xf6ce623f3d1843959416345e05471fa9
[36;1m (exit code 0, expected 0)[0m

created

>> cl info -f state 0xf6ce623f3d1843959416345e05471fa9
[36;1m (exit code 0, expected 0)[0m

preparing

>> cl info -f state 0xf6ce623f3d1843959416345e05471fa9
[36;1m (exit code 0, expected 0)[0m

preparing

>> cl info -f state 0xf6ce623f3d1843959416345e05471fa9
[36;1m (exit code 0, expected 0)[0m

preparing

>> cl info -f state 0xf6ce623f3d1843959416345e05471fa9
[36;1m (exit code 0, expected 0)[0m

preparing

>> cl info -f state 0xf6ce623f3d1843959416345e05471fa9
[36;1m (exit code 0, expected 0)[0m

preparing

>> cl info -f state 0xf6ce623f3d1843959416345e05471fa9
[36;1m (exit code 0, expected 0)[0m

preparing

>> cl info -f state 0xf6ce623f3d1843959416345e05471fa9
[36;1m (exit code 0, expected 0)[0m

preparing

>> cl info -f state 0xf6ce623f3d1843959416345e05471fa9
[36;1m (exit code 0, expected 0)[0m

preparing

>> cl info -f state 0xf6ce623f3d1843959416345e05471fa9
[36;1m (exit code 0, expected 0)[0m

preparing

>> cl info -f state 0xf6ce623f3d1843959416345e05471fa9
[36;1m (exit code 0, expected 0)[0m

preparing

>> cl info -f state 0xf6ce623f3d1843959416345e05471fa9
[36;1m (exit code 0, expected 0)[0m

running

>> cl cat 0xf6ce623f3d1843959416345e05471fa9
[36;1m (exit code 0, expected 0)[0m

name    perm   size
-------------------
done    0o644     0
stderr  0o644     0
stdout  0o644   251

>> cl info 0xf6ce623f3d1843959416345e05471fa9 --verbose
[36;1m (exit code 0, expected 0)[0m

bundle_type               : run
uuid                      : 0xf6ce623f3d1843959416345e05471fa9
data_hash                 : <none>
state                     : running
command                   : ls dir; cat file; seq 1 10; touch done; while true; do sleep 60; done
frozen                    : <none>
is_anonymous              : False
owner                     : codalab(0)
name                      : run-ls
created                   : 2022-04-30 01:55:52
allow_failed_dependencies : False
request_docker_image      : python:3.6.10-slim-buster
request_memory            : 10m
request_disk              : 1m
request_cpus              : 1
request_gpus              : 0
request_priority          : 0
request_network           : True
cpu_usage                 : 0.0
memory_usage              : 0.209765625
time                      : 1.2s
time_user                 : 0.0s
time_system               : 0.0s
started                   : 2022-04-30 01:55:53
last_updated              : 2022-04-30 01:55:59
run_status                : Running job in container
time_preparing            : 4.6s
docker_image              : python@sha256:b45ed695466dfbab748f4b2f73e3f9dc43236deda8c1a6f9eeb5fd3c861e5354
remote                    : DN51t5ab.SUNet
remote_history            : d6613921ff19
on_preemptible_worker     : False
dependencies:
  dir: files(0x7c83f0f57c954b9ca1f8096f89175989)
  file: files(0x7c83f0f57c954b9ca1f8096f89175989)/a.txt
children:
host_worksheets:
  http://rest-server:2900/worksheets/0x13bda05a0aa24323bc4510cd52e50878 (temp-test-cli-336457)
permission: all
group_permissions:
  public(0x2dd4be):read
=== contents preview ===
name    perm   size
-------------------
done    0o644     0
stderr  0o644     0
stdout  0o644   251
=== stderr preview ===
=== stdout preview ===
-AmMDnVl4s8
a-symlink.txt
a.txt
b.txt
broken-symlink
codalab.png
crazy (ain't it)
dir1
dir2
dir3

bundle_type               : run
uuid                      : 0xf6ce623f3d1843959416345e05471fa9
data_hash                 : <none>
state                     : running
command                   : ls dir; cat file; seq 1 10; touch done; while true; do sleep 60; done
frozen                    : <none>
is_anonymous              : False
owner                     : codalab(0)
name                      : run-ls
created                   : 2022-04-30 01:55:52
allow_failed_dependencies : False
request_docker_image      : python:3.6.10-slim-buster
request_memory            : 10m
request_disk              : 1m
request_cpus              : 1
request_gpus              : 0
request_priority          : 0
request_network           : True
cpu_usage                 : 0.0
memory_usage              : 0.209765625
time                      : 1.2s
time_user                 : 0.0s
time_system               : 0.0s
started                   : 2022-04-30 01:55:53
last_updated              : 2022-04-30 01:55:59
run_status                : Running job in container
time_preparing            : 4.6s
docker_image              : python@sha256:b45ed695466dfbab748f4b2f73e3f9dc43236deda8c1a6f9eeb5fd3c861e5354
remote                    : DN51t5ab.SUNet
remote_history            : d6613921ff19
on_preemptible_worker     : False
dependencies:
  dir: files(0x7c83f0f57c954b9ca1f8096f89175989)
  file: files(0x7c83f0f57c954b9ca1f8096f89175989)/a.txt
children:
host_worksheets:
  http://rest-server:2900/worksheets/0x13bda05a0aa24323bc4510cd52e50878 (temp-test-cli-336457)
permission: all
group_permissions:
  public(0x2dd4be):read
=== contents preview ===
name    perm   size
-------------------
done    0o644     0
stderr  0o644     0
stdout  0o644   251
=== stderr preview ===
=== stdout preview ===
-AmMDnVl4s8
a-symlink.txt
a.txt
b.txt
broken-symlink
codalab.png
crazy (ain't it)
dir1
dir2
dir3
>> cl cat 0xf6ce623f3d1843959416345e05471fa9/stdout
[36;1m (exit code 0, expected 0)[0m

-AmMDnVl4s8
a-symlink.txt
a.txt
b.txt
broken-symlink
codalab.png
crazy (ain't it)
dir1
dir2
dir3
echo
evaluate.sh
ignore_test
netcat-test.py
passwd
unicode-worksheet
This is a simple text file for CodaLab.
It has two lines in it.
1
2
3
4
5
6
7
8
9
10

>> cl cat 0xf6ce623f3d1843959416345e05471fa9/unknown
WARNING:retry.api:HTTP Error 404: Not Found, retrying in 1 seconds...
[36;1m (exit code 1, expected 1)[0m

<none>

>> cl cat 0xf6ce623f3d1843959416345e05471fa9
[36;1m (exit code 0, expected 0)[0m

name    perm   size
-------------------
done    0o644     0
stderr  0o644     0
stdout  0o644   251

>> cl cat 0xf6ce623f3d1843959416345e05471fa9/dir
[36;1m (exit code 0, expected 0)[0m

name                               perm    size
-----------------------------------------------
-AmMDnVl4s8                        0o644    157
a-symlink.txt -> a.txt             0o755   link
a.txt                              0o644     64
b.txt                              0o644     22
broken-symlink -> /broken-symlink  0o755   link
codalab.png                        0o644  10.0k
crazy (ain't it)                   0o644     31
dir1                               0o755    dir
dir2                               0o755    dir
dir3                               0o755    dir
echo                               0o755  30.6k
evaluate.sh                        0o644     70
ignore_test                        0o755    dir
netcat-test.py                     0o644    472
passwd -> /etc/passwd              0o755   link
unicode-worksheet                  0o644     46

>> cl cat 0xf6ce623f3d1843959416345e05471fa9/file
[36;1m (exit code 0, expected 0)[0m

This is a simple text file for CodaLab.
It has two lines in it.

>> cl download 0xf6ce623f3d1843959416345e05471fa9 -o /tmp/temp-test-cli-512851
[36;1m (exit code 0, expected 0)[0m

Downloading run-ls(0xf6ce623f3d1843959416345e05471fa9)/ => /tmp/temp-test-cli-512851

>> cl kill 0xf6ce623f3d1843959416345e05471fa9
[36;1m (exit code 0, expected 0)[0m

0xf6ce623f3d1843959416345e05471fa9

>> cl wait 0xf6ce623f3d1843959416345e05471fa9
[36;1m (exit code 1, expected 1)[0m


>> cl cat 0xf6ce623f3d1843959416345e05471fa9
[36;1m (exit code 0, expected 0)[0m

name    perm   size
-------------------
done    0o644     0
stderr  0o644     0
stdout  0o644   251

>> cl info 0xf6ce623f3d1843959416345e05471fa9 --verbose
[36;1m (exit code 0, expected 0)[0m

bundle_type               : run
uuid                      : 0xf6ce623f3d1843959416345e05471fa9
data_hash                 : 0x449b1e69327eaf6350b02b00afc6b6990f3bf22c
state                     : killed
command                   : ls dir; cat file; seq 1 10; touch done; while true; do sleep 60; done
frozen                    : <none>
is_anonymous              : False
owner                     : codalab(0)
name                      : run-ls
created                   : 2022-04-30 01:55:52
data_size                 : 411
failure_message           : Kill requested
allow_failed_dependencies : False
request_docker_image      : python:3.6.10-slim-buster
request_memory            : 10m
request_disk              : 1m
request_cpus              : 1
request_gpus              : 0
request_priority          : 0
request_network           : True
cpu_usage                 : 0.0
memory_usage              : 0.21015625
actions                   : kill
time                      : 1m58s
time_user                 : 0.0s
time_system               : 0.0s
started                   : 2022-04-30 01:55:53
last_updated              : 2022-04-30 01:57:59
run_status                : Finished
time_preparing            : 4.6s
time_running              : 1m59s
time_cleaning_up          : 0.3s
time_uploading_results    : 0.2s
docker_image              : python@sha256:b45ed695466dfbab748f4b2f73e3f9dc43236deda8c1a6f9eeb5fd3c861e5354
remote                    : DN51t5ab.SUNet
remote_history            : d6613921ff19
on_preemptible_worker     : False
dependencies:
  dir: files(0x7c83f0f57c954b9ca1f8096f89175989)
  file: files(0x7c83f0f57c954b9ca1f8096f89175989)/a.txt
children:
host_worksheets:
  http://rest-server:2900/worksheets/0x13bda05a0aa24323bc4510cd52e50878 (temp-test-cli-336457)
permission: all
group_permissions:
  public(0x2dd4be):read
=== contents preview ===
name    perm   size
-------------------
done    0o644     0
stderr  0o644     0
stdout  0o644   251
=== stderr preview ===
=== stdout preview ===
-AmMDnVl4s8
a-symlink.txt
a.txt
b.txt
broken-symlink
codalab.png
crazy (ain't it)
dir1
dir2
dir3

bundle_type               : run
uuid                      : 0xf6ce623f3d1843959416345e05471fa9
data_hash                 : 0x449b1e69327eaf6350b02b00afc6b6990f3bf22c
state                     : killed
command                   : ls dir; cat file; seq 1 10; touch done; while true; do sleep 60; done
frozen                    : <none>
is_anonymous              : False
owner                     : codalab(0)
name                      : run-ls
created                   : 2022-04-30 01:55:52
data_size                 : 411
failure_message           : Kill requested
allow_failed_dependencies : False
request_docker_image      : python:3.6.10-slim-buster
request_memory            : 10m
request_disk              : 1m
request_cpus              : 1
request_gpus              : 0
request_priority          : 0
request_network           : True
cpu_usage                 : 0.0
memory_usage              : 0.21015625
actions                   : kill
time                      : 1m58s
time_user                 : 0.0s
time_system               : 0.0s
started                   : 2022-04-30 01:55:53
last_updated              : 2022-04-30 01:57:59
run_status                : Finished
time_preparing            : 4.6s
time_running              : 1m59s
time_cleaning_up          : 0.3s
time_uploading_results    : 0.2s
docker_image              : python@sha256:b45ed695466dfbab748f4b2f73e3f9dc43236deda8c1a6f9eeb5fd3c861e5354
remote                    : DN51t5ab.SUNet
remote_history            : d6613921ff19
on_preemptible_worker     : False
dependencies:
  dir: files(0x7c83f0f57c954b9ca1f8096f89175989)
  file: files(0x7c83f0f57c954b9ca1f8096f89175989)/a.txt
children:
host_worksheets:
  http://rest-server:2900/worksheets/0x13bda05a0aa24323bc4510cd52e50878 (temp-test-cli-336457)
permission: all
group_permissions:
  public(0x2dd4be):read
=== contents preview ===
name    perm   size
-------------------
done    0o644     0
stderr  0o644     0
stdout  0o644   251
=== stderr preview ===
=== stdout preview ===
-AmMDnVl4s8
a-symlink.txt
a.txt
b.txt
broken-symlink
codalab.png
crazy (ain't it)
dir1
dir2
dir3
>> cl cat 0xf6ce623f3d1843959416345e05471fa9/stdout
[36;1m (exit code 0, expected 0)[0m

-AmMDnVl4s8
a-symlink.txt
a.txt
b.txt
broken-symlink
codalab.png
crazy (ain't it)
dir1
dir2
dir3
echo
evaluate.sh
ignore_test
netcat-test.py
passwd
unicode-worksheet
This is a simple text file for CodaLab.
It has two lines in it.
1
2
3
4
5
6
7
8
9
10

>> cl cat 0xf6ce623f3d1843959416345e05471fa9/unknown
WARNING:retry.api:HTTP Error 404: Not Found, retrying in 1 seconds...
[36;1m (exit code 1, expected 1)[0m

<none>

>> cl cat 0xf6ce623f3d1843959416345e05471fa9
[36;1m (exit code 0, expected 0)[0m

name    perm   size
-------------------
done    0o644     0
stderr  0o644     0
stdout  0o644   251

>> cl cat 0xf6ce623f3d1843959416345e05471fa9/dir
[36;1m (exit code 0, expected 0)[0m

name                               perm    size
-----------------------------------------------
-AmMDnVl4s8                        0o644    157
a-symlink.txt -> a.txt             0o755   link
a.txt                              0o644     64
b.txt                              0o644     22
broken-symlink -> /broken-symlink  0o755   link
codalab.png                        0o644  10.0k
crazy (ain't it)                   0o644     31
dir1                               0o755    dir
dir2                               0o755    dir
dir3                               0o755    dir
echo                               0o755  30.6k
evaluate.sh                        0o644     70
ignore_test                        0o755    dir
netcat-test.py                     0o644    472
passwd -> /etc/passwd              0o755   link
unicode-worksheet                  0o644     46

>> cl cat 0xf6ce623f3d1843959416345e05471fa9/file
[36;1m (exit code 0, expected 0)[0m

This is a simple text file for CodaLab.
It has two lines in it.

>> cl download 0xf6ce623f3d1843959416345e05471fa9 -o /tmp/temp-test-cli-247998
[36;1m (exit code 0, expected 0)[0m

Downloading run-ls(0xf6ce623f3d1843959416345e05471fa9)/ => /tmp/temp-test-cli-247998

[32;1m[*] TEST PASSED[0m

[*][*] CLEANING UP
>> cl logout
[36;1m (exit code 0, expected 0)[0m


>> cl uinfo
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 15m49s / 100y0d (0.0%)
disk           : 46.1k / 100.0g (0.0%)
parallel_run_quota: 100

>> cl work 0x23706f2903f24b8f8a643ebe09fd41c9
[36;1m (exit code 0, expected 0)[0m

Switched to worksheet: http://rest-server:2900/worksheets/0x23706f2903f24b8f8a643ebe09fd41c9 (temp-test-cli-538231)

>> cl ls -w 0x13bda05a0aa24323bc4510cd52e50878 -u
[36;1m (exit code 0, expected 0)[0m

0x7c83f0f57c954b9ca1f8096f89175989
0xf6ce623f3d1843959416345e05471fa9

>> cl wrm --force 0x13bda05a0aa24323bc4510cd52e50878
[36;1m (exit code 0, expected 0)[0m


>> cl info -f state 0x7c83f0f57c954b9ca1f8096f89175989
[36;1m (exit code 0, expected 0)[0m

ready

>> cl rm --force 0x7c83f0f57c954b9ca1f8096f89175989
[36;1m (exit code 0, expected 0)[0m

0x7c83f0f57c954b9ca1f8096f89175989

>> cl info -f state 0xf6ce623f3d1843959416345e05471fa9
[36;1m (exit code 0, expected 0)[0m

killed

>> cl rm --force 0xf6ce623f3d1843959416345e05471fa9
[36;1m (exit code 0, expected 0)[0m

0xf6ce623f3d1843959416345e05471fa9

>> cl uedit codalab --disk-quota 100.0g
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
is_verified    : True
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 15m49s / 100y0d (0.0%)
disk           : 2.3k / 100.0g (0.0%)
parallel_run_quota: 100

[33;1m[*][*] BEGIN MODULE: kill[0m

[*][*] SWITCHING TO TEMPORARY WORKSHEET
>> cl logout
[36;1m (exit code 0, expected 0)[0m


>> cl uinfo
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 15m49s / 100y0d (0.0%)
disk           : 2.3k / 100.0g (0.0%)
parallel_run_quota: 100

>> cl work -u
[36;1m (exit code 0, expected 0)[0m

0x23706f2903f24b8f8a643ebe09fd41c9

>> cl new temp-test-cli-773931
[36;1m (exit code 0, expected 0)[0m

0x2f24959a5f5f4232958e6816cce3c9d3

>> cl work 0x2f24959a5f5f4232958e6816cce3c9d3
[36;1m (exit code 0, expected 0)[0m

Switched to worksheet: http://rest-server:2900/worksheets/0x2f24959a5f5f4232958e6816cce3c9d3 (temp-test-cli-773931)

>> cl uinfo -f disk
[36;1m (exit code 0, expected 0)[0m

2.3k / 100.0g (0.0%)

[*][*] BEGIN TEST
>> cl run --request-docker-image python:3.6.10-slim-buster --request-disk 1m --request-memory 10m while true; do sleep 100; done
[36;1m (exit code 0, expected 0)[0m

0x168c368707e74f239e77d30cf7977dce

>> cl info -f state 0x168c368707e74f239e77d30cf7977dce
[36;1m (exit code 0, expected 0)[0m

created

>> cl info -f state 0x168c368707e74f239e77d30cf7977dce
[36;1m (exit code 0, expected 0)[0m

staged

>> cl info -f state 0x168c368707e74f239e77d30cf7977dce
[36;1m (exit code 0, expected 0)[0m

preparing

>> cl info -f state 0x168c368707e74f239e77d30cf7977dce
[36;1m (exit code 0, expected 0)[0m

preparing

>> cl info -f state 0x168c368707e74f239e77d30cf7977dce
[36;1m (exit code 0, expected 0)[0m

preparing

>> cl info -f state 0x168c368707e74f239e77d30cf7977dce
[36;1m (exit code 0, expected 0)[0m

preparing

>> cl info -f state 0x168c368707e74f239e77d30cf7977dce
[36;1m (exit code 0, expected 0)[0m

preparing

>> cl info -f state 0x168c368707e74f239e77d30cf7977dce
[36;1m (exit code 0, expected 0)[0m

preparing

>> cl info -f state 0x168c368707e74f239e77d30cf7977dce
[36;1m (exit code 0, expected 0)[0m

preparing

>> cl info -f state 0x168c368707e74f239e77d30cf7977dce
[36;1m (exit code 0, expected 0)[0m

preparing

>> cl info -f state 0x168c368707e74f239e77d30cf7977dce
[36;1m (exit code 0, expected 0)[0m

preparing

>> cl info -f state 0x168c368707e74f239e77d30cf7977dce
[36;1m (exit code 0, expected 0)[0m

preparing

>> cl info -f state 0x168c368707e74f239e77d30cf7977dce
[36;1m (exit code 0, expected 0)[0m

running

>> cl kill 0x168c368707e74f239e77d30cf7977dce
[36;1m (exit code 0, expected 0)[0m

0x168c368707e74f239e77d30cf7977dce

>> cl wait 0x168c368707e74f239e77d30cf7977dce
[36;1m (exit code 1, expected 1)[0m


>> cl wait 0x168c368707e74f239e77d30cf7977dce
[36;1m (exit code 1, expected 1)[0m


>> cl info -f actions 0x168c368707e74f239e77d30cf7977dce
[36;1m (exit code 0, expected 0)[0m

['kill']

[32;1m[*] TEST PASSED[0m

[*][*] CLEANING UP
>> cl logout
[36;1m (exit code 0, expected 0)[0m


>> cl uinfo
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 15m54s / 100y0d (0.0%)
disk           : 2.4k / 100.0g (0.0%)
parallel_run_quota: 100

>> cl work 0x23706f2903f24b8f8a643ebe09fd41c9
[36;1m (exit code 0, expected 0)[0m

Switched to worksheet: http://rest-server:2900/worksheets/0x23706f2903f24b8f8a643ebe09fd41c9 (temp-test-cli-538231)

>> cl ls -w 0x2f24959a5f5f4232958e6816cce3c9d3 -u
[36;1m (exit code 0, expected 0)[0m

0x168c368707e74f239e77d30cf7977dce

>> cl wrm --force 0x2f24959a5f5f4232958e6816cce3c9d3
[36;1m (exit code 0, expected 0)[0m


>> cl info -f state 0x168c368707e74f239e77d30cf7977dce
[36;1m (exit code 0, expected 0)[0m

killed

>> cl rm --force 0x168c368707e74f239e77d30cf7977dce
[36;1m (exit code 0, expected 0)[0m

0x168c368707e74f239e77d30cf7977dce

>> cl uedit codalab --disk-quota 100.0g
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
is_verified    : True
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 15m54s / 100y0d (0.0%)
disk           : 2.3k / 100.0g (0.0%)
parallel_run_quota: 100

[33;1m[*][*] BEGIN MODULE: write[0m

[*][*] SWITCHING TO TEMPORARY WORKSHEET
>> cl logout
[36;1m (exit code 0, expected 0)[0m


>> cl uinfo
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 15m54s / 100y0d (0.0%)
disk           : 2.3k / 100.0g (0.0%)
parallel_run_quota: 100

>> cl work -u
[36;1m (exit code 0, expected 0)[0m

0x23706f2903f24b8f8a643ebe09fd41c9

>> cl new temp-test-cli-233169
[36;1m (exit code 0, expected 0)[0m

0x7e138c16ac0d4e8090e3d9e0b842cb3b

>> cl work 0x7e138c16ac0d4e8090e3d9e0b842cb3b
[36;1m (exit code 0, expected 0)[0m

Switched to worksheet: http://rest-server:2900/worksheets/0x7e138c16ac0d4e8090e3d9e0b842cb3b (temp-test-cli-233169)

>> cl uinfo -f disk
[36;1m (exit code 0, expected 0)[0m

2.3k / 100.0g (0.0%)

[*][*] BEGIN TEST
>> cl run --request-docker-image python:3.6.10-slim-buster --request-disk 1m --request-memory 10m sleep 5
[36;1m (exit code 0, expected 0)[0m

0xa74c79329768412cb328c3195c79f0ea

>> cl info -f state 0xa74c79329768412cb328c3195c79f0ea
[36;1m (exit code 0, expected 0)[0m

created

>> cl info -f state 0xa74c79329768412cb328c3195c79f0ea
[36;1m (exit code 0, expected 0)[0m

starting

>> cl info -f state 0xa74c79329768412cb328c3195c79f0ea
[36;1m (exit code 0, expected 0)[0m

staged

>> cl info -f state 0xa74c79329768412cb328c3195c79f0ea
[36;1m (exit code 0, expected 0)[0m

staged

>> cl info -f state 0xa74c79329768412cb328c3195c79f0ea
[36;1m (exit code 0, expected 0)[0m

starting

>> cl info -f state 0xa74c79329768412cb328c3195c79f0ea
[36;1m (exit code 0, expected 0)[0m

staged

>> cl info -f state 0xa74c79329768412cb328c3195c79f0ea
[36;1m (exit code 0, expected 0)[0m

preparing

>> cl info -f state 0xa74c79329768412cb328c3195c79f0ea
[36;1m (exit code 0, expected 0)[0m

preparing

>> cl info -f state 0xa74c79329768412cb328c3195c79f0ea
[36;1m (exit code 0, expected 0)[0m

preparing

>> cl info -f state 0xa74c79329768412cb328c3195c79f0ea
[36;1m (exit code 0, expected 0)[0m

preparing

>> cl info -f state 0xa74c79329768412cb328c3195c79f0ea
[36;1m (exit code 0, expected 0)[0m

preparing

>> cl info -f state 0xa74c79329768412cb328c3195c79f0ea
[36;1m (exit code 0, expected 0)[0m

preparing

>> cl info -f state 0xa74c79329768412cb328c3195c79f0ea
[36;1m (exit code 0, expected 0)[0m

preparing

>> cl info -f state 0xa74c79329768412cb328c3195c79f0ea
[36;1m (exit code 0, expected 0)[0m

preparing

>> cl info -f state 0xa74c79329768412cb328c3195c79f0ea
[36;1m (exit code 0, expected 0)[0m

preparing

>> cl info -f state 0xa74c79329768412cb328c3195c79f0ea
[36;1m (exit code 0, expected 0)[0m

running

>> cl write file with space hello world
WARNING:retry.api:HTTP Error 400: Bad Request, retrying in 1 seconds...
[36;1m (exit code 1, expected 1)[0m


>> cl write 0xa74c79329768412cb328c3195c79f0ea/message hello world
[36;1m (exit code 0, expected 0)[0m

0xa74c79329768412cb328c3195c79f0ea

>> cl wait 0xa74c79329768412cb328c3195c79f0ea
[36;1m (exit code 0, expected 0)[0m

0xa74c79329768412cb328c3195c79f0ea

>> cl cat 0xa74c79329768412cb328c3195c79f0ea/message
[36;1m (exit code 0, expected 0)[0m

hello world
>> cl info -f actions 0xa74c79329768412cb328c3195c79f0ea
[36;1m (exit code 0, expected 0)[0m

['write\tmessage\thello world']

[32;1m[*] TEST PASSED[0m

[*][*] CLEANING UP
>> cl logout
[36;1m (exit code 0, expected 0)[0m


>> cl uinfo
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 15m59s / 100y0d (0.0%)
disk           : 2.5k / 100.0g (0.0%)
parallel_run_quota: 100

>> cl work 0x23706f2903f24b8f8a643ebe09fd41c9
[36;1m (exit code 0, expected 0)[0m

Switched to worksheet: http://rest-server:2900/worksheets/0x23706f2903f24b8f8a643ebe09fd41c9 (temp-test-cli-538231)

>> cl ls -w 0x7e138c16ac0d4e8090e3d9e0b842cb3b -u
[36;1m (exit code 0, expected 0)[0m

0xa74c79329768412cb328c3195c79f0ea

>> cl wrm --force 0x7e138c16ac0d4e8090e3d9e0b842cb3b
[36;1m (exit code 0, expected 0)[0m


>> cl info -f state 0xa74c79329768412cb328c3195c79f0ea
[36;1m (exit code 0, expected 0)[0m

ready

>> cl rm --force 0xa74c79329768412cb328c3195c79f0ea
[36;1m (exit code 0, expected 0)[0m

0xa74c79329768412cb328c3195c79f0ea

>> cl uedit codalab --disk-quota 100.0g
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
is_verified    : True
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 15m59s / 100y0d (0.0%)
disk           : 2.3k / 100.0g (0.0%)
parallel_run_quota: 100

[33;1m[*][*] BEGIN MODULE: mimic[0m

[*][*] SWITCHING TO TEMPORARY WORKSHEET
>> cl logout
[36;1m (exit code 0, expected 0)[0m


>> cl uinfo
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 15m59s / 100y0d (0.0%)
disk           : 2.3k / 100.0g (0.0%)
parallel_run_quota: 100

>> cl work -u
[36;1m (exit code 0, expected 0)[0m

0x23706f2903f24b8f8a643ebe09fd41c9

>> cl new temp-test-cli-31352
[36;1m (exit code 0, expected 0)[0m

0x58a31cbef93d481eb04a9b2bc39f9bcb

>> cl work 0x58a31cbef93d481eb04a9b2bc39f9bcb
[36;1m (exit code 0, expected 0)[0m

Switched to worksheet: http://rest-server:2900/worksheets/0x58a31cbef93d481eb04a9b2bc39f9bcb (temp-test-cli-31352)

>> cl uinfo -f disk
[36;1m (exit code 0, expected 0)[0m

2.3k / 100.0g (0.0%)

[*][*] BEGIN TEST
>> cl upload /opt/codalab-worksheets/tests/cli/files/a.txt -n temp-test-cli-630477-in1
[36;1m (exit code 0, expected 0)[0m

0x56aa5a61eb934988b4cbe5342652d6bb

>> cl make 0x56aa5a61eb934988b4cbe5342652d6bb -n temp-test-cli-630477-out
[36;1m (exit code 0, expected 0)[0m

0x518b83e278d24fc3ac937da7fd26c66d

>> cl upload /opt/codalab-worksheets/tests/cli/files/a.txt
[36;1m (exit code 0, expected 0)[0m

0xfb6825ba6971418cbd905c3b15f77365

>> cl mimic 0x56aa5a61eb934988b4cbe5342652d6bb 0xfb6825ba6971418cbd905c3b15f77365 -n new
[36;1m (exit code 0, expected 0)[0m

0xdac8ba94ff294b078907e47eddf7e984

>> cl wait 0x518b83e278d24fc3ac937da7fd26c66d
[36;1m (exit code 0, expected 0)[0m

0x518b83e278d24fc3ac937da7fd26c66d

>> cl info -f data_hash 0x518b83e278d24fc3ac937da7fd26c66d
[36;1m (exit code 0, expected 0)[0m

0x978c1ced5270553feeb1597e601578cfb7f2a689

>> cl wait 0xdac8ba94ff294b078907e47eddf7e984
[36;1m (exit code 0, expected 0)[0m

0xdac8ba94ff294b078907e47eddf7e984

>> cl info -f data_hash 0xdac8ba94ff294b078907e47eddf7e984
[36;1m (exit code 0, expected 0)[0m

0x978c1ced5270553feeb1597e601578cfb7f2a689

>> cl mimic 0x56aa5a61eb934988b4cbe5342652d6bb 0x518b83e278d24fc3ac937da7fd26c66d 0xfb6825ba6971418cbd905c3b15f77365 -n new
[36;1m (exit code 0, expected 0)[0m

0x92344a17c39b40d88813fd7b4f9dac7a

>> cl wait 0x518b83e278d24fc3ac937da7fd26c66d
[36;1m (exit code 0, expected 0)[0m

0x518b83e278d24fc3ac937da7fd26c66d

>> cl info -f data_hash 0x518b83e278d24fc3ac937da7fd26c66d
[36;1m (exit code 0, expected 0)[0m

0x978c1ced5270553feeb1597e601578cfb7f2a689

>> cl wait 0x92344a17c39b40d88813fd7b4f9dac7a
[36;1m (exit code 0, expected 0)[0m

0x92344a17c39b40d88813fd7b4f9dac7a

>> cl info -f data_hash 0x92344a17c39b40d88813fd7b4f9dac7a
[36;1m (exit code 0, expected 0)[0m

0x978c1ced5270553feeb1597e601578cfb7f2a689

>> cl macro temp-test-cli-630477 0xfb6825ba6971418cbd905c3b15f77365 -n new
[36;1m (exit code 0, expected 0)[0m

0x361db4b41975415393d999ae0a100d3b

>> cl wait 0x518b83e278d24fc3ac937da7fd26c66d
[36;1m (exit code 0, expected 0)[0m

0x518b83e278d24fc3ac937da7fd26c66d

>> cl info -f data_hash 0x518b83e278d24fc3ac937da7fd26c66d
[36;1m (exit code 0, expected 0)[0m

0x978c1ced5270553feeb1597e601578cfb7f2a689

>> cl wait 0x361db4b41975415393d999ae0a100d3b
[36;1m (exit code 0, expected 0)[0m

0x361db4b41975415393d999ae0a100d3b

>> cl info -f data_hash 0x361db4b41975415393d999ae0a100d3b
[36;1m (exit code 0, expected 0)[0m

0x978c1ced5270553feeb1597e601578cfb7f2a689

>> cl upload /opt/codalab-worksheets/tests/cli/files/a.txt -n temp-test-cli-558963-in1
[36;1m (exit code 0, expected 0)[0m

0xccc180adc5b14b3d8f4c18af43f39462

>> cl upload /opt/codalab-worksheets/tests/cli/files/b.txt -n temp-test-cli-558963-in-named
[36;1m (exit code 0, expected 0)[0m

0x8ec88922e7c242d0ba7eb10cbca5d902

>> cl make numbered:0xccc180adc5b14b3d8f4c18af43f39462 named:0x8ec88922e7c242d0ba7eb10cbca5d902 -n temp-test-cli-558963-out
[36;1m (exit code 0, expected 0)[0m

0xdefa7df8077c473cbaebd5183dacd704

>> cl upload /opt/codalab-worksheets/tests/cli/files/a.txt
[36;1m (exit code 0, expected 0)[0m

0xc4b1c79065924f4993356a8ccaaaf178

>> cl upload /opt/codalab-worksheets/tests/cli/files/b.txt
[36;1m (exit code 0, expected 0)[0m

0x755b129f5c2a43b68c77f5c07fbf1884

>> cl macro temp-test-cli-558963 0xc4b1c79065924f4993356a8ccaaaf178 named:0x755b129f5c2a43b68c77f5c07fbf1884 -n new
[36;1m (exit code 0, expected 0)[0m

0xa85ed0d6227a435489b2eafd44a3541a

>> cl wait 0xdefa7df8077c473cbaebd5183dacd704
[36;1m (exit code 0, expected 0)[0m

0xdefa7df8077c473cbaebd5183dacd704

>> cl info -f data_hash 0xdefa7df8077c473cbaebd5183dacd704
[36;1m (exit code 0, expected 0)[0m

0xda0633239909c95e7f895e4cdf58efa7dbfc7f59

>> cl wait 0xa85ed0d6227a435489b2eafd44a3541a
[36;1m (exit code 0, expected 0)[0m

0xa85ed0d6227a435489b2eafd44a3541a

>> cl info -f data_hash 0xa85ed0d6227a435489b2eafd44a3541a
[36;1m (exit code 0, expected 0)[0m

0xda0633239909c95e7f895e4cdf58efa7dbfc7f59

>> cl upload /opt/codalab-worksheets/tests/cli/files/a.txt
[36;1m (exit code 0, expected 0)[0m

0x424a6b07e66b41afb629ca329a90f8f6

>> cl upload /opt/codalab-worksheets/tests/cli/files/b.txt
[36;1m (exit code 0, expected 0)[0m

0xa1ffcbaeec6e46da80dbfc543a7796a8

>> cl run --request-docker-image python:3.6.10-slim-buster --request-disk 1m --request-memory 10m input:0x424a6b07e66b41afb629ca329a90f8f6 wc -l input
[36;1m (exit code 0, expected 0)[0m

0xf5cfacc6ab174e4c8553b578c159a3b3

>> cl mimic 0x424a6b07e66b41afb629ca329a90f8f6 0xa1ffcbaeec6e46da80dbfc543a7796a8
[36;1m (exit code 0, expected 0)[0m

0x0818774f2ff641ca8697ee1bf68a043b

>> cl wait 0xf5cfacc6ab174e4c8553b578c159a3b3
[36;1m (exit code 0, expected 0)[0m

0xf5cfacc6ab174e4c8553b578c159a3b3

>> cl wait 0x0818774f2ff641ca8697ee1bf68a043b
[36;1m (exit code 0, expected 0)[0m

0x0818774f2ff641ca8697ee1bf68a043b

>> cl cat 0xf5cfacc6ab174e4c8553b578c159a3b3/stdout
[36;1m (exit code 0, expected 0)[0m

2 input

>> cl cat 0x0818774f2ff641ca8697ee1bf68a043b/stdout
[36;1m (exit code 0, expected 0)[0m

1 input

[32;1m[*] TEST PASSED[0m

[*][*] CLEANING UP
>> cl logout
[36;1m (exit code 0, expected 0)[0m


>> cl uinfo
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 15m59s / 100y0d (0.0%)
disk           : 3.6k / 100.0g (0.0%)
parallel_run_quota: 100

>> cl work 0x23706f2903f24b8f8a643ebe09fd41c9
[36;1m (exit code 0, expected 0)[0m

Switched to worksheet: http://rest-server:2900/worksheets/0x23706f2903f24b8f8a643ebe09fd41c9 (temp-test-cli-538231)

>> cl ls -w 0x58a31cbef93d481eb04a9b2bc39f9bcb -u
[36;1m (exit code 0, expected 0)[0m

0x56aa5a61eb934988b4cbe5342652d6bb
0x518b83e278d24fc3ac937da7fd26c66d
0xfb6825ba6971418cbd905c3b15f77365
0xdac8ba94ff294b078907e47eddf7e984
0x92344a17c39b40d88813fd7b4f9dac7a
0x361db4b41975415393d999ae0a100d3b
0xccc180adc5b14b3d8f4c18af43f39462
0x8ec88922e7c242d0ba7eb10cbca5d902
0xdefa7df8077c473cbaebd5183dacd704
0xc4b1c79065924f4993356a8ccaaaf178
0x755b129f5c2a43b68c77f5c07fbf1884
0xa85ed0d6227a435489b2eafd44a3541a
0x424a6b07e66b41afb629ca329a90f8f6
0xa1ffcbaeec6e46da80dbfc543a7796a8
0xf5cfacc6ab174e4c8553b578c159a3b3
0x0818774f2ff641ca8697ee1bf68a043b

>> cl wrm --force 0x58a31cbef93d481eb04a9b2bc39f9bcb
[36;1m (exit code 0, expected 0)[0m


>> cl info -f state 0xa85ed0d6227a435489b2eafd44a3541a
[36;1m (exit code 0, expected 0)[0m

ready

>> cl rm --force 0xa85ed0d6227a435489b2eafd44a3541a
[36;1m (exit code 0, expected 0)[0m

0xa85ed0d6227a435489b2eafd44a3541a

>> cl info -f state 0xa1ffcbaeec6e46da80dbfc543a7796a8
[36;1m (exit code 0, expected 0)[0m

ready

>> cl rm --force 0xa1ffcbaeec6e46da80dbfc543a7796a8
[36;1m (exit code 0, expected 0)[0m

0xa1ffcbaeec6e46da80dbfc543a7796a8

>> cl info -f state 0xdefa7df8077c473cbaebd5183dacd704
[36;1m (exit code 0, expected 0)[0m

ready

>> cl rm --force 0xdefa7df8077c473cbaebd5183dacd704
[36;1m (exit code 0, expected 0)[0m

0xdefa7df8077c473cbaebd5183dacd704

>> cl info -f state 0x92344a17c39b40d88813fd7b4f9dac7a
[36;1m (exit code 0, expected 0)[0m

ready

>> cl rm --force 0x92344a17c39b40d88813fd7b4f9dac7a
[36;1m (exit code 0, expected 0)[0m

0x92344a17c39b40d88813fd7b4f9dac7a

>> cl info -f state 0xdac8ba94ff294b078907e47eddf7e984
[36;1m (exit code 0, expected 0)[0m

ready

>> cl rm --force 0xdac8ba94ff294b078907e47eddf7e984
[36;1m (exit code 0, expected 0)[0m

0xdac8ba94ff294b078907e47eddf7e984

>> cl info -f state 0xfb6825ba6971418cbd905c3b15f77365
[36;1m (exit code 0, expected 0)[0m

ready

>> cl rm --force 0xfb6825ba6971418cbd905c3b15f77365
[36;1m (exit code 0, expected 0)[0m

0xfb6825ba6971418cbd905c3b15f77365

>> cl info -f state 0xccc180adc5b14b3d8f4c18af43f39462
[36;1m (exit code 0, expected 0)[0m

ready

>> cl rm --force 0xccc180adc5b14b3d8f4c18af43f39462
[36;1m (exit code 0, expected 0)[0m

0xccc180adc5b14b3d8f4c18af43f39462

>> cl info -f state 0x424a6b07e66b41afb629ca329a90f8f6
[36;1m (exit code 0, expected 0)[0m

ready

>> cl rm --force 0x424a6b07e66b41afb629ca329a90f8f6
[36;1m (exit code 0, expected 0)[0m

0x424a6b07e66b41afb629ca329a90f8f6

>> cl info -f state 0xf5cfacc6ab174e4c8553b578c159a3b3
[36;1m (exit code 0, expected 0)[0m

ready

>> cl rm --force 0xf5cfacc6ab174e4c8553b578c159a3b3
[36;1m (exit code 0, expected 0)[0m

0xf5cfacc6ab174e4c8553b578c159a3b3

>> cl info -f state 0x755b129f5c2a43b68c77f5c07fbf1884
[36;1m (exit code 0, expected 0)[0m

ready

>> cl rm --force 0x755b129f5c2a43b68c77f5c07fbf1884
[36;1m (exit code 0, expected 0)[0m

0x755b129f5c2a43b68c77f5c07fbf1884

>> cl info -f state 0x56aa5a61eb934988b4cbe5342652d6bb
[36;1m (exit code 0, expected 0)[0m

ready

>> cl rm --force 0x56aa5a61eb934988b4cbe5342652d6bb
[36;1m (exit code 0, expected 0)[0m

0x56aa5a61eb934988b4cbe5342652d6bb

>> cl info -f state 0x0818774f2ff641ca8697ee1bf68a043b
[36;1m (exit code 0, expected 0)[0m

ready

>> cl rm --force 0x0818774f2ff641ca8697ee1bf68a043b
[36;1m (exit code 0, expected 0)[0m

0x0818774f2ff641ca8697ee1bf68a043b

>> cl info -f state 0x8ec88922e7c242d0ba7eb10cbca5d902
[36;1m (exit code 0, expected 0)[0m

ready

>> cl rm --force 0x8ec88922e7c242d0ba7eb10cbca5d902
[36;1m (exit code 0, expected 0)[0m

0x8ec88922e7c242d0ba7eb10cbca5d902

>> cl info -f state 0x518b83e278d24fc3ac937da7fd26c66d
[36;1m (exit code 0, expected 0)[0m

ready

>> cl rm --force 0x518b83e278d24fc3ac937da7fd26c66d
[36;1m (exit code 0, expected 0)[0m

0x518b83e278d24fc3ac937da7fd26c66d

>> cl info -f state 0xc4b1c79065924f4993356a8ccaaaf178
[36;1m (exit code 0, expected 0)[0m

ready

>> cl rm --force 0xc4b1c79065924f4993356a8ccaaaf178
[36;1m (exit code 0, expected 0)[0m

0xc4b1c79065924f4993356a8ccaaaf178

>> cl info -f state 0x361db4b41975415393d999ae0a100d3b
[36;1m (exit code 0, expected 0)[0m

ready

>> cl rm --force 0x361db4b41975415393d999ae0a100d3b
[36;1m (exit code 0, expected 0)[0m

0x361db4b41975415393d999ae0a100d3b

>> cl uedit codalab --disk-quota 100.0g
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
is_verified    : True
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 15m59s / 100y0d (0.0%)
disk           : 2.3k / 100.0g (0.0%)
parallel_run_quota: 100

[33;1m[*][*] BEGIN MODULE: status[0m

[*][*] SWITCHING TO TEMPORARY WORKSHEET
>> cl logout
[36;1m (exit code 0, expected 0)[0m


>> cl uinfo
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 15m59s / 100y0d (0.0%)
disk           : 2.3k / 100.0g (0.0%)
parallel_run_quota: 100

>> cl work -u
[36;1m (exit code 0, expected 0)[0m

0x23706f2903f24b8f8a643ebe09fd41c9

>> cl new temp-test-cli-420058
[36;1m (exit code 0, expected 0)[0m

0x4bf7b735c5374d54b027bd05a7ccb052

>> cl work 0x4bf7b735c5374d54b027bd05a7ccb052
[36;1m (exit code 0, expected 0)[0m

Switched to worksheet: http://rest-server:2900/worksheets/0x4bf7b735c5374d54b027bd05a7ccb052 (temp-test-cli-420058)

>> cl uinfo -f disk
[36;1m (exit code 0, expected 0)[0m

2.3k / 100.0g (0.0%)

[*][*] BEGIN TEST
>> cl status
[36;1m (exit code 0, expected 0)[0m

codalab_home: /Users/wangjiani/wjn/Code/codalab/codalab-worksheets/var/codalab/home
session: top
client_version: 1.5.0
server_version: 1.5.0
address: http://rest-server:2900
username: codalab
current_worksheet: http://rest-server:2900/worksheets/0x4bf7b735c5374d54b027bd05a7ccb052 (temp-test-cli-420058)
user: codalab(0)

>> cl alias
[36;1m (exit code 0, expected 0)[0m

localhost: http://localhost
main: https://worksheets.codalab.org

>> cl help
[36;1m (exit code 0, expected 0)[0m

CodaLab CLI version 1.5.0
Usage: cl <command> <arguments>

Commands for bundles
  upload (up)        Create a bundle by uploading an existing file/directory.
  make               Create a bundle by combining parts of existing bundles.
  run                Create a bundle by running a program bundle on an input bundle.
  edit (e)           Edit an existing bundle's metadata.
  detach (de)        Detach a bundle from this worksheet, but doesn't remove the bundle.
  rm                 Remove a bundle (permanent!).
  search (s)         Search for bundles on a CodaLab instance (returns 10 results by default).
  ls                 List bundles in a worksheet.
  info (i)           Show detailed information for a bundle.
  cat                Print the contents of a file/directory in a bundle.
  wait               Wait until a run bundle finishes.
  download (down)    Download bundle from a CodaLab instance.
  mimic              Creates a set of bundles based on analogy with another set.
  macro              Use mimicry to simulate macros.
  kill               Instruct the appropriate worker to terminate the running bundle(s).
  write              Instruct the appropriate worker to write a small file into the running bundle(s).
  mount              Beta feature: this command may change in a future release. Mount the contents of a bundle at a read-only mountpoint.
  netcat             Beta feature: this command may change in a future release. Send raw data into a port of a running bundle
  store              Add a bundle store.

Commands for worksheets
  new                Create a new worksheet.
  add                Append text items, bundles, or subworksheets to a worksheet (possibly on a different instance).
  wadd               Append all the items of the source worksheet to the destination worksheet.
  work (w)           Set the current instance/worksheet.
  print (p)          Print the rendered contents of a worksheet.
  wedit (we)         Edit the contents of a worksheet.
  wrm                Delete a worksheet.
  wls (wsearch, ws)  List worksheets on the current instance matching the given keywords (returns 10 results by default).

Commands for groups and permissions
  gls                Show groups to which you belong.
  gnew               Create a new group.
  grm                Delete a group.
  ginfo              Show detailed information for a group.
  uadd               Add a user to a group.
  urm                Remove a user from a group.
  perm               Set a group's permissions for a bundle.
  wperm              Set a group's permissions for a worksheet.
  chown              Set the owner of bundles.

Commands for users
  uinfo              Show user information.
  uedit              Edit user information.
  ufarewell          Delete user permanently. Only root user can delete other users. Non-root user can delete his/her own account.
  uls                Lists users on CodaLab (returns 10 results by default).

Commands for managing server
  workers            Display information about workers that you have connected to the CodaLab instance.
  bs-add-partition   Add another partition for storage (MultiDiskBundleStore only)
  bs-rm-partition    Remove a partition by its number (MultiDiskBundleStore only)
  bs-ls-partitions   List available partitions (MultiDiskBundleStore only)
  bs-health-check    Perform a health check on the bundle store, garbage collecting bad files in the store. Performs a dry run by default, use -f to force removal.

Other commands
  help               Show usage information for commands.
  status (st)        Show current client status.
  alias              Manage CodaLab instance aliases. These are mappings from names to CodaLab Worksheet servers.
  config             Set CodaLab configuration.
  logout             Logout of the current session, or a specific instance.

>> cl
[36;1m (exit code 0, expected 0)[0m

CodaLab CLI version 1.5.0
Usage: cl <command> <arguments>

Commands for bundles
  upload (up)        Create a bundle by uploading an existing file/directory.
  make               Create a bundle by combining parts of existing bundles.
  run                Create a bundle by running a program bundle on an input bundle.
  edit (e)           Edit an existing bundle's metadata.
  detach (de)        Detach a bundle from this worksheet, but doesn't remove the bundle.
  rm                 Remove a bundle (permanent!).
  search (s)         Search for bundles on a CodaLab instance (returns 10 results by default).
  ls                 List bundles in a worksheet.
  info (i)           Show detailed information for a bundle.
  cat                Print the contents of a file/directory in a bundle.
  wait               Wait until a run bundle finishes.
  download (down)    Download bundle from a CodaLab instance.
  mimic              Creates a set of bundles based on analogy with another set.
  macro              Use mimicry to simulate macros.
  kill               Instruct the appropriate worker to terminate the running bundle(s).
  write              Instruct the appropriate worker to write a small file into the running bundle(s).
  mount              Beta feature: this command may change in a future release. Mount the contents of a bundle at a read-only mountpoint.
  netcat             Beta feature: this command may change in a future release. Send raw data into a port of a running bundle
  store              Add a bundle store.

Commands for worksheets
  new                Create a new worksheet.
  add                Append text items, bundles, or subworksheets to a worksheet (possibly on a different instance).
  wadd               Append all the items of the source worksheet to the destination worksheet.
  work (w)           Set the current instance/worksheet.
  print (p)          Print the rendered contents of a worksheet.
  wedit (we)         Edit the contents of a worksheet.
  wrm                Delete a worksheet.
  wls (wsearch, ws)  List worksheets on the current instance matching the given keywords (returns 10 results by default).

Commands for groups and permissions
  gls                Show groups to which you belong.
  gnew               Create a new group.
  grm                Delete a group.
  ginfo              Show detailed information for a group.
  uadd               Add a user to a group.
  urm                Remove a user from a group.
  perm               Set a group's permissions for a bundle.
  wperm              Set a group's permissions for a worksheet.
  chown              Set the owner of bundles.

Commands for users
  uinfo              Show user information.
  uedit              Edit user information.
  ufarewell          Delete user permanently. Only root user can delete other users. Non-root user can delete his/her own account.
  uls                Lists users on CodaLab (returns 10 results by default).

Commands for managing server
  workers            Display information about workers that you have connected to the CodaLab instance.
  bs-add-partition   Add another partition for storage (MultiDiskBundleStore only)
  bs-rm-partition    Remove a partition by its number (MultiDiskBundleStore only)
  bs-ls-partitions   List available partitions (MultiDiskBundleStore only)
  bs-health-check    Perform a health check on the bundle store, garbage collecting bad files in the store. Performs a dry run by default, use -f to force removal.

Other commands
  help               Show usage information for commands.
  status (st)        Show current client status.
  alias              Manage CodaLab instance aliases. These are mappings from names to CodaLab Worksheet servers.
  config             Set CodaLab configuration.
  logout             Logout of the current session, or a specific instance.

[32;1m[*] TEST PASSED[0m

[*][*] CLEANING UP
>> cl logout
[36;1m (exit code 0, expected 0)[0m


>> cl uinfo
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 15m59s / 100y0d (0.0%)
disk           : 2.3k / 100.0g (0.0%)
parallel_run_quota: 100

>> cl work 0x23706f2903f24b8f8a643ebe09fd41c9
[36;1m (exit code 0, expected 0)[0m

Switched to worksheet: http://rest-server:2900/worksheets/0x23706f2903f24b8f8a643ebe09fd41c9 (temp-test-cli-538231)

>> cl ls -w 0x4bf7b735c5374d54b027bd05a7ccb052 -u
[36;1m (exit code 0, expected 0)[0m


>> cl wrm --force 0x4bf7b735c5374d54b027bd05a7ccb052
[36;1m (exit code 0, expected 0)[0m


>> cl uedit codalab --disk-quota 100.0g
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
is_verified    : True
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 15m59s / 100y0d (0.0%)
disk           : 2.3k / 100.0g (0.0%)
parallel_run_quota: 100

[33;1m[*][*] BEGIN MODULE: batch[0m

[33;1m[*][*] DESCRIPTION: Test batch resolution of bundle uuids[0m

[*][*] SWITCHING TO TEMPORARY WORKSHEET
>> cl logout
[36;1m (exit code 0, expected 0)[0m


>> cl uinfo
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 15m59s / 100y0d (0.0%)
disk           : 2.3k / 100.0g (0.0%)
parallel_run_quota: 100

>> cl work -u
[36;1m (exit code 0, expected 0)[0m

0x23706f2903f24b8f8a643ebe09fd41c9

>> cl new temp-test-cli-296013
[36;1m (exit code 0, expected 0)[0m

0x9f305c369db349868303cf3285556ba8

>> cl work 0x9f305c369db349868303cf3285556ba8
[36;1m (exit code 0, expected 0)[0m

Switched to worksheet: http://rest-server:2900/worksheets/0x9f305c369db349868303cf3285556ba8 (temp-test-cli-296013)

>> cl uinfo -f disk
[36;1m (exit code 0, expected 0)[0m

2.3k / 100.0g (0.0%)

[*][*] BEGIN TEST
>> cl new temp-test-cli-750086
[36;1m (exit code 0, expected 0)[0m

0xc9dcfbcf0edd48c1ab58c6af4190962f

>> cl upload /opt/codalab-worksheets/tests/cli/files/a.txt -n temp-test-cli-327007
[36;1m (exit code 0, expected 0)[0m

0x0b23d47d3ea545a69e4b3b118d6a6c49

>> cl upload /opt/codalab-worksheets/tests/cli/files/a.txt -n temp-test-cli-31367
[36;1m (exit code 0, expected 0)[0m

0x92537b5bc32f45529caefca46f692ad9

>> cl upload /opt/codalab-worksheets/tests/cli/files/a.txt -n temp-test-cli-327007 -w temp-test-cli-750086
[36;1m (exit code 0, expected 0)[0m

0x8ed6f94706b540b8a961938c2b43439f

>> cl upload /opt/codalab-worksheets/tests/cli/files/a.txt -n temp-test-cli-31367 -w temp-test-cli-750086
[36;1m (exit code 0, expected 0)[0m

0x9aa443e673c24f74855dbcaec9a067df

>> cl info -f uuid temp-test-cli-327007 temp-test-cli-31367 temp-test-cli-750086/temp-test-cli-327007 temp-test-cli-750086/temp-test-cli-31367
[36;1m (exit code 0, expected 0)[0m

0x0b23d47d3ea545a69e4b3b118d6a6c49
0x92537b5bc32f45529caefca46f692ad9
0x8ed6f94706b540b8a961938c2b43439f
0x9aa443e673c24f74855dbcaec9a067df

>> cl info -f uuid 0x0b23d47d3ea545a69e4b3b118d6a6c49 temp-test-cli-327007 temp-test-cli-327007 0x0b23d47d3ea545a69e4b3b118d6a6c49
[36;1m (exit code 0, expected 0)[0m

0x0b23d47d3ea545a69e4b3b118d6a6c49
0x0b23d47d3ea545a69e4b3b118d6a6c49
0x0b23d47d3ea545a69e4b3b118d6a6c49
0x0b23d47d3ea545a69e4b3b118d6a6c49

[32;1m[*] TEST PASSED[0m

[*][*] CLEANING UP
>> cl logout
[36;1m (exit code 0, expected 0)[0m


>> cl uinfo
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 15m59s / 100y0d (0.0%)
disk           : 2.5k / 100.0g (0.0%)
parallel_run_quota: 100

>> cl work 0x23706f2903f24b8f8a643ebe09fd41c9
[36;1m (exit code 0, expected 0)[0m

Switched to worksheet: http://rest-server:2900/worksheets/0x23706f2903f24b8f8a643ebe09fd41c9 (temp-test-cli-538231)

>> cl ls -w 0x9f305c369db349868303cf3285556ba8 -u
[36;1m (exit code 0, expected 0)[0m

0x0b23d47d3ea545a69e4b3b118d6a6c49
0x92537b5bc32f45529caefca46f692ad9

>> cl wrm --force 0x9f305c369db349868303cf3285556ba8
[36;1m (exit code 0, expected 0)[0m


>> cl ls -w 0xc9dcfbcf0edd48c1ab58c6af4190962f -u
[36;1m (exit code 0, expected 0)[0m

0x8ed6f94706b540b8a961938c2b43439f
0x9aa443e673c24f74855dbcaec9a067df

>> cl wrm --force 0xc9dcfbcf0edd48c1ab58c6af4190962f
[36;1m (exit code 0, expected 0)[0m


>> cl info -f state 0x0b23d47d3ea545a69e4b3b118d6a6c49
[36;1m (exit code 0, expected 0)[0m

ready

>> cl rm --force 0x0b23d47d3ea545a69e4b3b118d6a6c49
[36;1m (exit code 0, expected 0)[0m

0x0b23d47d3ea545a69e4b3b118d6a6c49

>> cl info -f state 0x9aa443e673c24f74855dbcaec9a067df
[36;1m (exit code 0, expected 0)[0m

ready

>> cl rm --force 0x9aa443e673c24f74855dbcaec9a067df
[36;1m (exit code 0, expected 0)[0m

0x9aa443e673c24f74855dbcaec9a067df

>> cl info -f state 0x8ed6f94706b540b8a961938c2b43439f
[36;1m (exit code 0, expected 0)[0m

ready

>> cl rm --force 0x8ed6f94706b540b8a961938c2b43439f
[36;1m (exit code 0, expected 0)[0m

0x8ed6f94706b540b8a961938c2b43439f

>> cl info -f state 0x92537b5bc32f45529caefca46f692ad9
[36;1m (exit code 0, expected 0)[0m

ready

>> cl rm --force 0x92537b5bc32f45529caefca46f692ad9
[36;1m (exit code 0, expected 0)[0m

0x92537b5bc32f45529caefca46f692ad9

>> cl uedit codalab --disk-quota 100.0g
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
is_verified    : True
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 15m59s / 100y0d (0.0%)
disk           : 2.3k / 100.0g (0.0%)
parallel_run_quota: 100

[33;1m[*][*] BEGIN MODULE: resources[0m

[33;1m[*][*] DESCRIPTION: Test whether resource constraints are respected[0m

[*][*] SWITCHING TO TEMPORARY WORKSHEET
>> cl logout
[36;1m (exit code 0, expected 0)[0m


>> cl uinfo
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 15m59s / 100y0d (0.0%)
disk           : 2.3k / 100.0g (0.0%)
parallel_run_quota: 100

>> cl work -u
[36;1m (exit code 0, expected 0)[0m

0x23706f2903f24b8f8a643ebe09fd41c9

>> cl new temp-test-cli-91262
[36;1m (exit code 0, expected 0)[0m

0x9d730ec3e9e54aaab37d9afbaf81f8a2

>> cl work 0x9d730ec3e9e54aaab37d9afbaf81f8a2
[36;1m (exit code 0, expected 0)[0m

Switched to worksheet: http://rest-server:2900/worksheets/0x9d730ec3e9e54aaab37d9afbaf81f8a2 (temp-test-cli-91262)

>> cl uinfo -f disk
[36;1m (exit code 0, expected 0)[0m

2.3k / 100.0g (0.0%)

[*][*] BEGIN TEST
>> cl upload scripts/stress-test.pl
[36;1m (exit code 0, expected 0)[0m

0x4f5d77e6de2e4a088c30d405b6d56edc

>> cl run --request-docker-image python:3.6.10-slim-buster --request-time 10 --request-disk 10m --request-memory 10m main.pl:0x4f5d77e6de2e4a088c30d405b6d56edc perl main.pl 1 1 5
[36;1m (exit code 0, expected 0)[0m

0x93d817e14e3a4a0d906b28e81b6aebe7

>> cl wait 0x93d817e14e3a4a0d906b28e81b6aebe7
[36;1m (exit code 0, expected 0)[0m

0x93d817e14e3a4a0d906b28e81b6aebe7

>> cl run --request-docker-image python:3.6.10-slim-buster --request-time 1 --request-disk 10m --request-memory 10m main.pl:0x4f5d77e6de2e4a088c30d405b6d56edc perl main.pl 10 15 5
[36;1m (exit code 0, expected 0)[0m

0x09ca4a7a61f64e33b1b11a44beb2eeca

>> cl wait 0x09ca4a7a61f64e33b1b11a44beb2eeca
[36;1m (exit code 1, expected 1)[0m


>> cl info -f failure_message 0x09ca4a7a61f64e33b1b11a44beb2eeca
[36;1m (exit code 0, expected 0)[0m

Time limit exceeded. (Container uptime 1.2s > time limit 1.0s)

>> cl run --request-docker-image python:3.6.10-slim-buster --request-time 10 --request-disk 2m --request-memory 10m main.pl:0x4f5d77e6de2e4a088c30d405b6d56edc perl main.pl 1 1 10
[36;1m (exit code 0, expected 0)[0m

0x16e155a7499b4839b385070561d533c2

>> cl wait 0x16e155a7499b4839b385070561d533c2
[36;1m (exit code 1, expected 1)[0m


>> cl info -f failure_message 0x16e155a7499b4839b385070561d533c2
[36;1m (exit code 0, expected 0)[0m

Disk limit 2mb exceeded.

>> cl run --request-docker-image python:3.6.10-slim-buster --request-disk 1m --request-memory 10m python -c "import urllib.request; urllib.request.urlopen('https://www.google.com').read()" 
[36;1m (exit code 0, expected 0)[0m

0x6665fc0e44a84c5e8a4606c781154141

>> cl wait 0x6665fc0e44a84c5e8a4606c781154141
[36;1m (exit code 0, expected 0)[0m

0x6665fc0e44a84c5e8a4606c781154141

>> cl run --request-docker-image python:3.6.10-slim-buster --request-disk 1m --request-memory 10m --request-network python -c "import urllib.request; urllib.request.urlopen('https://www.google.com').read()" 
[36;1m (exit code 0, expected 0)[0m

0x376d94333f724fd9a9dd2853b38fc453

>> cl wait 0x376d94333f724fd9a9dd2853b38fc453
[36;1m (exit code 0, expected 0)[0m

0x376d94333f724fd9a9dd2853b38fc453

[32;1m[*] TEST PASSED[0m

[*][*] CLEANING UP
>> cl logout
[36;1m (exit code 0, expected 0)[0m


>> cl uinfo
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 16m5s / 100y0d (0.0%)
disk           : 16.0m / 100.0g (0.0%)
parallel_run_quota: 100

>> cl work 0x23706f2903f24b8f8a643ebe09fd41c9
[36;1m (exit code 0, expected 0)[0m

Switched to worksheet: http://rest-server:2900/worksheets/0x23706f2903f24b8f8a643ebe09fd41c9 (temp-test-cli-538231)

>> cl ls -w 0x9d730ec3e9e54aaab37d9afbaf81f8a2 -u
[36;1m (exit code 0, expected 0)[0m

0x4f5d77e6de2e4a088c30d405b6d56edc
0x93d817e14e3a4a0d906b28e81b6aebe7
0x09ca4a7a61f64e33b1b11a44beb2eeca
0x16e155a7499b4839b385070561d533c2
0x6665fc0e44a84c5e8a4606c781154141
0x376d94333f724fd9a9dd2853b38fc453

>> cl wrm --force 0x9d730ec3e9e54aaab37d9afbaf81f8a2
[36;1m (exit code 0, expected 0)[0m


>> cl info -f state 0x09ca4a7a61f64e33b1b11a44beb2eeca
[36;1m (exit code 0, expected 0)[0m

failed

>> cl rm --force 0x09ca4a7a61f64e33b1b11a44beb2eeca
[36;1m (exit code 0, expected 0)[0m

0x09ca4a7a61f64e33b1b11a44beb2eeca

>> cl info -f state 0x93d817e14e3a4a0d906b28e81b6aebe7
[36;1m (exit code 0, expected 0)[0m

ready

>> cl rm --force 0x93d817e14e3a4a0d906b28e81b6aebe7
[36;1m (exit code 0, expected 0)[0m

0x93d817e14e3a4a0d906b28e81b6aebe7

>> cl info -f state 0x4f5d77e6de2e4a088c30d405b6d56edc
[36;1m (exit code 0, expected 0)[0m

ready

>> cl rm --force 0x4f5d77e6de2e4a088c30d405b6d56edc
[36;1m (exit code 0, expected 0)[0m

0x4f5d77e6de2e4a088c30d405b6d56edc

>> cl info -f state 0x376d94333f724fd9a9dd2853b38fc453
[36;1m (exit code 0, expected 0)[0m

ready

>> cl rm --force 0x376d94333f724fd9a9dd2853b38fc453
[36;1m (exit code 0, expected 0)[0m

0x376d94333f724fd9a9dd2853b38fc453

>> cl info -f state 0x16e155a7499b4839b385070561d533c2
[36;1m (exit code 0, expected 0)[0m

failed

>> cl rm --force 0x16e155a7499b4839b385070561d533c2
[36;1m (exit code 0, expected 0)[0m

0x16e155a7499b4839b385070561d533c2

>> cl info -f state 0x6665fc0e44a84c5e8a4606c781154141
[36;1m (exit code 0, expected 0)[0m

ready

>> cl rm --force 0x6665fc0e44a84c5e8a4606c781154141
[36;1m (exit code 0, expected 0)[0m

0x6665fc0e44a84c5e8a4606c781154141

>> cl uedit codalab --disk-quota 100.0g
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
is_verified    : True
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 16m5s / 100y0d (0.0%)
disk           : 2.3k / 100.0g (0.0%)
parallel_run_quota: 100

[33;1m[*][*] BEGIN MODULE: copy[0m

[*][*] SWITCHING TO TEMPORARY WORKSHEET
>> cl logout
[36;1m (exit code 0, expected 0)[0m


>> cl uinfo
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 16m5s / 100y0d (0.0%)
disk           : 2.3k / 100.0g (0.0%)
parallel_run_quota: 100

>> cl work -u
[36;1m (exit code 0, expected 0)[0m

0x23706f2903f24b8f8a643ebe09fd41c9

>> cl new temp-test-cli-676346
[36;1m (exit code 0, expected 0)[0m

0x57619c427bf84f50bd95c4cf322f3cb4

>> cl work 0x57619c427bf84f50bd95c4cf322f3cb4
[36;1m (exit code 0, expected 0)[0m

Switched to worksheet: http://rest-server:2900/worksheets/0x57619c427bf84f50bd95c4cf322f3cb4 (temp-test-cli-676346)

>> cl uinfo -f disk
[36;1m (exit code 0, expected 0)[0m

2.3k / 100.0g (0.0%)

[*][*] BEGIN TEST
>> cl work
[36;1m (exit code 0, expected 0)[0m

Currently on worksheet: http://rest-server:2900/worksheets/0x57619c427bf84f50bd95c4cf322f3cb4 (temp-test-cli-676346)

>> cl work
[36;1m (exit code 0, expected 0)[0m

Currently on worksheet: http://rest-server:2900/worksheets/0x57619c427bf84f50bd95c4cf322f3cb4 (temp-test-cli-676346)

>> cl logout http://rest-server:51154
[36;1m (exit code 0, expected 0)[0m


>> cl work http://rest-server:51154::
[36;1m (exit code 0, expected 0)[0m

Switched to worksheet: http://rest-server:51154/worksheets/0x6c46573802be499ea06b201e1aa1d0c9 (home-codalab)

Source worksheet: http://rest-server:2900::temp-test-cli-676346
Remote_worksheet: http://rest-server:51154::
>> cl work http://rest-server:2900::temp-test-cli-676346
[36;1m (exit code 0, expected 0)[0m

Switched to worksheet: http://rest-server:2900/worksheets/0x57619c427bf84f50bd95c4cf322f3cb4 (temp-test-cli-676346)

>> cl upload /opt/codalab-worksheets/tests/cli/files/
[36;1m (exit code 0, expected 0)[0m

0x68ce5c2cfefd439fba8e9841c2920e45

>> cl add bundle 0x68ce5c2cfefd439fba8e9841c2920e45 --dest-worksheet http://rest-server:51154::
[36;1m (exit code 0, expected 0)[0m


>> cl info -f data_hash,name 0x68ce5c2cfefd439fba8e9841c2920e45 -w http://rest-server:2900::temp-test-cli-676346
[36;1m (exit code 0, expected 0)[0m

0x037a61b83546030347a5cace716058f6463c76f1	files

>> cl info -f data_hash,name 0x68ce5c2cfefd439fba8e9841c2920e45 -w http://rest-server:51154::
[36;1m (exit code 0, expected 0)[0m

0x037a61b83546030347a5cace716058f6463c76f1	files

>> cl work http://rest-server:51154::
[36;1m (exit code 0, expected 0)[0m

Switched to worksheet: http://rest-server:51154/worksheets/0x6c46573802be499ea06b201e1aa1d0c9 (home-codalab)

>> cl upload /opt/codalab-worksheets/tests/cli/files/
[36;1m (exit code 0, expected 0)[0m

0x5419fd3b13614898b96f5a539bf0ddf2

>> cl add bundle 0x5419fd3b13614898b96f5a539bf0ddf2 --dest-worksheet http://rest-server:2900::temp-test-cli-676346
[36;1m (exit code 0, expected 0)[0m


>> cl info -f data_hash,name 0x5419fd3b13614898b96f5a539bf0ddf2 -w http://rest-server:2900::temp-test-cli-676346
[36;1m (exit code 0, expected 0)[0m

0x037a61b83546030347a5cace716058f6463c76f1	files

>> cl info -f data_hash,name 0x5419fd3b13614898b96f5a539bf0ddf2 -w http://rest-server:51154::
[36;1m (exit code 0, expected 0)[0m

0x037a61b83546030347a5cace716058f6463c76f1	files

>> cl work http://rest-server:51154::
[36;1m (exit code 0, expected 0)[0m

Switched to worksheet: http://rest-server:51154/worksheets/0x6c46573802be499ea06b201e1aa1d0c9 (home-codalab)

>> cl upload -c hello
[36;1m (exit code 0, expected 0)[0m

0xd7d6029947164ed48603e6d770a32b99

>> cl rm -d 0xd7d6029947164ed48603e6d770a32b99
[36;1m (exit code 0, expected 0)[0m

0xd7d6029947164ed48603e6d770a32b99

>> cl add bundle 0xd7d6029947164ed48603e6d770a32b99 --dest-worksheet http://rest-server:2900::temp-test-cli-676346
[36;1m (exit code 0, expected 0)[0m


>> cl work http://rest-server:2900::temp-test-cli-676346
[36;1m (exit code 0, expected 0)[0m

Switched to worksheet: http://rest-server:2900/worksheets/0x57619c427bf84f50bd95c4cf322f3cb4 (temp-test-cli-676346)

>> cl upload -c hello
[36;1m (exit code 0, expected 0)[0m

0x0a01823598374b0db8e7c2a3aaaef4e6

>> cl rm -d 0x0a01823598374b0db8e7c2a3aaaef4e6
[36;1m (exit code 0, expected 0)[0m

0x0a01823598374b0db8e7c2a3aaaef4e6

>> cl add bundle 0x0a01823598374b0db8e7c2a3aaaef4e6 --dest-worksheet http://rest-server:51154::
[36;1m (exit code 0, expected 0)[0m


>> cl run --request-docker-image python:3.6.10-slim-buster --request-disk 1m --request-memory 10m date --request-gpus 100
[36;1m (exit code 0, expected 0)[0m

0x42aa80eb5e164ca89543e0926935d9f1

>> cl info -f state 0x42aa80eb5e164ca89543e0926935d9f1
[36;1m (exit code 0, expected 0)[0m

staged

>> cl wadd http://rest-server:2900::temp-test-cli-676346 http://rest-server:51154::
[36;1m (exit code 0, expected 0)[0m

Skipping bundle 0x42aa80eb5e164ca89543e0926935d9f1 because it has non-final state staged
Copied 4 worksheet items to 0x6c46573802be499ea06b201e1aa1d0c9.

>> cl work http://rest-server:51154::
[36;1m (exit code 0, expected 0)[0m

Switched to worksheet: http://rest-server:51154/worksheets/0x6c46573802be499ea06b201e1aa1d0c9 (home-codalab)

>> cl ls --uuid-only
[36;1m (exit code 0, expected 0)[0m

0x68ce5c2cfefd439fba8e9841c2920e45
0x5419fd3b13614898b96f5a539bf0ddf2
0xd7d6029947164ed48603e6d770a32b99
0x0a01823598374b0db8e7c2a3aaaef4e6
0x68ce5c2cfefd439fba8e9841c2920e45
0x5419fd3b13614898b96f5a539bf0ddf2
0xd7d6029947164ed48603e6d770a32b99
0x0a01823598374b0db8e7c2a3aaaef4e6

>> cl info -f state 0x68ce5c2cfefd439fba8e9841c2920e45
[36;1m (exit code 0, expected 0)[0m

ready

>> cl info -f state 0x5419fd3b13614898b96f5a539bf0ddf2
[36;1m (exit code 0, expected 0)[0m

ready

>> cl info -f state 0xd7d6029947164ed48603e6d770a32b99
[36;1m (exit code 0, expected 0)[0m

ready

>> cl info -f state 0x0a01823598374b0db8e7c2a3aaaef4e6
[36;1m (exit code 0, expected 0)[0m

ready

>> cl info -f state 0x68ce5c2cfefd439fba8e9841c2920e45
[36;1m (exit code 0, expected 0)[0m

ready

>> cl info -f state 0x5419fd3b13614898b96f5a539bf0ddf2
[36;1m (exit code 0, expected 0)[0m

ready

>> cl info -f state 0xd7d6029947164ed48603e6d770a32b99
[36;1m (exit code 0, expected 0)[0m

ready

>> cl info -f state 0x0a01823598374b0db8e7c2a3aaaef4e6
[36;1m (exit code 0, expected 0)[0m

ready

>> cl rm 0x42aa80eb5e164ca89543e0926935d9f1
[36;1m (exit code 0, expected 0)[0m

0x42aa80eb5e164ca89543e0926935d9f1

>> cl wadd http://rest-server:51154:: http://rest-server:2900::temp-test-cli-676346
[36;1m (exit code 0, expected 0)[0m

Copied 8 worksheet items to 0x57619c427bf84f50bd95c4cf322f3cb4.

>> cl work http://rest-server:2900::temp-test-cli-676346
[36;1m (exit code 0, expected 0)[0m

Switched to worksheet: http://rest-server:2900/worksheets/0x57619c427bf84f50bd95c4cf322f3cb4 (temp-test-cli-676346)

>> cl ls --uuid-only
[36;1m (exit code 0, expected 0)[0m

0x68ce5c2cfefd439fba8e9841c2920e45
0x5419fd3b13614898b96f5a539bf0ddf2
0xd7d6029947164ed48603e6d770a32b99
0x0a01823598374b0db8e7c2a3aaaef4e6
0x68ce5c2cfefd439fba8e9841c2920e45
0x5419fd3b13614898b96f5a539bf0ddf2
0xd7d6029947164ed48603e6d770a32b99
0x0a01823598374b0db8e7c2a3aaaef4e6
0x68ce5c2cfefd439fba8e9841c2920e45
0x5419fd3b13614898b96f5a539bf0ddf2
0xd7d6029947164ed48603e6d770a32b99
0x0a01823598374b0db8e7c2a3aaaef4e6

>> cl info -f state 0x68ce5c2cfefd439fba8e9841c2920e45
[36;1m (exit code 0, expected 0)[0m

ready

>> cl info -f state 0x5419fd3b13614898b96f5a539bf0ddf2
[36;1m (exit code 0, expected 0)[0m

ready

>> cl info -f state 0xd7d6029947164ed48603e6d770a32b99
[36;1m (exit code 0, expected 0)[0m

ready

>> cl info -f state 0x0a01823598374b0db8e7c2a3aaaef4e6
[36;1m (exit code 0, expected 0)[0m

ready

>> cl info -f state 0x68ce5c2cfefd439fba8e9841c2920e45
[36;1m (exit code 0, expected 0)[0m

ready

>> cl info -f state 0x5419fd3b13614898b96f5a539bf0ddf2
[36;1m (exit code 0, expected 0)[0m

ready

>> cl info -f state 0xd7d6029947164ed48603e6d770a32b99
[36;1m (exit code 0, expected 0)[0m

ready

>> cl info -f state 0x0a01823598374b0db8e7c2a3aaaef4e6
[36;1m (exit code 0, expected 0)[0m

ready

>> cl info -f state 0x68ce5c2cfefd439fba8e9841c2920e45
[36;1m (exit code 0, expected 0)[0m

ready

>> cl info -f state 0x5419fd3b13614898b96f5a539bf0ddf2
[36;1m (exit code 0, expected 0)[0m

ready

>> cl info -f state 0xd7d6029947164ed48603e6d770a32b99
[36;1m (exit code 0, expected 0)[0m

ready

>> cl info -f state 0x0a01823598374b0db8e7c2a3aaaef4e6
[36;1m (exit code 0, expected 0)[0m

ready

>> cl work http://rest-server:2900::temp-test-cli-676346
[36;1m (exit code 0, expected 0)[0m

Switched to worksheet: http://rest-server:2900/worksheets/0x57619c427bf84f50bd95c4cf322f3cb4 (temp-test-cli-676346)

[32;1m[*] TEST PASSED[0m

[*][*] CLEANING UP
>> cl logout
[36;1m (exit code 0, expected 0)[0m


>> cl uinfo
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 16m5s / 100y0d (0.0%)
disk           : 89.0k / 100.0g (0.0%)
parallel_run_quota: 100

>> cl work 0x23706f2903f24b8f8a643ebe09fd41c9
[36;1m (exit code 0, expected 0)[0m

Switched to worksheet: http://rest-server:2900/worksheets/0x23706f2903f24b8f8a643ebe09fd41c9 (temp-test-cli-538231)

>> cl ls -w 0x57619c427bf84f50bd95c4cf322f3cb4 -u
[36;1m (exit code 0, expected 0)[0m

0x68ce5c2cfefd439fba8e9841c2920e45
0x5419fd3b13614898b96f5a539bf0ddf2
0xd7d6029947164ed48603e6d770a32b99
0x0a01823598374b0db8e7c2a3aaaef4e6
0x68ce5c2cfefd439fba8e9841c2920e45
0x5419fd3b13614898b96f5a539bf0ddf2
0xd7d6029947164ed48603e6d770a32b99
0x0a01823598374b0db8e7c2a3aaaef4e6
0x68ce5c2cfefd439fba8e9841c2920e45
0x5419fd3b13614898b96f5a539bf0ddf2
0xd7d6029947164ed48603e6d770a32b99
0x0a01823598374b0db8e7c2a3aaaef4e6

>> cl wrm --force 0x57619c427bf84f50bd95c4cf322f3cb4
[36;1m (exit code 0, expected 0)[0m


>> cl info -f state 0x0a01823598374b0db8e7c2a3aaaef4e6
[36;1m (exit code 0, expected 0)[0m

ready

>> cl rm --force 0x0a01823598374b0db8e7c2a3aaaef4e6
[36;1m (exit code 0, expected 0)[0m

0x0a01823598374b0db8e7c2a3aaaef4e6

>> cl info -f state 0x68ce5c2cfefd439fba8e9841c2920e45
[36;1m (exit code 0, expected 0)[0m

ready

>> cl rm --force 0x68ce5c2cfefd439fba8e9841c2920e45
[36;1m (exit code 0, expected 0)[0m

0x68ce5c2cfefd439fba8e9841c2920e45

>> cl info -f state 0x5419fd3b13614898b96f5a539bf0ddf2
[36;1m (exit code 0, expected 0)[0m

ready

>> cl rm --force 0x5419fd3b13614898b96f5a539bf0ddf2
[36;1m (exit code 0, expected 0)[0m

0x5419fd3b13614898b96f5a539bf0ddf2

>> cl info -f state 0xd7d6029947164ed48603e6d770a32b99
[36;1m (exit code 0, expected 0)[0m

ready

>> cl rm --force 0xd7d6029947164ed48603e6d770a32b99
[36;1m (exit code 0, expected 0)[0m

0xd7d6029947164ed48603e6d770a32b99

>> cl uedit codalab --disk-quota 100.0g
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
is_verified    : True
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 16m5s / 100y0d (0.0%)
disk           : 2.3k / 100.0g (0.0%)
parallel_run_quota: 100

[33;1m[*][*] BEGIN MODULE: groups[0m

[*][*] SWITCHING TO TEMPORARY WORKSHEET
>> cl logout
[36;1m (exit code 0, expected 0)[0m


>> cl uinfo
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 16m5s / 100y0d (0.0%)
disk           : 2.3k / 100.0g (0.0%)
parallel_run_quota: 100

>> cl work -u
[36;1m (exit code 0, expected 0)[0m

0x23706f2903f24b8f8a643ebe09fd41c9

>> cl new temp-test-cli-84668
[36;1m (exit code 0, expected 0)[0m

0x08c7bbbd85fa42b2b1e9c122f4599f0a

>> cl work 0x08c7bbbd85fa42b2b1e9c122f4599f0a
[36;1m (exit code 0, expected 0)[0m

Switched to worksheet: http://rest-server:2900/worksheets/0x08c7bbbd85fa42b2b1e9c122f4599f0a (temp-test-cli-84668)

>> cl uinfo -f disk
[36;1m (exit code 0, expected 0)[0m

2.3k / 100.0g (0.0%)

[*][*] BEGIN TEST
>> cl ginfo public
[36;1m (exit code 0, expected 0)[0m

Members of group public(0x2dd4be0064a74b968689952b2b43465a):
user  role
----------

>> cl uinfo -f id
[36;1m (exit code 0, expected 0)[0m

0

>> cl uinfo -f user_name
[36;1m (exit code 0, expected 0)[0m

codalab

>> cl gnew temp-test-cli-715356
[36;1m (exit code 0, expected 0)[0m

Created new group temp-test-cli-715356(0xa84a69e54de746ef8fe76edbe02537e5).

>> cl ginfo temp-test-cli-715356
[36;1m (exit code 0, expected 0)[0m

Members of group temp-test-cli-715356(0xa84a69e54de746ef8fe76edbe02537e5):
user        role 
-----------------
codalab(0)  owner

>> cl gls
[36;1m (exit code 0, expected 0)[0m

name                  uuid                                owner                       role  
--------------------------------------------------------------------------------------------
public                0x2dd4be0064a74b968689952b2b43465a  EmptyJsonApiRelationship()  member
temp-test-cli-445388  0x2736ba083adb42dc87c041b4ea87d586  codalab(0)                  owner 
temp-test-cli-81811   0xa53c9f40932d4a93a079d0efc8f87a62  codalab(0)                  owner 
temp-test-cli-715356  0xa84a69e54de746ef8fe76edbe02537e5  codalab(0)                  owner 

>> cl uadd codalab temp-test-cli-715356
WARNING:retry.api:HTTP Error 400: Bad Request, retrying in 1 seconds...
[36;1m (exit code 1, expected 1)[0m


>> cl uadd temp-test-cli-488054 temp-test-cli-715356
[36;1m (exit code 0, expected 0)[0m

temp-test-cli-488054 in group temp-test-cli-715356 as member

>> cl ginfo temp-test-cli-715356
[36;1m (exit code 0, expected 0)[0m

Members of group temp-test-cli-715356(0xa84a69e54de746ef8fe76edbe02537e5):
user                                        role  
--------------------------------------------------
codalab(0)                                  owner 
temp-test-cli-488054(temp-test-cli-488054)  member

>> cl ufarewell temp-test-cli-488054
[36;1m (exit code 0, expected 0)[0m

Deleted user temp-test-cli-488054(temp-test-cli-488054).

>> cl ginfo temp-test-cli-715356
[36;1m (exit code 0, expected 0)[0m

Members of group temp-test-cli-715356(0xa84a69e54de746ef8fe76edbe02537e5):
user        role 
-----------------
codalab(0)  owner

[32;1m[*] TEST PASSED[0m

[*][*] CLEANING UP
>> cl logout
[36;1m (exit code 0, expected 0)[0m


>> cl uinfo
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 16m5s / 100y0d (0.0%)
disk           : 2.3k / 100.0g (0.0%)
parallel_run_quota: 100

>> cl work 0x23706f2903f24b8f8a643ebe09fd41c9
[36;1m (exit code 0, expected 0)[0m

Switched to worksheet: http://rest-server:2900/worksheets/0x23706f2903f24b8f8a643ebe09fd41c9 (temp-test-cli-538231)

>> cl ls -w 0x08c7bbbd85fa42b2b1e9c122f4599f0a -u
[36;1m (exit code 0, expected 0)[0m


>> cl wrm --force 0x08c7bbbd85fa42b2b1e9c122f4599f0a
[36;1m (exit code 0, expected 0)[0m


>> cl uedit codalab --disk-quota 100.0g
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
is_verified    : True
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 16m5s / 100y0d (0.0%)
disk           : 2.3k / 100.0g (0.0%)
parallel_run_quota: 100

>> cl grm 0xa84a69e54de746ef8fe76edbe02537e5
[36;1m (exit code 0, expected 0)[0m

Deleted group temp-test-cli-715356(0xa84a69e54de746ef8fe76edbe02537e5).

[33;1m[*][*] BEGIN MODULE: netcat[0m

[*][*] SWITCHING TO TEMPORARY WORKSHEET
>> cl logout
[36;1m (exit code 0, expected 0)[0m


>> cl uinfo
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 16m5s / 100y0d (0.0%)
disk           : 2.3k / 100.0g (0.0%)
parallel_run_quota: 100

>> cl work -u
[36;1m (exit code 0, expected 0)[0m

0x23706f2903f24b8f8a643ebe09fd41c9

>> cl new temp-test-cli-906369
[36;1m (exit code 0, expected 0)[0m

0x0c418dc196eb43ddb3d62b876074953b

>> cl work 0x0c418dc196eb43ddb3d62b876074953b
[36;1m (exit code 0, expected 0)[0m

Switched to worksheet: http://rest-server:2900/worksheets/0x0c418dc196eb43ddb3d62b876074953b (temp-test-cli-906369)

>> cl uinfo -f disk
[36;1m (exit code 0, expected 0)[0m

2.3k / 100.0g (0.0%)

[*][*] BEGIN TEST
>> cl upload /opt/codalab-worksheets/tests/cli/files/netcat-test.py
[36;1m (exit code 0, expected 0)[0m

0x8feac0cfd4fa428bafcaf812c33d2c78

>> cl info 0x8feac0cfd4fa428bafcaf812c33d2c78
[36;1m (exit code 0, expected 0)[0m

bundle_type               : dataset
uuid                      : 0x8feac0cfd4fa428bafcaf812c33d2c78
data_hash                 : 0x16728bf3253bf5b2714545aa70d0cd6ba2486ab3
state                     : ready
command                   : <none>
frozen                    : <none>
is_anonymous              : False
owner                     : codalab(0)
name                      : netcat-test.py
created                   : 2022-04-30 02:01:07
data_size                 : 472

>> cl run --request-docker-image python:3.6.10-slim-buster --request-disk 1m --request-memory 10m netcat-test.py:0x8feac0cfd4fa428bafcaf812c33d2c78 python netcat-test.py
[36;1m (exit code 0, expected 0)[0m

0x088e5499166442c68f8ed6f6e9f8de18

>> cl info -f state 0x088e5499166442c68f8ed6f6e9f8de18
[36;1m (exit code 0, expected 0)[0m

created

>> cl info -f state 0x088e5499166442c68f8ed6f6e9f8de18
[36;1m (exit code 0, expected 0)[0m

preparing

>> cl info -f state 0x088e5499166442c68f8ed6f6e9f8de18
[36;1m (exit code 0, expected 0)[0m

preparing

>> cl info -f state 0x088e5499166442c68f8ed6f6e9f8de18
[36;1m (exit code 0, expected 0)[0m

preparing

>> cl info -f state 0x088e5499166442c68f8ed6f6e9f8de18
[36;1m (exit code 0, expected 0)[0m

preparing

>> cl info -f state 0x088e5499166442c68f8ed6f6e9f8de18
[36;1m (exit code 0, expected 0)[0m

preparing

>> cl info -f state 0x088e5499166442c68f8ed6f6e9f8de18
[36;1m (exit code 0, expected 0)[0m

preparing

>> cl info -f state 0x088e5499166442c68f8ed6f6e9f8de18
[36;1m (exit code 0, expected 0)[0m

preparing

>> cl info -f state 0x088e5499166442c68f8ed6f6e9f8de18
[36;1m (exit code 0, expected 0)[0m

preparing

>> cl info -f state 0x088e5499166442c68f8ed6f6e9f8de18
[36;1m (exit code 0, expected 0)[0m

preparing

>> cl info -f state 0x088e5499166442c68f8ed6f6e9f8de18
[36;1m (exit code 0, expected 0)[0m

running

>> cl netcat 0x088e5499166442c68f8ed6f6e9f8de18 5005 --- hi patrick
[36;1m (exit code 0, expected 0)[0m

No, this is dawg
>> cl run --request-docker-image python:3.6.10-slim-buster --request-disk 1m --request-memory 10m netcat-test.py:0x8feac0cfd4fa428bafcaf812c33d2c78 python netcat-test.py
[36;1m (exit code 0, expected 0)[0m

0xb56aa9cfcf7b4c5fa4fc0da8d574860c

>> cl info -f state 0xb56aa9cfcf7b4c5fa4fc0da8d574860c
[36;1m (exit code 0, expected 0)[0m

starting

>> cl info -f state 0xb56aa9cfcf7b4c5fa4fc0da8d574860c
[36;1m (exit code 0, expected 0)[0m

staged

>> cl info -f state 0xb56aa9cfcf7b4c5fa4fc0da8d574860c
[36;1m (exit code 0, expected 0)[0m

starting

>> cl info -f state 0xb56aa9cfcf7b4c5fa4fc0da8d574860c
[36;1m (exit code 0, expected 0)[0m

staged

>> cl info -f state 0xb56aa9cfcf7b4c5fa4fc0da8d574860c
[36;1m (exit code 0, expected 0)[0m

staged

>> cl info -f state 0xb56aa9cfcf7b4c5fa4fc0da8d574860c
[36;1m (exit code 0, expected 0)[0m

starting

>> cl info -f state 0xb56aa9cfcf7b4c5fa4fc0da8d574860c
[36;1m (exit code 0, expected 0)[0m

staged

>> cl info -f state 0xb56aa9cfcf7b4c5fa4fc0da8d574860c
[36;1m (exit code 0, expected 0)[0m

staged

>> cl info -f state 0xb56aa9cfcf7b4c5fa4fc0da8d574860c
[36;1m (exit code 0, expected 0)[0m

staged

>> cl info -f state 0xb56aa9cfcf7b4c5fa4fc0da8d574860c
[36;1m (exit code 0, expected 0)[0m

staged

>> cl info -f state 0xb56aa9cfcf7b4c5fa4fc0da8d574860c
[36;1m (exit code 0, expected 0)[0m

staged

>> cl info -f state 0xb56aa9cfcf7b4c5fa4fc0da8d574860c
[36;1m (exit code 0, expected 0)[0m

starting

>> cl info -f state 0xb56aa9cfcf7b4c5fa4fc0da8d574860c
[36;1m (exit code 0, expected 0)[0m

staged

>> cl info -f state 0xb56aa9cfcf7b4c5fa4fc0da8d574860c
[36;1m (exit code 0, expected 0)[0m

staged

>> cl info -f state 0xb56aa9cfcf7b4c5fa4fc0da8d574860c
[36;1m (exit code 0, expected 0)[0m

starting

>> cl info -f state 0xb56aa9cfcf7b4c5fa4fc0da8d574860c
[36;1m (exit code 0, expected 0)[0m

staged

>> cl info -f state 0xb56aa9cfcf7b4c5fa4fc0da8d574860c
[36;1m (exit code 0, expected 0)[0m

staged

>> cl info -f state 0xb56aa9cfcf7b4c5fa4fc0da8d574860c
[36;1m (exit code 0, expected 0)[0m

starting

>> cl info -f state 0xb56aa9cfcf7b4c5fa4fc0da8d574860c
[36;1m (exit code 0, expected 0)[0m

staged

>> cl info -f state 0xb56aa9cfcf7b4c5fa4fc0da8d574860c
[36;1m (exit code 0, expected 0)[0m

preparing

>> cl info -f state 0xb56aa9cfcf7b4c5fa4fc0da8d574860c
[36;1m (exit code 0, expected 0)[0m

preparing

>> cl info -f state 0xb56aa9cfcf7b4c5fa4fc0da8d574860c
[36;1m (exit code 0, expected 0)[0m

preparing

>> cl info -f state 0xb56aa9cfcf7b4c5fa4fc0da8d574860c
[36;1m (exit code 0, expected 0)[0m

preparing

>> cl info -f state 0xb56aa9cfcf7b4c5fa4fc0da8d574860c
[36;1m (exit code 0, expected 0)[0m

preparing

>> cl info -f state 0xb56aa9cfcf7b4c5fa4fc0da8d574860c
[36;1m (exit code 0, expected 0)[0m

preparing

>> cl info -f state 0xb56aa9cfcf7b4c5fa4fc0da8d574860c
[36;1m (exit code 0, expected 0)[0m

preparing

>> cl info -f state 0xb56aa9cfcf7b4c5fa4fc0da8d574860c
[36;1m (exit code 0, expected 0)[0m

preparing

>> cl info -f state 0xb56aa9cfcf7b4c5fa4fc0da8d574860c
[36;1m (exit code 0, expected 0)[0m

preparing

>> cl info -f state 0xb56aa9cfcf7b4c5fa4fc0da8d574860c
[36;1m (exit code 0, expected 0)[0m

running

>> cl netcat 0xb56aa9cfcf7b4c5fa4fc0da8d574860c 5005 --- yo dawg!
[36;1m (exit code 0, expected 0)[0m

Hi this is dawg
[32;1m[*] TEST PASSED[0m

[*][*] CLEANING UP
>> cl logout
[36;1m (exit code 0, expected 0)[0m


>> cl uinfo
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 16m15s / 100y0d (0.0%)
disk           : 2.9k / 100.0g (0.0%)
parallel_run_quota: 100

>> cl work 0x23706f2903f24b8f8a643ebe09fd41c9
[36;1m (exit code 0, expected 0)[0m

Switched to worksheet: http://rest-server:2900/worksheets/0x23706f2903f24b8f8a643ebe09fd41c9 (temp-test-cli-538231)

>> cl ls -w 0x0c418dc196eb43ddb3d62b876074953b -u
[36;1m (exit code 0, expected 0)[0m

0x8feac0cfd4fa428bafcaf812c33d2c78
0x088e5499166442c68f8ed6f6e9f8de18
0xb56aa9cfcf7b4c5fa4fc0da8d574860c

>> cl wrm --force 0x0c418dc196eb43ddb3d62b876074953b
[36;1m (exit code 0, expected 0)[0m


>> cl info -f state 0x8feac0cfd4fa428bafcaf812c33d2c78
[36;1m (exit code 0, expected 0)[0m

ready

>> cl rm --force 0x8feac0cfd4fa428bafcaf812c33d2c78
[36;1m (exit code 0, expected 0)[0m

0x8feac0cfd4fa428bafcaf812c33d2c78

>> cl info -f state 0xb56aa9cfcf7b4c5fa4fc0da8d574860c
[36;1m (exit code 0, expected 0)[0m

running

>> cl kill 0xb56aa9cfcf7b4c5fa4fc0da8d574860c
[36;1m (exit code 0, expected 0)[0m

0xb56aa9cfcf7b4c5fa4fc0da8d574860c

>> cl wait 0xb56aa9cfcf7b4c5fa4fc0da8d574860c
[31;1m (exit code 0, expected 1 BAD)[0m

0xb56aa9cfcf7b4c5fa4fc0da8d574860c

CAUGHT
>> cl rm --force 0xb56aa9cfcf7b4c5fa4fc0da8d574860c
[36;1m (exit code 0, expected 0)[0m

0xb56aa9cfcf7b4c5fa4fc0da8d574860c

>> cl info -f state 0x088e5499166442c68f8ed6f6e9f8de18
[36;1m (exit code 0, expected 0)[0m

ready

>> cl rm --force 0x088e5499166442c68f8ed6f6e9f8de18
[36;1m (exit code 0, expected 0)[0m

0x088e5499166442c68f8ed6f6e9f8de18

>> cl uedit codalab --disk-quota 100.0g
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
is_verified    : True
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 16m27s / 100y0d (0.0%)
disk           : 2.3k / 100.0g (0.0%)
parallel_run_quota: 100

[33;1m[*][*] BEGIN MODULE: netcurl[0m

[*][*] SWITCHING TO TEMPORARY WORKSHEET
>> cl logout
[36;1m (exit code 0, expected 0)[0m


>> cl uinfo
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 16m27s / 100y0d (0.0%)
disk           : 2.3k / 100.0g (0.0%)
parallel_run_quota: 100

>> cl work -u
[36;1m (exit code 0, expected 0)[0m

0x23706f2903f24b8f8a643ebe09fd41c9

>> cl new temp-test-cli-429703
[36;1m (exit code 0, expected 0)[0m

0x6686677060bd49889e1d4f036fec2738

>> cl work 0x6686677060bd49889e1d4f036fec2738
[36;1m (exit code 0, expected 0)[0m

Switched to worksheet: http://rest-server:2900/worksheets/0x6686677060bd49889e1d4f036fec2738 (temp-test-cli-429703)

>> cl uinfo -f disk
[36;1m (exit code 0, expected 0)[0m

2.3k / 100.0g (0.0%)

[*][*] BEGIN TEST
>> cl run --request-docker-image python:3.6.10-slim-buster --request-disk 1m --request-memory 10m echo hello > hello.txt; python -m http.server
[36;1m (exit code 0, expected 0)[0m

0x611afdcd298f4a179bdf8baf5fdacd63

>> cl info -f state 0x611afdcd298f4a179bdf8baf5fdacd63
[36;1m (exit code 0, expected 0)[0m

staged

>> cl info -f state 0x611afdcd298f4a179bdf8baf5fdacd63
[36;1m (exit code 0, expected 0)[0m

staged

>> cl info -f state 0x611afdcd298f4a179bdf8baf5fdacd63
[36;1m (exit code 0, expected 0)[0m

starting

>> cl info -f state 0x611afdcd298f4a179bdf8baf5fdacd63
[36;1m (exit code 0, expected 0)[0m

starting

>> cl info -f state 0x611afdcd298f4a179bdf8baf5fdacd63
[36;1m (exit code 0, expected 0)[0m

staged

>> cl info -f state 0x611afdcd298f4a179bdf8baf5fdacd63
[36;1m (exit code 0, expected 0)[0m

starting

>> cl info -f state 0x611afdcd298f4a179bdf8baf5fdacd63
[36;1m (exit code 0, expected 0)[0m

staged

>> cl info -f state 0x611afdcd298f4a179bdf8baf5fdacd63
[36;1m (exit code 0, expected 0)[0m

preparing

>> cl info -f state 0x611afdcd298f4a179bdf8baf5fdacd63
[36;1m (exit code 0, expected 0)[0m

preparing

>> cl info -f state 0x611afdcd298f4a179bdf8baf5fdacd63
[36;1m (exit code 0, expected 0)[0m

preparing

>> cl info -f state 0x611afdcd298f4a179bdf8baf5fdacd63
[36;1m (exit code 0, expected 0)[0m

preparing

>> cl info -f state 0x611afdcd298f4a179bdf8baf5fdacd63
[36;1m (exit code 0, expected 0)[0m

preparing

>> cl info -f state 0x611afdcd298f4a179bdf8baf5fdacd63
[36;1m (exit code 0, expected 0)[0m

preparing

>> cl info -f state 0x611afdcd298f4a179bdf8baf5fdacd63
[36;1m (exit code 0, expected 0)[0m

preparing

>> cl info -f state 0x611afdcd298f4a179bdf8baf5fdacd63
[36;1m (exit code 0, expected 0)[0m

preparing

>> cl info -f state 0x611afdcd298f4a179bdf8baf5fdacd63
[36;1m (exit code 0, expected 0)[0m

preparing

>> cl info -f state 0x611afdcd298f4a179bdf8baf5fdacd63
[36;1m (exit code 0, expected 0)[0m

preparing

>> cl info -f state 0x611afdcd298f4a179bdf8baf5fdacd63
[36;1m (exit code 0, expected 0)[0m

running

>> curl http://rest-server:2900/rest/bundles/0x611afdcd298f4a179bdf8baf5fdacd63/netcurl/8000/hello.txt
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0100     6  100     6    0     0     72      0 --:--:-- --:--:-- --:--:--    73
[36;1m (exit code 0, expected 0)[0m

hello

[32;1m[*] TEST PASSED[0m

[*][*] CLEANING UP
>> cl logout
[36;1m (exit code 0, expected 0)[0m


>> cl uinfo
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 16m27s / 100y0d (0.0%)
disk           : 2.3k / 100.0g (0.0%)
parallel_run_quota: 100

>> cl work 0x23706f2903f24b8f8a643ebe09fd41c9
[36;1m (exit code 0, expected 0)[0m

Switched to worksheet: http://rest-server:2900/worksheets/0x23706f2903f24b8f8a643ebe09fd41c9 (temp-test-cli-538231)

>> cl ls -w 0x6686677060bd49889e1d4f036fec2738 -u
[36;1m (exit code 0, expected 0)[0m

0x611afdcd298f4a179bdf8baf5fdacd63

>> cl wrm --force 0x6686677060bd49889e1d4f036fec2738
[36;1m (exit code 0, expected 0)[0m


>> cl info -f state 0x611afdcd298f4a179bdf8baf5fdacd63
[36;1m (exit code 0, expected 0)[0m

running

>> cl kill 0x611afdcd298f4a179bdf8baf5fdacd63
[36;1m (exit code 0, expected 0)[0m

0x611afdcd298f4a179bdf8baf5fdacd63

>> cl wait 0x611afdcd298f4a179bdf8baf5fdacd63
[36;1m (exit code 1, expected 1)[0m


>> cl rm --force 0x611afdcd298f4a179bdf8baf5fdacd63
[36;1m (exit code 0, expected 0)[0m

0x611afdcd298f4a179bdf8baf5fdacd63

>> cl uedit codalab --disk-quota 100.0g
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
is_verified    : True
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 16m48s / 100y0d (0.0%)
disk           : 2.3k / 100.0g (0.0%)
parallel_run_quota: 100

[33;1m[*][*] BEGIN MODULE: anonymous[0m

[*][*] SWITCHING TO TEMPORARY WORKSHEET
>> cl logout
[36;1m (exit code 0, expected 0)[0m


>> cl uinfo
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 16m48s / 100y0d (0.0%)
disk           : 2.3k / 100.0g (0.0%)
parallel_run_quota: 100

>> cl work -u
[36;1m (exit code 0, expected 0)[0m

0x23706f2903f24b8f8a643ebe09fd41c9

>> cl new temp-test-cli-64820
[36;1m (exit code 0, expected 0)[0m

0xeeaa109e7a57423bbba4809040c1b8c5

>> cl work 0xeeaa109e7a57423bbba4809040c1b8c5
[36;1m (exit code 0, expected 0)[0m

Switched to worksheet: http://rest-server:2900/worksheets/0xeeaa109e7a57423bbba4809040c1b8c5 (temp-test-cli-64820)

>> cl uinfo -f disk
[36;1m (exit code 0, expected 0)[0m

2.3k / 100.0g (0.0%)

[*][*] BEGIN TEST
>> cl wedit --anonymous
[36;1m (exit code 0, expected 0)[0m

Saved worksheet metadata for temp-test-cli-64820(0xeeaa109e7a57423bbba4809040c1b8c5).

>> cl wedit --not-anonymous
[36;1m (exit code 0, expected 0)[0m

Saved worksheet metadata for temp-test-cli-64820(0xeeaa109e7a57423bbba4809040c1b8c5).

>> cl upload /opt/codalab-worksheets/tests/cli/files/a.txt
[36;1m (exit code 0, expected 0)[0m

0xe61ff3c98fd44b6c861ddb2f5ddb13a4

>> cl edit --anonymous 0xe61ff3c98fd44b6c861ddb2f5ddb13a4
[36;1m (exit code 0, expected 0)[0m

Saved metadata for bundle 0xe61ff3c98fd44b6c861ddb2f5ddb13a4.

>> cl edit --not-anonymous 0xe61ff3c98fd44b6c861ddb2f5ddb13a4
[36;1m (exit code 0, expected 0)[0m

Saved metadata for bundle 0xe61ff3c98fd44b6c861ddb2f5ddb13a4.

[32;1m[*] TEST PASSED[0m

[*][*] CLEANING UP
>> cl logout
[36;1m (exit code 0, expected 0)[0m


>> cl uinfo
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 16m48s / 100y0d (0.0%)
disk           : 2.4k / 100.0g (0.0%)
parallel_run_quota: 100

>> cl work 0x23706f2903f24b8f8a643ebe09fd41c9
[36;1m (exit code 0, expected 0)[0m

Switched to worksheet: http://rest-server:2900/worksheets/0x23706f2903f24b8f8a643ebe09fd41c9 (temp-test-cli-538231)

>> cl ls -w 0xeeaa109e7a57423bbba4809040c1b8c5 -u
[36;1m (exit code 0, expected 0)[0m

0xe61ff3c98fd44b6c861ddb2f5ddb13a4

>> cl wrm --force 0xeeaa109e7a57423bbba4809040c1b8c5
[36;1m (exit code 0, expected 0)[0m


>> cl info -f state 0xe61ff3c98fd44b6c861ddb2f5ddb13a4
[36;1m (exit code 0, expected 0)[0m

ready

>> cl rm --force 0xe61ff3c98fd44b6c861ddb2f5ddb13a4
[36;1m (exit code 0, expected 0)[0m

0xe61ff3c98fd44b6c861ddb2f5ddb13a4

>> cl uedit codalab --disk-quota 100.0g
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
is_verified    : True
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 16m48s / 100y0d (0.0%)
disk           : 2.3k / 100.0g (0.0%)
parallel_run_quota: 100

[33;1m[*][*] BEGIN MODULE: competition[0m

[33;1m[*][*] DESCRIPTION: Sanity-check the competition script.[0m

[*][*] SWITCHING TO TEMPORARY WORKSHEET
>> cl logout
[36;1m (exit code 0, expected 0)[0m


>> cl uinfo
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 16m48s / 100y0d (0.0%)
disk           : 2.3k / 100.0g (0.0%)
parallel_run_quota: 100

>> cl work -u
[36;1m (exit code 0, expected 0)[0m

0x23706f2903f24b8f8a643ebe09fd41c9

>> cl new temp-test-cli-492760
[36;1m (exit code 0, expected 0)[0m

0x6d37006db0b04aaf94ff8a5a3359b36c

>> cl work 0x6d37006db0b04aaf94ff8a5a3359b36c
[36;1m (exit code 0, expected 0)[0m

Switched to worksheet: http://rest-server:2900/worksheets/0x6d37006db0b04aaf94ff8a5a3359b36c (temp-test-cli-492760)

>> cl uinfo -f disk
[36;1m (exit code 0, expected 0)[0m

2.3k / 100.0g (0.0%)

[*][*] BEGIN TEST
>> cl gnew temp-test-cli-156416
[36;1m (exit code 0, expected 0)[0m

Created new group temp-test-cli-156416(0x3b2cc73797ad4d1f8551a85560569ca9).

>> cl uadd competitiond-temp-test-cli-715736 0x3b2cc73797ad4d1f8551a85560569ca9
[36;1m (exit code 0, expected 0)[0m

competitiond-temp-test-cli-715736 in group temp-test-cli-156416 as member

>> cl work -u
[36;1m (exit code 0, expected 0)[0m

0x6d37006db0b04aaf94ff8a5a3359b36c

>> cl upload /opt/codalab-worksheets/tests/cli/files/a.txt
[36;1m (exit code 0, expected 0)[0m

0x541cd4ea2efa4ccaabd4724b654e71ee

>> cl upload /opt/codalab-worksheets/tests/cli/files/b.txt
[36;1m (exit code 0, expected 0)[0m

0x4ae1c18355c2464fb4dcc0f3012a54f8

>> cl upload /opt/codalab-worksheets/tests/cli/files/evaluate.sh
[36;1m (exit code 0, expected 0)[0m

0x249ebf948df346cdb4366cd5b147353b

>> cl wperm 0x6d37006db0b04aaf94ff8a5a3359b36c 0x3b2cc73797ad4d1f8551a85560569ca9 all
[36;1m (exit code 0, expected 0)[0m

Group temp-test-cli-156416(0x3b2cc73797ad4d1f8551a85560569ca9) has all permission on worksheet http://rest-server:2900/worksheets/0x6d37006db0b04aaf94ff8a5a3359b36c (temp-test-cli-492760).

>> cl run --request-docker-image python:3.6.10-slim-buster --request-disk 1m --request-memory 10m dataset.txt:0x541cd4ea2efa4ccaabd4724b654e71ee echo dataset.txt > predictions.txt --tags submit-temp-test-cli-865139
[36;1m (exit code 0, expected 0)[0m

0xc1ca1848a1e44c8b9d72bb02cc453f22

>> cl wait 0xc1ca1848a1e44c8b9d72bb02cc453f22
[36;1m (exit code 0, expected 0)[0m

0xc1ca1848a1e44c8b9d72bb02cc453f22

>> cl-competitiond /tmp/temp-test-cli-995174-competition-config.json /tmp/temp-test-cli-485364-competition-out.json --verbose
/usr/local/lib/python3.6/dist-packages/azure/storage/blob/_shared/encryption.py:15: CryptographyDeprecationWarning: Python 3.6 is no longer supported by the Python core team. Therefore, support for it is deprecated in cryptography and will be removed in a future release.
  from cryptography.hazmat.backends import default_backend
[INFO] 2022-04-30 02:02:56,757: Running batch competition evaluation
[DEBUG] 2022-04-30 02:02:56,877: Collecting latest submissions
[INFO] 2022-04-30 02:02:56,974: Mimicking submission for codalab
[INFO] 2022-04-30 02:02:57,533: Finished mimicking submission for codalab
[DEBUG] 2022-04-30 02:02:57,533: Fetching the leaderboard
[DEBUG] 2022-04-30 02:02:57,569: Fetching corresponding original submission bundles
[DEBUG] 2022-04-30 02:02:57,649: Fetching scores and building leaderboard table
[DEBUG] 2022-04-30 02:02:57,651: Wrote leaderboard at /tmp/temp-test-cli-485364-competition-out.json
[36;1m (exit code 0, expected 0)[0m


>> cl search tags=eval-temp-test-cli-628416 -u
[36;1m (exit code 0, expected 0)[0m

0x8cc3889deae345909fb37aeb54c9fc49

>> cl perm 0xc1ca1848a1e44c8b9d72bb02cc453f22 public none
[36;1m (exit code 0, expected 0)[0m

Group public(0x2dd4be0064a74b968689952b2b43465a) has none permission on 1 bundles.

>> cl-competitiond /tmp/temp-test-cli-995174-competition-config.json /tmp/temp-test-cli-485364-competition-out.json --verbose
/usr/local/lib/python3.6/dist-packages/azure/storage/blob/_shared/encryption.py:15: CryptographyDeprecationWarning: Python 3.6 is no longer supported by the Python core team. Therefore, support for it is deprecated in cryptography and will be removed in a future release.
  from cryptography.hazmat.backends import default_backend
[INFO] 2022-04-30 02:03:00,845: Running batch competition evaluation
[DEBUG] 2022-04-30 02:03:00,936: Collecting latest submissions
[DEBUG] 2022-04-30 02:03:01,017: Already mimicked last submission by codalab.
[DEBUG] 2022-04-30 02:03:01,017: No new submissions.
[DEBUG] 2022-04-30 02:03:01,017: Fetching the leaderboard
[DEBUG] 2022-04-30 02:03:01,055: Fetching corresponding original submission bundles
[DEBUG] 2022-04-30 02:03:01,102: Fetching scores and building leaderboard table
[DEBUG] 2022-04-30 02:03:01,104: Wrote leaderboard at /tmp/temp-test-cli-485364-competition-out.json
[36;1m (exit code 0, expected 0)[0m


>> cl run --request-docker-image python:3.6.10-slim-buster --request-disk 1m --request-memory 10m dataset.txt:0x541cd4ea2efa4ccaabd4724b654e71ee echo dataset.txt > predictions.txt --tags submit-temp-test-cli-865139
[36;1m (exit code 0, expected 0)[0m

0x6ffb6a900b6c4912be7cb563228a7a22

>> cl wait 0x6ffb6a900b6c4912be7cb563228a7a22
[36;1m (exit code 0, expected 0)[0m

0x6ffb6a900b6c4912be7cb563228a7a22

>> cl-competitiond /tmp/temp-test-cli-995174-competition-config.json /tmp/temp-test-cli-485364-competition-out.json --verbose
/usr/local/lib/python3.6/dist-packages/azure/storage/blob/_shared/encryption.py:15: CryptographyDeprecationWarning: Python 3.6 is no longer supported by the Python core team. Therefore, support for it is deprecated in cryptography and will be removed in a future release.
  from cryptography.hazmat.backends import default_backend
[INFO] 2022-04-30 02:03:15,600: Running batch competition evaluation
[DEBUG] 2022-04-30 02:03:15,703: Collecting latest submissions
[INFO] 2022-04-30 02:03:15,802: Mimicking submission for codalab
[INFO] 2022-04-30 02:03:16,310: Finished mimicking submission for codalab
[DEBUG] 2022-04-30 02:03:16,310: Fetching the leaderboard
[DEBUG] 2022-04-30 02:03:16,338: Fetching corresponding original submission bundles
[DEBUG] 2022-04-30 02:03:16,409: Fetching scores and building leaderboard table
[DEBUG] 2022-04-30 02:03:16,410: Wrote leaderboard at /tmp/temp-test-cli-485364-competition-out.json
[36;1m (exit code 0, expected 0)[0m


>> cl run --request-docker-image python:3.6.10-slim-buster --request-disk 1m --request-memory 10m dataset.txt:0x541cd4ea2efa4ccaabd4724b654e71ee echo dataset.txt > predictions.txt --tags submit-temp-test-cli-865139
[36;1m (exit code 0, expected 0)[0m

0x2438dc32a3634ecaa1abadf28905ee76

>> cl wait 0x2438dc32a3634ecaa1abadf28905ee76
[36;1m (exit code 0, expected 0)[0m

0x2438dc32a3634ecaa1abadf28905ee76

>> cl-competitiond /tmp/temp-test-cli-995174-competition-config.json /tmp/temp-test-cli-485364-competition-out.json --verbose
/usr/local/lib/python3.6/dist-packages/azure/storage/blob/_shared/encryption.py:15: CryptographyDeprecationWarning: Python 3.6 is no longer supported by the Python core team. Therefore, support for it is deprecated in cryptography and will be removed in a future release.
  from cryptography.hazmat.backends import default_backend
[INFO] 2022-04-30 02:03:26,785: Running batch competition evaluation
[DEBUG] 2022-04-30 02:03:26,893: Collecting latest submissions
[INFO] 2022-04-30 02:03:26,994: Mimicking submission for codalab
[INFO] 2022-04-30 02:03:27,549: Finished mimicking submission for codalab
[DEBUG] 2022-04-30 02:03:27,549: Fetching the leaderboard
[DEBUG] 2022-04-30 02:03:27,583: Fetching corresponding original submission bundles
[DEBUG] 2022-04-30 02:03:27,635: Fetching scores and building leaderboard table
[DEBUG] 2022-04-30 02:03:27,636: Wrote leaderboard at /tmp/temp-test-cli-485364-competition-out.json
[36;1m (exit code 0, expected 0)[0m


[32;1m[*] TEST PASSED[0m

[*][*] CLEANING UP
>> cl logout
[36;1m (exit code 0, expected 0)[0m


>> cl uinfo
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 16m48s / 100y0d (0.0%)
disk           : 2.9k / 100.0g (0.0%)
parallel_run_quota: 100

>> cl work 0x23706f2903f24b8f8a643ebe09fd41c9
[36;1m (exit code 0, expected 0)[0m

Switched to worksheet: http://rest-server:2900/worksheets/0x23706f2903f24b8f8a643ebe09fd41c9 (temp-test-cli-538231)

>> cl ls -w 0x6d37006db0b04aaf94ff8a5a3359b36c -u
[36;1m (exit code 0, expected 0)[0m

0x541cd4ea2efa4ccaabd4724b654e71ee
0x4ae1c18355c2464fb4dcc0f3012a54f8
0x249ebf948df346cdb4366cd5b147353b
0xc1ca1848a1e44c8b9d72bb02cc453f22
0x3dfdaed200cf46deb38f6f3544ffd52b
0x8cc3889deae345909fb37aeb54c9fc49
0x6ffb6a900b6c4912be7cb563228a7a22
0x2119c0701f0641d4a072e38d10742c82
0xf9fc0c8807934cdb982f5addbda36fc8
0x2438dc32a3634ecaa1abadf28905ee76
0x446c33cf2db74f0ebaa5bfe2287eeaf3
0x33e51b07c0d74ff8b371ff860133c282

>> cl wrm --force 0x6d37006db0b04aaf94ff8a5a3359b36c
[36;1m (exit code 0, expected 0)[0m


>> cl info -f state 0x4ae1c18355c2464fb4dcc0f3012a54f8
[36;1m (exit code 0, expected 0)[0m

ready

>> cl rm --force 0x4ae1c18355c2464fb4dcc0f3012a54f8
[36;1m (exit code 0, expected 0)[0m

0x4ae1c18355c2464fb4dcc0f3012a54f8

>> cl info -f state 0x446c33cf2db74f0ebaa5bfe2287eeaf3
[36;1m (exit code 0, expected 0)[0m

failed

>> cl rm --force 0x446c33cf2db74f0ebaa5bfe2287eeaf3
[36;1m (exit code 0, expected 0)[0m

0x446c33cf2db74f0ebaa5bfe2287eeaf3

>> cl info -f state 0x6ffb6a900b6c4912be7cb563228a7a22
[36;1m (exit code 0, expected 0)[0m

ready

>> cl rm --force 0x6ffb6a900b6c4912be7cb563228a7a22
[36;1m (exit code 0, expected 0)[0m

0x6ffb6a900b6c4912be7cb563228a7a22

>> cl info -f state 0x2438dc32a3634ecaa1abadf28905ee76
[36;1m (exit code 0, expected 0)[0m

ready

>> cl rm --force 0x2438dc32a3634ecaa1abadf28905ee76
[36;1m (exit code 0, expected 0)[0m

0x2438dc32a3634ecaa1abadf28905ee76

>> cl info -f state 0x541cd4ea2efa4ccaabd4724b654e71ee
[36;1m (exit code 0, expected 0)[0m

ready

>> cl rm --force 0x541cd4ea2efa4ccaabd4724b654e71ee
[36;1m (exit code 0, expected 0)[0m

0x541cd4ea2efa4ccaabd4724b654e71ee

>> cl info -f state 0x33e51b07c0d74ff8b371ff860133c282
[36;1m (exit code 0, expected 0)[0m

failed

>> cl rm --force 0x33e51b07c0d74ff8b371ff860133c282
[36;1m (exit code 0, expected 0)[0m

0x33e51b07c0d74ff8b371ff860133c282

>> cl info -f state 0x249ebf948df346cdb4366cd5b147353b
[36;1m (exit code 0, expected 0)[0m

ready

>> cl rm --force 0x249ebf948df346cdb4366cd5b147353b
[36;1m (exit code 0, expected 0)[0m

0x249ebf948df346cdb4366cd5b147353b

>> cl info -f state 0x3dfdaed200cf46deb38f6f3544ffd52b
[36;1m (exit code 0, expected 0)[0m

failed

>> cl rm --force 0x3dfdaed200cf46deb38f6f3544ffd52b
[36;1m (exit code 0, expected 0)[0m

0x3dfdaed200cf46deb38f6f3544ffd52b

>> cl info -f state 0x2119c0701f0641d4a072e38d10742c82
[36;1m (exit code 0, expected 0)[0m

failed

>> cl rm --force 0x2119c0701f0641d4a072e38d10742c82
[36;1m (exit code 0, expected 0)[0m

0x2119c0701f0641d4a072e38d10742c82

>> cl info -f state 0xf9fc0c8807934cdb982f5addbda36fc8
[36;1m (exit code 0, expected 0)[0m

failed

>> cl rm --force 0xf9fc0c8807934cdb982f5addbda36fc8
[36;1m (exit code 0, expected 0)[0m

0xf9fc0c8807934cdb982f5addbda36fc8

>> cl info -f state 0x8cc3889deae345909fb37aeb54c9fc49
[36;1m (exit code 0, expected 0)[0m

failed

>> cl rm --force 0x8cc3889deae345909fb37aeb54c9fc49
[36;1m (exit code 0, expected 0)[0m

0x8cc3889deae345909fb37aeb54c9fc49

>> cl info -f state 0xc1ca1848a1e44c8b9d72bb02cc453f22
[36;1m (exit code 0, expected 0)[0m

ready

>> cl rm --force 0xc1ca1848a1e44c8b9d72bb02cc453f22
[36;1m (exit code 0, expected 0)[0m

0xc1ca1848a1e44c8b9d72bb02cc453f22

>> cl uedit codalab --disk-quota 100.0g
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
is_verified    : True
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 16m48s / 100y0d (0.0%)
disk           : 2.3k / 100.0g (0.0%)
parallel_run_quota: 100

[33;1m[*][*] BEGIN MODULE: unicode[0m

[*][*] SWITCHING TO TEMPORARY WORKSHEET
>> cl logout
[36;1m (exit code 0, expected 0)[0m


>> cl uinfo
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 16m48s / 100y0d (0.0%)
disk           : 2.3k / 100.0g (0.0%)
parallel_run_quota: 100

>> cl work -u
[36;1m (exit code 0, expected 0)[0m

0x23706f2903f24b8f8a643ebe09fd41c9

>> cl new temp-test-cli-683946
[36;1m (exit code 0, expected 0)[0m

0x03fb5f55e8d540a3ae462431e48103ee

>> cl work 0x03fb5f55e8d540a3ae462431e48103ee
[36;1m (exit code 0, expected 0)[0m

Switched to worksheet: http://rest-server:2900/worksheets/0x03fb5f55e8d540a3ae462431e48103ee (temp-test-cli-683946)

>> cl uinfo -f disk
[36;1m (exit code 0, expected 0)[0m

2.3k / 100.0g (0.0%)

[*][*] BEGIN TEST
>> cl new temp-test-cli-474892
[36;1m (exit code 0, expected 0)[0m

0xaa0fa783f0d84feb8a59059f75a5a149

>> cl wedit 0xaa0fa783f0d84feb8a59059f75a5a149 --title nonunicode
[36;1m (exit code 0, expected 0)[0m

Saved worksheet metadata for temp-test-cli-474892(0xaa0fa783f0d84feb8a59059f75a5a149).

>> cl print 0xaa0fa783f0d84feb8a59059f75a5a149
[36;1m (exit code 0, expected 0)[0m

### Worksheet: http://rest-server:2900/worksheets/0xaa0fa783f0d84feb8a59059f75a5a149 (temp-test-cli-474892)
### Title: nonunicode
### Tags: 
### Owner: codalab(0)
### Permissions: public(0x2dd4be):read

>> cl wedit 0xaa0fa783f0d84feb8a59059f75a5a149 --title fáncy ünicode 你好世界😊
[36;1m (exit code 0, expected 0)[0m

Saved worksheet metadata for temp-test-cli-474892(0xaa0fa783f0d84feb8a59059f75a5a149).

>> cl print 0xaa0fa783f0d84feb8a59059f75a5a149
[36;1m (exit code 0, expected 0)[0m

### Worksheet: http://rest-server:2900/worksheets/0xaa0fa783f0d84feb8a59059f75a5a149 (temp-test-cli-474892)
### Title: fáncy ünicode 你好世界😊
### Tags: 
### Owner: codalab(0)
### Permissions: public(0x2dd4be):read

>> cl upload --contents nounicode
[36;1m (exit code 0, expected 0)[0m

0x8956739a2ad44a969bb74d0221056c85

>> cl cat 0x8956739a2ad44a969bb74d0221056c85
[36;1m (exit code 0, expected 0)[0m

nounicode
>> cl upload --contents 你好世界😊
[36;1m (exit code 0, expected 0)[0m

0x26f45939ea0147dc9408c41ed3e88cfb

>> cl info -f name 0x26f45939ea0147dc9408c41ed3e88cfb
[36;1m (exit code 0, expected 0)[0m

_

>> cl cat 0x26f45939ea0147dc9408c41ed3e88cfb
[36;1m (exit code 0, expected 0)[0m

你好世界😊
>> cl upload /opt/codalab-worksheets/tests/cli/files/a.txt --description 你好
[36;1m (exit code 1, expected 1)[0m


>> cl upload /opt/codalab-worksheets/tests/cli/files/a.txt --tags test 😁
[36;1m (exit code 1, expected 1)[0m


>> cl run --request-docker-image python:3.6.10-slim-buster --request-disk 1m --request-memory 10m echo "fáncy ünicode"
WARNING:retry.api:HTTP Error 400: Bad Request, retrying in 1 seconds...
[36;1m (exit code 1, expected 1)[0m


>> cl upload /opt/codalab-worksheets/tests/cli/files/a.txt
[36;1m (exit code 0, expected 0)[0m

0x6fe0f9e0e68147259c7e6d0653f2d915

>> cl edit 0x6fe0f9e0e68147259c7e6d0653f2d915 -d 你好世界😊
WARNING:retry.api:HTTP Error 400: Bad Request, retrying in 1 seconds...
[36;1m (exit code 1, expected 1)[0m


[32;1m[*] TEST PASSED[0m

[*][*] CLEANING UP
>> cl logout
[36;1m (exit code 0, expected 0)[0m


>> cl uinfo
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 16m48s / 100y0d (0.0%)
disk           : 2.4k / 100.0g (0.0%)
parallel_run_quota: 100

>> cl work 0x23706f2903f24b8f8a643ebe09fd41c9
[36;1m (exit code 0, expected 0)[0m

Switched to worksheet: http://rest-server:2900/worksheets/0x23706f2903f24b8f8a643ebe09fd41c9 (temp-test-cli-538231)

>> cl ls -w 0x03fb5f55e8d540a3ae462431e48103ee -u
[36;1m (exit code 0, expected 0)[0m

0x8956739a2ad44a969bb74d0221056c85
0x26f45939ea0147dc9408c41ed3e88cfb
0x6fe0f9e0e68147259c7e6d0653f2d915

>> cl wrm --force 0x03fb5f55e8d540a3ae462431e48103ee
[36;1m (exit code 0, expected 0)[0m


>> cl info -f state 0x8956739a2ad44a969bb74d0221056c85
[36;1m (exit code 0, expected 0)[0m

ready

>> cl rm --force 0x8956739a2ad44a969bb74d0221056c85
[36;1m (exit code 0, expected 0)[0m

0x8956739a2ad44a969bb74d0221056c85

>> cl info -f state 0x6fe0f9e0e68147259c7e6d0653f2d915
[36;1m (exit code 0, expected 0)[0m

ready

>> cl rm --force 0x6fe0f9e0e68147259c7e6d0653f2d915
[36;1m (exit code 0, expected 0)[0m

0x6fe0f9e0e68147259c7e6d0653f2d915

>> cl info -f state 0x26f45939ea0147dc9408c41ed3e88cfb
[36;1m (exit code 0, expected 0)[0m

ready

>> cl rm --force 0x26f45939ea0147dc9408c41ed3e88cfb
[36;1m (exit code 0, expected 0)[0m

0x26f45939ea0147dc9408c41ed3e88cfb

>> cl uedit codalab --disk-quota 100.0g
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
is_verified    : True
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 16m48s / 100y0d (0.0%)
disk           : 2.3k / 100.0g (0.0%)
parallel_run_quota: 100

[33;1m[*][*] BEGIN MODULE: workers[0m

[*][*] SWITCHING TO TEMPORARY WORKSHEET
>> cl logout
[36;1m (exit code 0, expected 0)[0m


>> cl uinfo
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 16m48s / 100y0d (0.0%)
disk           : 2.3k / 100.0g (0.0%)
parallel_run_quota: 100

>> cl work -u
[36;1m (exit code 0, expected 0)[0m

0x23706f2903f24b8f8a643ebe09fd41c9

>> cl new temp-test-cli-309160
[36;1m (exit code 0, expected 0)[0m

0xbc98e7dd10574d3abd54d94db707e842

>> cl work 0xbc98e7dd10574d3abd54d94db707e842
[36;1m (exit code 0, expected 0)[0m

Switched to worksheet: http://rest-server:2900/worksheets/0xbc98e7dd10574d3abd54d94db707e842 (temp-test-cli-309160)

>> cl uinfo -f disk
[36;1m (exit code 0, expected 0)[0m

2.3k / 100.0g (0.0%)

[*][*] BEGIN TEST
>> cl workers
[36;1m (exit code 0, expected 0)[0m

worker_id       cpus  gpus  memory  free_disk  last_checkin  group  tag  runs  shared_file_system  tag_exclusive  exit_after_num_runs  is_terminating
-----------------------------------------------------------------------------------------------------------------------------------------------------
DN51t5ab.SUNet  0/4   0/0   1.9g    135g       7.0s ago                        False               False          999999957            False         

[32;1m[*] TEST PASSED[0m

[*][*] CLEANING UP
>> cl logout
[36;1m (exit code 0, expected 0)[0m


>> cl uinfo
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 16m48s / 100y0d (0.0%)
disk           : 2.3k / 100.0g (0.0%)
parallel_run_quota: 100

>> cl work 0x23706f2903f24b8f8a643ebe09fd41c9
[36;1m (exit code 0, expected 0)[0m

Switched to worksheet: http://rest-server:2900/worksheets/0x23706f2903f24b8f8a643ebe09fd41c9 (temp-test-cli-538231)

>> cl ls -w 0xbc98e7dd10574d3abd54d94db707e842 -u
[36;1m (exit code 0, expected 0)[0m


>> cl wrm --force 0xbc98e7dd10574d3abd54d94db707e842
[36;1m (exit code 0, expected 0)[0m


>> cl uedit codalab --disk-quota 100.0g
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
is_verified    : True
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 16m48s / 100y0d (0.0%)
disk           : 2.3k / 100.0g (0.0%)
parallel_run_quota: 100

[33;1m[*][*] BEGIN MODULE: sharing_workers[0m

[*][*] SWITCHING TO TEMPORARY WORKSHEET
>> cl logout
[36;1m (exit code 0, expected 0)[0m


>> cl uinfo
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 16m48s / 100y0d (0.0%)
disk           : 2.3k / 100.0g (0.0%)
parallel_run_quota: 100

>> cl work -u
[36;1m (exit code 0, expected 0)[0m

0x23706f2903f24b8f8a643ebe09fd41c9

>> cl new temp-test-cli-610676
[36;1m (exit code 0, expected 0)[0m

0x4fdee4cd040c4df5936095719eecb231

>> cl work 0x4fdee4cd040c4df5936095719eecb231
[36;1m (exit code 0, expected 0)[0m

Switched to worksheet: http://rest-server:2900/worksheets/0x4fdee4cd040c4df5936095719eecb231 (temp-test-cli-610676)

>> cl uinfo -f disk
[36;1m (exit code 0, expected 0)[0m

2.3k / 100.0g (0.0%)

[*][*] BEGIN TEST
>> cl logout
[36;1m (exit code 0, expected 0)[0m


>> cl uinfo
[36;1m (exit code 0, expected 0)[0m

id             : userB
user_name      : userB
has_access     : False
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Sat Apr 30 02:03:37 2022
last_login     : None
email          : temp-test-cli-929691
time           : 0.0s / 100y0d (0.0%)
disk           : 0 / 100 (0.0%)
parallel_run_quota: 100

>> cl gnew group1
[36;1m (exit code 0, expected 0)[0m

Created new group group1(0x43d326bf35554d30bd8f139c81d54c20).

>> cl logout
[36;1m (exit code 0, expected 0)[0m


>> cl uinfo
[36;1m (exit code 0, expected 0)[0m

id             : userD
user_name      : userD
has_access     : False
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Sat Apr 30 02:03:37 2022
last_login     : None
email          : temp-test-cli-173446
time           : 0.0s / 100y0d (0.0%)
disk           : 0 / 100 (0.0%)
parallel_run_quota: 100

>> cl gnew group2
[36;1m (exit code 0, expected 0)[0m

Created new group group2(0x407f6f6b526e4749ad6c8baada02cab0).

>> cl uadd userA group2
[36;1m (exit code 0, expected 0)[0m

userA in group group2 as member

>> cl uadd userB group2
[36;1m (exit code 0, expected 0)[0m

userB in group group2 as member

>> cl logout
[36;1m (exit code 0, expected 0)[0m


>> cl uinfo
[36;1m (exit code 0, expected 0)[0m

id             : userA
user_name      : userA
has_access     : False
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Sat Apr 30 02:03:37 2022
last_login     : None
email          : temp-test-cli-741348
time           : 0.0s / 100y0d (0.0%)
disk           : 0 / 100 (0.0%)
parallel_run_quota: 100

>> cl workers
[36;1m (exit code 0, expected 0)[0m

worker_id  cpus  gpus  memory  free_disk  last_checkin  group                               tag  runs  shared_file_system  tag_exclusive  exit_after_num_runs  is_terminating
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------
worker2    0/1   0/0   1000    1000       1.0s ago      0x407f6f6b526e4749ad6c8baada02cab0             False               False          100                  False         

>> cl logout
[36;1m (exit code 0, expected 0)[0m


>> cl uinfo
[36;1m (exit code 0, expected 0)[0m

id             : userB
user_name      : userB
has_access     : False
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Sat Apr 30 02:03:37 2022
last_login     : None
email          : temp-test-cli-929691
time           : 0.0s / 100y0d (0.0%)
disk           : 0 / 100 (0.0%)
parallel_run_quota: 100

>> cl workers
[36;1m (exit code 0, expected 0)[0m

worker_id  cpus  gpus  memory  free_disk  last_checkin  group                               tag  runs  shared_file_system  tag_exclusive  exit_after_num_runs  is_terminating
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------
worker1    0/1   0/0   1000    1000       1.0s ago      0x43d326bf35554d30bd8f139c81d54c20             False               False          100                  False         
worker2    0/1   0/0   1000    1000       1.0s ago      0x407f6f6b526e4749ad6c8baada02cab0             False               False          100                  False         

>> cl logout
[36;1m (exit code 0, expected 0)[0m


>> cl uinfo
[36;1m (exit code 0, expected 0)[0m

id             : userC
user_name      : userC
has_access     : False
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Sat Apr 30 02:03:37 2022
last_login     : None
email          : temp-test-cli-386698
time           : 0.0s / 100y0d (0.0%)
disk           : 0 / 100 (0.0%)
parallel_run_quota: 100

>> cl workers
[36;1m (exit code 0, expected 0)[0m

worker_id  cpus  gpus  memory  free_disk  last_checkin  group  tag  runs  shared_file_system  tag_exclusive  exit_after_num_runs  is_terminating
------------------------------------------------------------------------------------------------------------------------------------------------

>> cl logout
[36;1m (exit code 0, expected 0)[0m


>> cl uinfo
[36;1m (exit code 0, expected 0)[0m

id             : userD
user_name      : userD
has_access     : False
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Sat Apr 30 02:03:37 2022
last_login     : None
email          : temp-test-cli-173446
time           : 0.0s / 100y0d (0.0%)
disk           : 0 / 100 (0.0%)
parallel_run_quota: 100

>> cl workers
[36;1m (exit code 0, expected 0)[0m

worker_id  cpus  gpus  memory  free_disk  last_checkin  group                               tag  runs  shared_file_system  tag_exclusive  exit_after_num_runs  is_terminating
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------
worker2    0/1   0/0   1000    1000       1.0s ago      0x407f6f6b526e4749ad6c8baada02cab0             False               False          100                  False         

[32;1m[*] TEST PASSED[0m

[*][*] CLEANING UP
>> cl logout
[36;1m (exit code 0, expected 0)[0m


>> cl uinfo
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 16m48s / 100y0d (0.0%)
disk           : 2.3k / 100.0g (0.0%)
parallel_run_quota: 100

>> cl work 0x23706f2903f24b8f8a643ebe09fd41c9
[36;1m (exit code 0, expected 0)[0m

Switched to worksheet: http://rest-server:2900/worksheets/0x23706f2903f24b8f8a643ebe09fd41c9 (temp-test-cli-538231)

>> cl ls -w 0x4fdee4cd040c4df5936095719eecb231 -u
[36;1m (exit code 0, expected 0)[0m


>> cl wrm --force 0x4fdee4cd040c4df5936095719eecb231
[36;1m (exit code 0, expected 0)[0m


>> cl uedit codalab --disk-quota 100.0g
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
is_verified    : True
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 16m48s / 100y0d (0.0%)
disk           : 2.3k / 100.0g (0.0%)
parallel_run_quota: 100

>> cl grm 0x43d326bf35554d30bd8f139c81d54c20
[36;1m (exit code 0, expected 0)[0m

Deleted group group1(0x43d326bf35554d30bd8f139c81d54c20).

>> cl grm 0x407f6f6b526e4749ad6c8baada02cab0
[36;1m (exit code 0, expected 0)[0m

Deleted group group2(0x407f6f6b526e4749ad6c8baada02cab0).

[33;1m[*][*] BEGIN MODULE: rest1[0m

[33;1m[*][*] DESCRIPTION: 
    Call REST APIs.  Most things should be captured by CLI commands, but add things here that aren't.
    [0m

[*][*] SWITCHING TO TEMPORARY WORKSHEET
>> cl logout
[36;1m (exit code 0, expected 0)[0m


>> cl uinfo
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 16m48s / 100y0d (0.0%)
disk           : 2.3k / 100.0g (0.0%)
parallel_run_quota: 100

>> cl work -u
[36;1m (exit code 0, expected 0)[0m

0x23706f2903f24b8f8a643ebe09fd41c9

>> cl new temp-test-cli-225017
[36;1m (exit code 0, expected 0)[0m

0x75b57a187ac146a4b3e57c8af0014de8

>> cl work 0x75b57a187ac146a4b3e57c8af0014de8
[36;1m (exit code 0, expected 0)[0m

Switched to worksheet: http://rest-server:2900/worksheets/0x75b57a187ac146a4b3e57c8af0014de8 (temp-test-cli-225017)

>> cl uinfo -f disk
[36;1m (exit code 0, expected 0)[0m

2.3k / 100.0g (0.0%)

[*][*] BEGIN TEST
>> cl upload /opt/codalab-worksheets/tests/cli/files/a.txt
[36;1m (exit code 0, expected 0)[0m

0xd025111fe7ce41df89c1a23e632ce047

>> cl work -u
[36;1m (exit code 0, expected 0)[0m

0x75b57a187ac146a4b3e57c8af0014de8

>> cl upload /opt/codalab-worksheets/tests/cli/files/codalab.png
[36;1m (exit code 0, expected 0)[0m

0xedaccd4b40b54f079ce2014c3290b870

>> cl add text % display image / width=800
[36;1m (exit code 0, expected 0)[0m


>> cl add bundle 0xedaccd4b40b54f079ce2014c3290b870
[36;1m (exit code 0, expected 0)[0m


[32;1m[*] TEST PASSED[0m

[*][*] CLEANING UP
>> cl logout
[36;1m (exit code 0, expected 0)[0m


>> cl uinfo
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 16m48s / 100y0d (0.0%)
disk           : 12.3k / 100.0g (0.0%)
parallel_run_quota: 100

>> cl work 0x23706f2903f24b8f8a643ebe09fd41c9
[36;1m (exit code 0, expected 0)[0m

Switched to worksheet: http://rest-server:2900/worksheets/0x23706f2903f24b8f8a643ebe09fd41c9 (temp-test-cli-538231)

>> cl ls -w 0x75b57a187ac146a4b3e57c8af0014de8 -u
[36;1m (exit code 0, expected 0)[0m

0xd025111fe7ce41df89c1a23e632ce047
0xedaccd4b40b54f079ce2014c3290b870
0xedaccd4b40b54f079ce2014c3290b870

>> cl wrm --force 0x75b57a187ac146a4b3e57c8af0014de8
[36;1m (exit code 0, expected 0)[0m


>> cl info -f state 0xedaccd4b40b54f079ce2014c3290b870
[36;1m (exit code 0, expected 0)[0m

ready

>> cl rm --force 0xedaccd4b40b54f079ce2014c3290b870
[36;1m (exit code 0, expected 0)[0m

0xedaccd4b40b54f079ce2014c3290b870

>> cl info -f state 0xd025111fe7ce41df89c1a23e632ce047
[36;1m (exit code 0, expected 0)[0m

ready

>> cl rm --force 0xd025111fe7ce41df89c1a23e632ce047
[36;1m (exit code 0, expected 0)[0m

0xd025111fe7ce41df89c1a23e632ce047

>> cl uedit codalab --disk-quota 100.0g
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
is_verified    : True
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 16m48s / 100y0d (0.0%)
disk           : 2.3k / 100.0g (0.0%)
parallel_run_quota: 100

[33;1m[*][*] BEGIN MODULE: worksheets[0m

[*][*] SWITCHING TO TEMPORARY WORKSHEET
>> cl logout
[36;1m (exit code 0, expected 0)[0m


>> cl uinfo
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 16m48s / 100y0d (0.0%)
disk           : 2.3k / 100.0g (0.0%)
parallel_run_quota: 100

>> cl work -u
[36;1m (exit code 0, expected 0)[0m

0x23706f2903f24b8f8a643ebe09fd41c9

>> cl new temp-test-cli-196705
[36;1m (exit code 0, expected 0)[0m

0x8a4b5e9cff7942278c86b39b1de9d4e9

>> cl work 0x8a4b5e9cff7942278c86b39b1de9d4e9
[36;1m (exit code 0, expected 0)[0m

Switched to worksheet: http://rest-server:2900/worksheets/0x8a4b5e9cff7942278c86b39b1de9d4e9 (temp-test-cli-196705)

>> cl uinfo -f disk
[36;1m (exit code 0, expected 0)[0m

2.3k / 100.0g (0.0%)

[*][*] BEGIN TEST
>> cl wsearch cl_small_worksheet --uuid-only
[36;1m (exit code 0, expected 0)[0m

0x73407a774c93488cad8a13e70c3858a8

There is already an existing cl_small_worksheet with UUID 0x73407a774c93488cad8a13e70c3858a8. Skipping creating a sample worksheet...
[31;1m[!] ERROR: Test raised an exception![0m

[*][*] CLEANING UP
>> cl logout
[36;1m (exit code 0, expected 0)[0m


>> cl uinfo
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 16m48s / 100y0d (0.0%)
disk           : 2.3k / 100.0g (0.0%)
parallel_run_quota: 100

>> cl work 0x23706f2903f24b8f8a643ebe09fd41c9
[36;1m (exit code 0, expected 0)[0m

Switched to worksheet: http://rest-server:2900/worksheets/0x23706f2903f24b8f8a643ebe09fd41c9 (temp-test-cli-538231)

>> cl ls -w 0x8a4b5e9cff7942278c86b39b1de9d4e9 -u
[36;1m (exit code 0, expected 0)[0m


>> cl wrm --force 0x8a4b5e9cff7942278c86b39b1de9d4e9
[36;1m (exit code 0, expected 0)[0m


>> cl uedit codalab --disk-quota 100.0g
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
is_verified    : True
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 16m48s / 100y0d (0.0%)
disk           : 2.3k / 100.0g (0.0%)
parallel_run_quota: 100

[33;1m[*][*] BEGIN MODULE: memoize[0m

[*][*] SWITCHING TO TEMPORARY WORKSHEET
>> cl logout
[36;1m (exit code 0, expected 0)[0m


>> cl uinfo
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 16m48s / 100y0d (0.0%)
disk           : 2.3k / 100.0g (0.0%)
parallel_run_quota: 100

>> cl work -u
[36;1m (exit code 0, expected 0)[0m

0x23706f2903f24b8f8a643ebe09fd41c9

>> cl new temp-test-cli-939668
[36;1m (exit code 0, expected 0)[0m

0xb1fc94cadbec4d15904f9c2ef30dc64c

>> cl work 0xb1fc94cadbec4d15904f9c2ef30dc64c
[36;1m (exit code 0, expected 0)[0m

Switched to worksheet: http://rest-server:2900/worksheets/0xb1fc94cadbec4d15904f9c2ef30dc64c (temp-test-cli-939668)

>> cl uinfo -f disk
[36;1m (exit code 0, expected 0)[0m

2.3k / 100.0g (0.0%)

[*][*] BEGIN TEST
>> cl run --request-docker-image python:3.6.10-slim-buster --request-disk 1m --request-memory 10m echo hello
[36;1m (exit code 0, expected 0)[0m

0xb3f9e4da0e514d7585092b51f77074e5

>> cl wait 0xb3f9e4da0e514d7585092b51f77074e5
[36;1m (exit code 0, expected 0)[0m

0xb3f9e4da0e514d7585092b51f77074e5

>> cl cat 0xb3f9e4da0e514d7585092b51f77074e5/stdout
[36;1m (exit code 0, expected 0)[0m

hello

>> cl run --request-docker-image python:3.6.10-slim-buster --request-disk 1m --request-memory 10m echo hello2
[36;1m (exit code 0, expected 0)[0m

0xe7c464643bf74ede8862d15e560ff21d

>> cl wait 0xe7c464643bf74ede8862d15e560ff21d
[36;1m (exit code 0, expected 0)[0m

0xe7c464643bf74ede8862d15e560ff21d

>> cl cat 0xe7c464643bf74ede8862d15e560ff21d/stdout
[36;1m (exit code 0, expected 0)[0m

hello2

>> cl run --request-docker-image python:3.6.10-slim-buster --request-disk 1m --request-memory 10m echo hello --memoize
[36;1m (exit code 0, expected 0)[0m

0xb3f9e4da0e514d7585092b51f77074e5

>> cl run --request-docker-image python:3.6.10-slim-buster --request-disk 1m --request-memory 10m :0xb3f9e4da0e514d7585092b51f77074e5 echo hello
[36;1m (exit code 0, expected 0)[0m

0xc793c5d28f9e4e3da7e53f88fadc961e

>> cl wait 0xc793c5d28f9e4e3da7e53f88fadc961e
[36;1m (exit code 0, expected 0)[0m

0xc793c5d28f9e4e3da7e53f88fadc961e

>> cl cat 0xc793c5d28f9e4e3da7e53f88fadc961e/stdout
[36;1m (exit code 0, expected 0)[0m

hello

>> cl run --request-docker-image python:3.6.10-slim-buster --request-disk 1m --request-memory 10m :0xb3f9e4da0e514d7585092b51f77074e5 echo hello --memoize
[36;1m (exit code 0, expected 0)[0m

0xc793c5d28f9e4e3da7e53f88fadc961e

>> cl run --request-docker-image python:3.6.10-slim-buster --request-disk 1m --request-memory 10m :0xb3f9e4da0e514d7585092b51f77074e5 :0xe7c464643bf74ede8862d15e560ff21d echo multi_deps
[36;1m (exit code 0, expected 0)[0m

0xc438ac0840cf4ecab79416a8795a0815

>> cl wait 0xc438ac0840cf4ecab79416a8795a0815
[36;1m (exit code 0, expected 0)[0m

0xc438ac0840cf4ecab79416a8795a0815

>> cl cat 0xc438ac0840cf4ecab79416a8795a0815/stdout
[36;1m (exit code 0, expected 0)[0m

multi_deps

>> cl run --request-docker-image python:3.6.10-slim-buster --request-disk 1m --request-memory 10m :0xb3f9e4da0e514d7585092b51f77074e5 :0xe7c464643bf74ede8862d15e560ff21d echo multi_deps --memoize
[36;1m (exit code 0, expected 0)[0m

0xc438ac0840cf4ecab79416a8795a0815

>> cl run --request-docker-image python:3.6.10-slim-buster --request-disk 1m --request-memory 10m foo:0xb3f9e4da0e514d7585092b51f77074e5 foo1:0xb3f9e4da0e514d7585092b51f77074e5 echo hello
[36;1m (exit code 0, expected 0)[0m

0x30f2075dfc58495eaa2c9e62f4c91fca

>> cl wait 0x30f2075dfc58495eaa2c9e62f4c91fca
[36;1m (exit code 0, expected 0)[0m

0x30f2075dfc58495eaa2c9e62f4c91fca

>> cl cat 0x30f2075dfc58495eaa2c9e62f4c91fca/stdout
[36;1m (exit code 0, expected 0)[0m

hello

>> cl run --request-docker-image python:3.6.10-slim-buster --request-disk 1m --request-memory 10m foo:0xb3f9e4da0e514d7585092b51f77074e5 foo1:0xb3f9e4da0e514d7585092b51f77074e5 echo hello --memoize
[36;1m (exit code 0, expected 0)[0m

0x30f2075dfc58495eaa2c9e62f4c91fca

>> cl run --request-docker-image python:3.6.10-slim-buster --request-disk 1m --request-memory 10m :0xb3f9e4da0e514d7585092b51f77074e5 :0xb3f9e4da0e514d7585092b51f77074e5 echo hello --memoize
[36;1m (exit code 0, expected 0)[0m

0xc793c5d28f9e4e3da7e53f88fadc961e

>> cl run --request-docker-image python:3.6.10-slim-buster --request-disk 1m --request-memory 10m a:0xb3f9e4da0e514d7585092b51f77074e5 b:0xe7c464643bf74ede8862d15e560ff21d echo a_b
[36;1m (exit code 0, expected 0)[0m

0x4220c46cb2b640b8b565c8971531ea36

>> cl wait 0x4220c46cb2b640b8b565c8971531ea36
[36;1m (exit code 0, expected 0)[0m

0x4220c46cb2b640b8b565c8971531ea36

>> cl cat 0x4220c46cb2b640b8b565c8971531ea36/stdout
[36;1m (exit code 0, expected 0)[0m

a_b

>> cl run --request-docker-image python:3.6.10-slim-buster --request-disk 1m --request-memory 10m a:0xb3f9e4da0e514d7585092b51f77074e5 b:0xe7c464643bf74ede8862d15e560ff21d echo a_bb
[36;1m (exit code 0, expected 0)[0m

0x028c1da1a8164560a0082fdd9bf22867

>> cl wait 0x028c1da1a8164560a0082fdd9bf22867
[36;1m (exit code 0, expected 0)[0m

0x028c1da1a8164560a0082fdd9bf22867

>> cl cat 0x028c1da1a8164560a0082fdd9bf22867/stdout
[36;1m (exit code 0, expected 0)[0m

a_bb

>> cl run --request-docker-image python:3.6.10-slim-buster --request-disk 1m --request-memory 10m b:0xb3f9e4da0e514d7585092b51f77074e5 a:0xe7c464643bf74ede8862d15e560ff21d echo b_a
[36;1m (exit code 0, expected 0)[0m

0xd3ecdfa1c0ae4047b585e49dcb153fa4

>> cl wait 0xd3ecdfa1c0ae4047b585e49dcb153fa4
[36;1m (exit code 0, expected 0)[0m

0xd3ecdfa1c0ae4047b585e49dcb153fa4

>> cl cat 0xd3ecdfa1c0ae4047b585e49dcb153fa4/stdout
[36;1m (exit code 0, expected 0)[0m

b_a

>> cl run --request-docker-image python:3.6.10-slim-buster --request-disk 1m --request-memory 10m a:0xb3f9e4da0e514d7585092b51f77074e5 b:0xe7c464643bf74ede8862d15e560ff21d c:0xc793c5d28f9e4e3da7e53f88fadc961e echo a_b_c
[36;1m (exit code 0, expected 0)[0m

0xd9c573ede61f43c78d8bc082a161f06c

>> cl wait 0xd9c573ede61f43c78d8bc082a161f06c
[36;1m (exit code 0, expected 0)[0m

0xd9c573ede61f43c78d8bc082a161f06c

>> cl cat 0xd9c573ede61f43c78d8bc082a161f06c/stdout
[36;1m (exit code 0, expected 0)[0m

a_b_c

>> cl run --request-docker-image python:3.6.10-slim-buster --request-disk 1m --request-memory 10m a:0xb3f9e4da0e514d7585092b51f77074e5 b:0xe7c464643bf74ede8862d15e560ff21d echo a_b --memoize
[36;1m (exit code 0, expected 0)[0m

0x4220c46cb2b640b8b565c8971531ea36

>> cl run --request-docker-image python:3.6.10-slim-buster --request-disk 1m --request-memory 10m a:0xb3f9e4da0e514d7585092b51f77074e5 b:0xe7c464643bf74ede8862d15e560ff21d echo a_bb --memoize
[36;1m (exit code 0, expected 0)[0m

0x028c1da1a8164560a0082fdd9bf22867

>> cl run --request-docker-image python:3.6.10-slim-buster --request-disk 1m --request-memory 10m b:0xb3f9e4da0e514d7585092b51f77074e5 a:0xe7c464643bf74ede8862d15e560ff21d echo b_a --memoize
[36;1m (exit code 0, expected 0)[0m

0xd3ecdfa1c0ae4047b585e49dcb153fa4

>> cl run --request-docker-image python:3.6.10-slim-buster --request-disk 1m --request-memory 10m a:0xb3f9e4da0e514d7585092b51f77074e5 b:0xe7c464643bf74ede8862d15e560ff21d c:0xc793c5d28f9e4e3da7e53f88fadc961e echo a_b_c --memoize
[36;1m (exit code 0, expected 0)[0m

0xd9c573ede61f43c78d8bc082a161f06c

>> cl run --request-docker-image python:3.6.10-slim-buster --request-disk 1m --request-memory 10m b:0xb3f9e4da0e514d7585092b51f77074e5 a:0xe7c464643bf74ede8862d15e560ff21d d:0xc793c5d28f9e4e3da7e53f88fadc961e echo a_b_d --memoize
[36;1m (exit code 0, expected 0)[0m

0xd78a91d858c74aa8933cfc5719d06f0c

>> cl run --request-docker-image python:3.6.10-slim-buster --request-disk 1m --request-memory 10m a:0xe7c464643bf74ede8862d15e560ff21d b:0xb3f9e4da0e514d7585092b51f77074e5 echo b_a --memoize
[36;1m (exit code 0, expected 0)[0m

0xd3ecdfa1c0ae4047b585e49dcb153fa4

[32;1m[*] TEST PASSED[0m

[*][*] CLEANING UP
>> cl logout
[36;1m (exit code 0, expected 0)[0m


>> cl uinfo
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 16m48s / 100y0d (0.0%)
disk           : 3.5k / 100.0g (0.0%)
parallel_run_quota: 100

>> cl work 0x23706f2903f24b8f8a643ebe09fd41c9
[36;1m (exit code 0, expected 0)[0m

Switched to worksheet: http://rest-server:2900/worksheets/0x23706f2903f24b8f8a643ebe09fd41c9 (temp-test-cli-538231)

>> cl ls -w 0xb1fc94cadbec4d15904f9c2ef30dc64c -u
[36;1m (exit code 0, expected 0)[0m

0xb3f9e4da0e514d7585092b51f77074e5
0xe7c464643bf74ede8862d15e560ff21d
0xb3f9e4da0e514d7585092b51f77074e5
0xc793c5d28f9e4e3da7e53f88fadc961e
0xc793c5d28f9e4e3da7e53f88fadc961e
0xc438ac0840cf4ecab79416a8795a0815
0xc438ac0840cf4ecab79416a8795a0815
0x30f2075dfc58495eaa2c9e62f4c91fca
0x30f2075dfc58495eaa2c9e62f4c91fca
0xc793c5d28f9e4e3da7e53f88fadc961e
0x4220c46cb2b640b8b565c8971531ea36
0x028c1da1a8164560a0082fdd9bf22867
0xd3ecdfa1c0ae4047b585e49dcb153fa4
0xd9c573ede61f43c78d8bc082a161f06c
0x4220c46cb2b640b8b565c8971531ea36
0x028c1da1a8164560a0082fdd9bf22867
0xd3ecdfa1c0ae4047b585e49dcb153fa4
0xd9c573ede61f43c78d8bc082a161f06c
0xd78a91d858c74aa8933cfc5719d06f0c
0xd3ecdfa1c0ae4047b585e49dcb153fa4

>> cl wrm --force 0xb1fc94cadbec4d15904f9c2ef30dc64c
[36;1m (exit code 0, expected 0)[0m


>> cl info -f state 0xc438ac0840cf4ecab79416a8795a0815
[36;1m (exit code 0, expected 0)[0m

ready

>> cl rm --force 0xc438ac0840cf4ecab79416a8795a0815
[36;1m (exit code 0, expected 0)[0m

0xc438ac0840cf4ecab79416a8795a0815

>> cl info -f state 0xd9c573ede61f43c78d8bc082a161f06c
[36;1m (exit code 0, expected 0)[0m

ready

>> cl rm --force 0xd9c573ede61f43c78d8bc082a161f06c
[36;1m (exit code 0, expected 0)[0m

0xd9c573ede61f43c78d8bc082a161f06c

>> cl info -f state 0xd78a91d858c74aa8933cfc5719d06f0c
[36;1m (exit code 0, expected 0)[0m

starting

>> cl kill 0xd78a91d858c74aa8933cfc5719d06f0c
[36;1m (exit code 0, expected 0)[0m

0xd78a91d858c74aa8933cfc5719d06f0c

>> cl wait 0xd78a91d858c74aa8933cfc5719d06f0c
[36;1m (exit code 1, expected 1)[0m


>> cl rm --force 0xd78a91d858c74aa8933cfc5719d06f0c
[36;1m (exit code 0, expected 0)[0m

0xd78a91d858c74aa8933cfc5719d06f0c

>> cl info -f state 0xb3f9e4da0e514d7585092b51f77074e5
[36;1m (exit code 0, expected 0)[0m

ready

>> cl rm --force 0xb3f9e4da0e514d7585092b51f77074e5
[36;1m (exit code 0, expected 0)[0m

0xb3f9e4da0e514d7585092b51f77074e5

>> cl info -f state 0xe7c464643bf74ede8862d15e560ff21d
[36;1m (exit code 0, expected 0)[0m

ready

>> cl rm --force 0xe7c464643bf74ede8862d15e560ff21d
[36;1m (exit code 0, expected 0)[0m

0xe7c464643bf74ede8862d15e560ff21d

>> cl info -f state 0x30f2075dfc58495eaa2c9e62f4c91fca
[36;1m (exit code 0, expected 0)[0m

ready

>> cl rm --force 0x30f2075dfc58495eaa2c9e62f4c91fca
[36;1m (exit code 0, expected 0)[0m

0x30f2075dfc58495eaa2c9e62f4c91fca

>> cl info -f state 0x028c1da1a8164560a0082fdd9bf22867
[36;1m (exit code 0, expected 0)[0m

ready

>> cl rm --force 0x028c1da1a8164560a0082fdd9bf22867
[36;1m (exit code 0, expected 0)[0m

0x028c1da1a8164560a0082fdd9bf22867

>> cl info -f state 0xc793c5d28f9e4e3da7e53f88fadc961e
[36;1m (exit code 0, expected 0)[0m

ready

>> cl rm --force 0xc793c5d28f9e4e3da7e53f88fadc961e
[36;1m (exit code 0, expected 0)[0m

0xc793c5d28f9e4e3da7e53f88fadc961e

>> cl info -f state 0xd3ecdfa1c0ae4047b585e49dcb153fa4
[36;1m (exit code 0, expected 0)[0m

ready

>> cl rm --force 0xd3ecdfa1c0ae4047b585e49dcb153fa4
[36;1m (exit code 0, expected 0)[0m

0xd3ecdfa1c0ae4047b585e49dcb153fa4

>> cl info -f state 0x4220c46cb2b640b8b565c8971531ea36
[36;1m (exit code 0, expected 0)[0m

ready

>> cl rm --force 0x4220c46cb2b640b8b565c8971531ea36
[36;1m (exit code 0, expected 0)[0m

0x4220c46cb2b640b8b565c8971531ea36

>> cl uedit codalab --disk-quota 100.0g
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
is_verified    : True
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 16m48s / 100y0d (0.0%)
disk           : 2.3k / 100.0g (0.0%)
parallel_run_quota: 100

[33;1m[*][*] BEGIN MODULE: edit_user[0m

[*][*] SWITCHING TO TEMPORARY WORKSHEET
>> cl logout
[36;1m (exit code 0, expected 0)[0m


>> cl uinfo
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 16m48s / 100y0d (0.0%)
disk           : 2.3k / 100.0g (0.0%)
parallel_run_quota: 100

>> cl work -u
[36;1m (exit code 0, expected 0)[0m

0x23706f2903f24b8f8a643ebe09fd41c9

>> cl new temp-test-cli-237110
[36;1m (exit code 0, expected 0)[0m

0x139a57dccbc4492aadf9fc867ae7c865

>> cl work 0x139a57dccbc4492aadf9fc867ae7c865
[36;1m (exit code 0, expected 0)[0m

Switched to worksheet: http://rest-server:2900/worksheets/0x139a57dccbc4492aadf9fc867ae7c865 (temp-test-cli-237110)

>> cl uinfo -f disk
[36;1m (exit code 0, expected 0)[0m

2.3k / 100.0g (0.0%)

[*][*] BEGIN TEST
>> cl uinfo -f id
[36;1m (exit code 0, expected 0)[0m

0

>> cl uinfo -f user_name
[36;1m (exit code 0, expected 0)[0m

codalab

>> cl uedit codalab --grant-access --remove-access
[36;1m (exit code 1, expected 1)[0m


>> cl uedit codalab --grant-access
Traceback (most recent call last):
  File "tests/cli/test_cli.py", line 575, in run
    module.func(ctx)
  File "tests/cli/test_cli.py", line 2663, in test_worksheets
    test_worksheet.test_print()
  File "/opt/codalab-worksheets/scripts/create_sample_worksheet.py", line 91, in test_print
    self._wait_for_bundles_to_finish()
  File "/opt/codalab-worksheets/scripts/create_sample_worksheet.py", line 178, in _wait_for_bundles_to_finish
    if self._valid_bundles:
AttributeError: 'SampleWorksheet' object has no attribute '_valid_bundles'
WARNING:retry.api:HTTP Error 400: Bad Request, retrying in 1 seconds...
[36;1m (exit code 1, expected 1)[0m


[32;1m[*] TEST PASSED[0m

[*][*] CLEANING UP
>> cl logout
[36;1m (exit code 0, expected 0)[0m


>> cl uinfo
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 16m48s / 100y0d (0.0%)
disk           : 2.3k / 100.0g (0.0%)
parallel_run_quota: 100

>> cl work 0x23706f2903f24b8f8a643ebe09fd41c9
[36;1m (exit code 0, expected 0)[0m

Switched to worksheet: http://rest-server:2900/worksheets/0x23706f2903f24b8f8a643ebe09fd41c9 (temp-test-cli-538231)

>> cl ls -w 0x139a57dccbc4492aadf9fc867ae7c865 -u
[36;1m (exit code 0, expected 0)[0m


>> cl wrm --force 0x139a57dccbc4492aadf9fc867ae7c865
[36;1m (exit code 0, expected 0)[0m


>> cl uedit codalab --disk-quota 100.0g
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
is_verified    : True
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 16m48s / 100y0d (0.0%)
disk           : 2.3k / 100.0g (0.0%)
parallel_run_quota: 100

[33;1m[*][*] BEGIN MODULE: protected_mode[0m

[*][*] SWITCHING TO TEMPORARY WORKSHEET
>> cl logout
[36;1m (exit code 0, expected 0)[0m


>> cl uinfo
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 16m48s / 100y0d (0.0%)
disk           : 2.3k / 100.0g (0.0%)
parallel_run_quota: 100

>> cl work -u
[36;1m (exit code 0, expected 0)[0m

0x23706f2903f24b8f8a643ebe09fd41c9

>> cl new temp-test-cli-459384
[36;1m (exit code 0, expected 0)[0m

0xa6529c3a63724206a6159bfd8bf13c8e

>> cl work 0xa6529c3a63724206a6159bfd8bf13c8e
[36;1m (exit code 0, expected 0)[0m

Switched to worksheet: http://rest-server:2900/worksheets/0xa6529c3a63724206a6159bfd8bf13c8e (temp-test-cli-459384)

>> cl uinfo -f disk
[36;1m (exit code 0, expected 0)[0m

2.3k / 100.0g (0.0%)

[*][*] BEGIN TEST
>> cl uinfo -f id
[36;1m (exit code 0, expected 0)[0m

0

>> cl uinfo -f user_name
[36;1m (exit code 0, expected 0)[0m

codalab

>> cl new temp-test-cli-477617
[36;1m (exit code 0, expected 0)[0m

0x7cd264f561654220bd1cde74932f40f4

>> cl work 0x7cd264f561654220bd1cde74932f40f4
[36;1m (exit code 0, expected 0)[0m

Switched to worksheet: http://rest-server:2900/worksheets/0x7cd264f561654220bd1cde74932f40f4 (temp-test-cli-477617)

>> cl run --request-docker-image python:3.6.10-slim-buster --request-disk 1m --request-memory 10m should be able to run
[36;1m (exit code 0, expected 0)[0m

0x4d87a42550ea44388491747295b6edd0

>> cl gnew temp-test-cli-240125
[36;1m (exit code 0, expected 0)[0m

Created new group temp-test-cli-240125(0x03027fa89d6d4f4f95d3cae7449b1344).

>> cl uedit codalab --remove-access
WARNING:retry.api:HTTP Error 400: Bad Request, retrying in 1 seconds...
[31;1m (exit code 1, expected 0 BAD)[0m


[31;1m[!] ERROR: Exit codes don't match: got 1, expected 0[0m

[*][*] CLEANING UP
>> cl logout
[36;1m (exit code 0, expected 0)[0m


>> cl uinfo
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 16m48s / 100y0d (0.0%)
disk           : 2.3k / 100.0g (0.0%)
parallel_run_quota: 100

>> cl work 0x23706f2903f24b8f8a643ebe09fd41c9
[36;1m (exit code 0, expected 0)[0m

Switched to worksheet: http://rest-server:2900/worksheets/0x23706f2903f24b8f8a643ebe09fd41c9 (temp-test-cli-538231)

>> cl ls -w 0xa6529c3a63724206a6159bfd8bf13c8e -u
[36;1m (exit code 0, expected 0)[0m


>> cl wrm --force 0xa6529c3a63724206a6159bfd8bf13c8e
[36;1m (exit code 0, expected 0)[0m


>> cl ls -w 0x7cd264f561654220bd1cde74932f40f4 -u
[36;1m (exit code 0, expected 0)[0m

0x4d87a42550ea44388491747295b6edd0

>> cl wrm --force 0x7cd264f561654220bd1cde74932f40f4
[36;1m (exit code 0, expected 0)[0m


>> cl info -f state 0x4d87a42550ea44388491747295b6edd0
[36;1m (exit code 0, expected 0)[0m

preparing

>> cl kill 0x4d87a42550ea44388491747295b6edd0
[36;1m (exit code 0, expected 0)[0m

0x4d87a42550ea44388491747295b6edd0

>> cl wait 0x4d87a42550ea44388491747295b6edd0
[36;1m (exit code 1, expected 1)[0m


>> cl rm --force 0x4d87a42550ea44388491747295b6edd0
[36;1m (exit code 0, expected 0)[0m

0x4d87a42550ea44388491747295b6edd0

>> cl uedit codalab --disk-quota 100.0g
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
is_verified    : True
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 16m48s / 100y0d (0.0%)
disk           : 2.3k / 100.0g (0.0%)
parallel_run_quota: 100

>> cl grm 0x03027fa89d6d4f4f95d3cae7449b1344
[36;1m (exit code 0, expected 0)[0m

Deleted group temp-test-cli-240125(0x03027fa89d6d4f4f95d3cae7449b1344).

[33;1m[*][*] BEGIN MODULE: edit[0m

[*][*] SWITCHING TO TEMPORARY WORKSHEET
>> cl logout
[36;1m (exit code 0, expected 0)[0m


>> cl uinfo
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 16m48s / 100y0d (0.0%)
disk           : 2.3k / 100.0g (0.0%)
parallel_run_quota: 100

>> cl work -u
[36;1m (exit code 0, expected 0)[0m

0x23706f2903f24b8f8a643ebe09fd41c9

>> cl new temp-test-cli-492812
[36;1m (exit code 0, expected 0)[0m

0x59641dad08084eef984ef8a5a0314cbe

>> cl work 0x59641dad08084eef984ef8a5a0314cbe
[36;1m (exit code 0, expected 0)[0m

Switched to worksheet: http://rest-server:2900/worksheets/0x59641dad08084eef984ef8a5a0314cbe (temp-test-cli-492812)

>> cl uinfo -f disk
[36;1m (exit code 0, expected 0)[0m

2.3k / 100.0g (0.0%)

[*][*] BEGIN TEST
>> cl run --request-docker-image python:3.6.10-slim-buster --request-disk 1m --request-memory 10m echo hello
[36;1m (exit code 0, expected 0)[0m

0xa8712bd645b04feaa0fe0336044ce685

>> cl info -f request_memory 0xa8712bd645b04feaa0fe0336044ce685
[36;1m (exit code 0, expected 0)[0m

10m

>> cl edit 0xa8712bd645b04feaa0fe0336044ce685 --field request_memory 12m
[36;1m (exit code 0, expected 0)[0m

Saved metadata for bundle 0xa8712bd645b04feaa0fe0336044ce685.

>> cl info -f request_memory 0xa8712bd645b04feaa0fe0336044ce685
[36;1m (exit code 0, expected 0)[0m

12m

>> cl edit 0xa8712bd645b04feaa0fe0336044ce685 -f invalid_field value
WARNING:retry.api:HTTP Error 400: Bad Request, retrying in 1 seconds...
[36;1m (exit code 1, expected 1)[0m


>> cl edit 0xa8712bd645b04feaa0fe0336044ce685 -f request_memory invalid_value
WARNING:retry.api:HTTP Error 400: Bad Request, retrying in 1 seconds...
[36;1m (exit code 1, expected 1)[0m


[32;1m[*] TEST PASSED[0m

[*][*] CLEANING UP
>> cl logout
[36;1m (exit code 0, expected 0)[0m


>> cl uinfo
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 16m48s / 100y0d (0.0%)
disk           : 2.3k / 100.0g (0.0%)
parallel_run_quota: 100

>> cl work 0x23706f2903f24b8f8a643ebe09fd41c9
[36;1m (exit code 0, expected 0)[0m

Switched to worksheet: http://rest-server:2900/worksheets/0x23706f2903f24b8f8a643ebe09fd41c9 (temp-test-cli-538231)

>> cl ls -w 0x59641dad08084eef984ef8a5a0314cbe -u
[36;1m (exit code 0, expected 0)[0m

0xa8712bd645b04feaa0fe0336044ce685

>> cl wrm --force 0x59641dad08084eef984ef8a5a0314cbe
[36;1m (exit code 0, expected 0)[0m


>> cl info -f state 0xa8712bd645b04feaa0fe0336044ce685
[36;1m (exit code 0, expected 0)[0m

staged

>> cl kill 0xa8712bd645b04feaa0fe0336044ce685
[36;1m (exit code 0, expected 0)[0m

0xa8712bd645b04feaa0fe0336044ce685

>> cl wait 0xa8712bd645b04feaa0fe0336044ce685
[36;1m (exit code 1, expected 1)[0m


>> cl rm --force 0xa8712bd645b04feaa0fe0336044ce685
[36;1m (exit code 0, expected 0)[0m

0xa8712bd645b04feaa0fe0336044ce685

>> cl uedit codalab --disk-quota 100.0g
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
is_verified    : True
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 16m48s / 100y0d (0.0%)
disk           : 2.3k / 100.0g (0.0%)
parallel_run_quota: 100

[33;1m[*][*] BEGIN MODULE: work[0m

[*][*] SWITCHING TO TEMPORARY WORKSHEET
>> cl logout
[36;1m (exit code 0, expected 0)[0m


>> cl uinfo
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 16m48s / 100y0d (0.0%)
disk           : 2.3k / 100.0g (0.0%)
parallel_run_quota: 100

>> cl work -u
[36;1m (exit code 0, expected 0)[0m

0x23706f2903f24b8f8a643ebe09fd41c9

>> cl new temp-test-cli-193240
[36;1m (exit code 0, expected 0)[0m

0x33c17e24a7754cb6be05aaa846d43cd6

>> cl work 0x33c17e24a7754cb6be05aaa846d43cd6
[36;1m (exit code 0, expected 0)[0m

Switched to worksheet: http://rest-server:2900/worksheets/0x33c17e24a7754cb6be05aaa846d43cd6 (temp-test-cli-193240)

>> cl uinfo -f disk
[36;1m (exit code 0, expected 0)[0m

2.3k / 100.0g (0.0%)

[*][*] BEGIN TEST
>> cl work nonexistent::
[36;1m (exit code 1, expected 1)[0m


[32;1m[*] TEST PASSED[0m

[*][*] CLEANING UP
>> cl logout
[36;1m (exit code 0, expected 0)[0m


>> cl uinfo
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 16m48s / 100y0d (0.0%)
disk           : 2.3k / 100.0g (0.0%)
parallel_run_quota: 100

>> cl work 0x23706f2903f24b8f8a643ebe09fd41c9
[36;1m (exit code 0, expected 0)[0m

Switched to worksheet: http://rest-server:2900/worksheets/0x23706f2903f24b8f8a643ebe09fd41c9 (temp-test-cli-538231)

>> cl ls -w 0x33c17e24a7754cb6be05aaa846d43cd6 -u
[36;1m (exit code 0, expected 0)[0m


>> cl wrm --force 0x33c17e24a7754cb6be05aaa846d43cd6
[36;1m (exit code 0, expected 0)[0m


>> cl uedit codalab --disk-quota 100.0g
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
is_verified    : True
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 16m48s / 100y0d (0.0%)
disk           : 2.3k / 100.0g (0.0%)
parallel_run_quota: 100

[33;1m[*][*] BEGIN MODULE: worker_manager[0m

[*][*] SWITCHING TO TEMPORARY WORKSHEET
>> cl logout
[36;1m (exit code 0, expected 0)[0m


>> cl uinfo
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 16m48s / 100y0d (0.0%)
disk           : 2.3k / 100.0g (0.0%)
parallel_run_quota: 100

>> cl work -u
[36;1m (exit code 0, expected 0)[0m

0x23706f2903f24b8f8a643ebe09fd41c9

>> cl new temp-test-cli-346181
[36;1m (exit code 0, expected 0)[0m

0xd88f765ffdd94b8c912943a0c8fafd32

>> cl work 0xd88f765ffdd94b8c912943a0c8fafd32
[36;1m (exit code 0, expected 0)[0m

Switched to worksheet: http://rest-server:2900/worksheets/0xd88f765ffdd94b8c912943a0c8fafd32 (temp-test-cli-346181)

>> cl uinfo -f disk
[36;1m (exit code 0, expected 0)[0m

2.3k / 100.0g (0.0%)

[*][*] BEGIN TEST
>> cl logout
[36;1m (exit code 0, expected 0)[0m


>> cl-worker-manager --server=https://worksheets.codalab.org/ slurm-batch --partition foo
/usr/local/lib/python3.6/dist-packages/azure/storage/blob/_shared/encryption.py:15: CryptographyDeprecationWarning: Python 3.6 is no longer supported by the Python core team. Therefore, support for it is deprecated in cryptography and will be removed in a future release.
  from cryptography.hazmat.backends import default_backend
2022-04-30 02:06:50,167 Started worker manager.
2022-04-30 02:06:50,175 Caught an exception when executing command squeue -u some_user -p foo --format %A,%j --noheader: [Errno 2] No such file or directory: 'squeue'
2022-04-30 02:06:50,846 HTTP Error 404: Not Found, retrying in 1 seconds...
[36;1m (exit code 0, expected 0)[0m

Invalid username or password. Please try again:

[32;1m[*] TEST PASSED[0m

[*][*] CLEANING UP
>> cl logout
[36;1m (exit code 0, expected 0)[0m


>> cl uinfo
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 16m48s / 100y0d (0.0%)
disk           : 2.3k / 100.0g (0.0%)
parallel_run_quota: 100

>> cl work 0x23706f2903f24b8f8a643ebe09fd41c9
[36;1m (exit code 0, expected 0)[0m

Switched to worksheet: http://rest-server:2900/worksheets/0x23706f2903f24b8f8a643ebe09fd41c9 (temp-test-cli-538231)

>> cl ls -w 0xd88f765ffdd94b8c912943a0c8fafd32 -u
[36;1m (exit code 0, expected 0)[0m


>> cl wrm --force 0xd88f765ffdd94b8c912943a0c8fafd32
[36;1m (exit code 0, expected 0)[0m


>> cl uedit codalab --disk-quota 100.0g
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
is_verified    : True
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 16m48s / 100y0d (0.0%)
disk           : 2.3k / 100.0g (0.0%)
parallel_run_quota: 100

[33;1m[*][*] BEGIN MODULE: open[0m

[*][*] SWITCHING TO TEMPORARY WORKSHEET
>> cl logout
[36;1m (exit code 0, expected 0)[0m


>> cl uinfo
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 16m48s / 100y0d (0.0%)
disk           : 2.3k / 100.0g (0.0%)
parallel_run_quota: 100

>> cl work -u
[36;1m (exit code 0, expected 0)[0m

0x23706f2903f24b8f8a643ebe09fd41c9

>> cl new temp-test-cli-17665
[36;1m (exit code 0, expected 0)[0m

0x4f128e8574df49e49964d83907571f37

>> cl work 0x4f128e8574df49e49964d83907571f37
[36;1m (exit code 0, expected 0)[0m

Switched to worksheet: http://rest-server:2900/worksheets/0x4f128e8574df49e49964d83907571f37 (temp-test-cli-17665)

>> cl uinfo -f disk
[36;1m (exit code 0, expected 0)[0m

2.3k / 100.0g (0.0%)

[*][*] BEGIN TEST
>> cl run --request-docker-image python:3.6.10-slim-buster --request-disk 1m --request-memory 10m echo hello
[36;1m (exit code 0, expected 0)[0m

0x90515e0615a647f0804f50d058a31ee6

>> cl open 0x90515e0615a647f0804f50d058a31ee6
[36;1m (exit code 0, expected 0)[0m


>> cl open 0x90515e0615a647f0804f50d058a31ee6 ^1
[36;1m (exit code 0, expected 0)[0m


>> cl open nonexistent
WARNING:retry.api:HTTP Error 404: Not Found, retrying in 1 seconds...
[36;1m (exit code 1, expected 1)[0m


[32;1m[*] TEST PASSED[0m

[*][*] CLEANING UP
>> cl logout
[36;1m (exit code 0, expected 0)[0m


>> cl uinfo
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 16m48s / 100y0d (0.0%)
disk           : 2.3k / 100.0g (0.0%)
parallel_run_quota: 100

>> cl work 0x23706f2903f24b8f8a643ebe09fd41c9
[36;1m (exit code 0, expected 0)[0m

Switched to worksheet: http://rest-server:2900/worksheets/0x23706f2903f24b8f8a643ebe09fd41c9 (temp-test-cli-538231)

>> cl ls -w 0x4f128e8574df49e49964d83907571f37 -u
[36;1m (exit code 0, expected 0)[0m

0x90515e0615a647f0804f50d058a31ee6

>> cl wrm --force 0x4f128e8574df49e49964d83907571f37
[36;1m (exit code 0, expected 0)[0m


>> cl info -f state 0x90515e0615a647f0804f50d058a31ee6
[36;1m (exit code 0, expected 0)[0m

preparing

>> cl kill 0x90515e0615a647f0804f50d058a31ee6
[36;1m (exit code 0, expected 0)[0m

0x90515e0615a647f0804f50d058a31ee6

>> cl wait 0x90515e0615a647f0804f50d058a31ee6
[36;1m (exit code 1, expected 1)[0m


>> cl rm --force 0x90515e0615a647f0804f50d058a31ee6
[36;1m (exit code 0, expected 0)[0m

0x90515e0615a647f0804f50d058a31ee6

>> cl uedit codalab --disk-quota 100.0g
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
is_verified    : True
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 16m48s / 100y0d (0.0%)
disk           : 2.3k / 100.0g (0.0%)
parallel_run_quota: 100

[33;1m[*][*] BEGIN MODULE: wopen[0m

[*][*] SWITCHING TO TEMPORARY WORKSHEET
>> cl logout
[36;1m (exit code 0, expected 0)[0m


>> cl uinfo
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 16m48s / 100y0d (0.0%)
disk           : 2.3k / 100.0g (0.0%)
parallel_run_quota: 100

>> cl work -u
[36;1m (exit code 0, expected 0)[0m

0x23706f2903f24b8f8a643ebe09fd41c9

>> cl new temp-test-cli-309261
[36;1m (exit code 0, expected 0)[0m

0xfd83e577b5c047a28730e2c50efaecd7

>> cl work 0xfd83e577b5c047a28730e2c50efaecd7
[36;1m (exit code 0, expected 0)[0m

Switched to worksheet: http://rest-server:2900/worksheets/0xfd83e577b5c047a28730e2c50efaecd7 (temp-test-cli-309261)

>> cl uinfo -f disk
[36;1m (exit code 0, expected 0)[0m

2.3k / 100.0g (0.0%)

[*][*] BEGIN TEST
>> cl wopen
[36;1m (exit code 0, expected 0)[0m


>> cl new temp-test-cli-459554
[36;1m (exit code 0, expected 0)[0m

0x0972d6cf37c043329396e6e66d2196b8

>> cl wopen 0x0972d6cf37c043329396e6e66d2196b8
[36;1m (exit code 0, expected 0)[0m


>> cl wopen nonexistent
WARNING:retry.api:HTTP Error 404: Not Found, retrying in 1 seconds...
[36;1m (exit code 1, expected 1)[0m


[32;1m[*] TEST PASSED[0m

[*][*] CLEANING UP
>> cl logout
[36;1m (exit code 0, expected 0)[0m


>> cl uinfo
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 16m48s / 100y0d (0.0%)
disk           : 2.3k / 100.0g (0.0%)
parallel_run_quota: 100

>> cl work 0x23706f2903f24b8f8a643ebe09fd41c9
[36;1m (exit code 0, expected 0)[0m

Switched to worksheet: http://rest-server:2900/worksheets/0x23706f2903f24b8f8a643ebe09fd41c9 (temp-test-cli-538231)

>> cl ls -w 0xfd83e577b5c047a28730e2c50efaecd7 -u
[36;1m (exit code 0, expected 0)[0m


>> cl wrm --force 0xfd83e577b5c047a28730e2c50efaecd7
[36;1m (exit code 0, expected 0)[0m


>> cl ls -w 0x0972d6cf37c043329396e6e66d2196b8 -u
[36;1m (exit code 0, expected 0)[0m


>> cl wrm --force 0x0972d6cf37c043329396e6e66d2196b8
[36;1m (exit code 0, expected 0)[0m


>> cl uedit codalab --disk-quota 100.0g
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
is_verified    : True
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 16m48s / 100y0d (0.0%)
disk           : 2.3k / 100.0g (0.0%)
parallel_run_quota: 100

[33;1m[*][*] BEGIN MODULE: service[0m

[*][*] SWITCHING TO TEMPORARY WORKSHEET
>> cl logout
[36;1m (exit code 0, expected 0)[0m


>> cl uinfo
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 16m48s / 100y0d (0.0%)
disk           : 2.3k / 100.0g (0.0%)
parallel_run_quota: 100

>> cl work -u
[36;1m (exit code 0, expected 0)[0m

0x23706f2903f24b8f8a643ebe09fd41c9

>> cl new temp-test-cli-93858
[36;1m (exit code 0, expected 0)[0m

0x2a19e43cf3e64ba898a23d6408764dc2

>> cl work 0x2a19e43cf3e64ba898a23d6408764dc2
[36;1m (exit code 0, expected 0)[0m

Switched to worksheet: http://rest-server:2900/worksheets/0x2a19e43cf3e64ba898a23d6408764dc2 (temp-test-cli-93858)

>> cl uinfo -f disk
[36;1m (exit code 0, expected 0)[0m

2.3k / 100.0g (0.0%)

[*][*] BEGIN TEST
>> codalab-service --help --version master
[36;1m (exit code 0, expected 0)[0m

usage: codalab-service [-h] {start,logs,pull,build,run,stop,delete} ...

Manages your local CodaLab Worksheets service deployment

optional arguments:
  -h, --help            show this help message and exit

subcommands:
  Command to run

  {start,logs,pull,build,run,stop,delete}
    start               Start a CodaLab service instance
    logs                View logs for existing CodaLab instance
    pull                Pull images from Docker Hub
    build               Build CodaLab docker images using the local codebase
    run                 Run a command inside a service container
    stop                Stop any existing CodaLab service instances
    delete              Bring down any existing CodaLab service instances (and
                        delete all non-external data!)

[32;1m[*] TEST PASSED[0m

[*][*] CLEANING UP
>> cl logout
[36;1m (exit code 0, expected 0)[0m


>> cl uinfo
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 16m48s / 100y0d (0.0%)
disk           : 2.3k / 100.0g (0.0%)
parallel_run_quota: 100

>> cl work 0x23706f2903f24b8f8a643ebe09fd41c9
[36;1m (exit code 0, expected 0)[0m

Switched to worksheet: http://rest-server:2900/worksheets/0x23706f2903f24b8f8a643ebe09fd41c9 (temp-test-cli-538231)

>> cl ls -w 0x2a19e43cf3e64ba898a23d6408764dc2 -u
[36;1m (exit code 0, expected 0)[0m


>> cl wrm --force 0x2a19e43cf3e64ba898a23d6408764dc2
[36;1m (exit code 0, expected 0)[0m


>> cl uedit codalab --disk-quota 100.0g
[36;1m (exit code 0, expected 0)[0m

id             : 0
user_name      : codalab
is_verified    : True
has_access     : True
first_name     : 
last_name      : 
affiliation    : 
url            : None
date_joined    : Fri Apr 29 19:47:40 2022
last_login     : None
email          : 
time           : 16m48s / 100y0d (0.0%)
disk           : 2.3k / 100.0g (0.0%)
parallel_run_quota: 100

[33;1m[*][*][*] SUMMARY[0m

[31;1m[!][!] Tests failed: blob, uls, time, link, worksheets, protected_mode[0m

(cd /Users/wangjiani/wjn/Code/codalab/codalab-worksheets/docker_config/compose_files; CODALAB_VERSION=gcs_bypass_download CODALAB_INSTANCE_NAME=temp-instance88546869 CODALAB_WORKER_NETWORK_PREFIX=temp-instance88546869-worker-network CODALAB_USERNAME=codalab CODALAB_PASSWORD=codalab CODALAB_MYSQL_HOST=mysql CODALAB_MYSQL_PORT=3306 CODALAB_MYSQL_DATABASE=codalab_bundles CODALAB_MYSQL_USERNAME=codalab CODALAB_MYSQL_PASSWORD=codalab CODALAB_MYSQL_ROOT_PASSWORD=codalab CODALAB_UID=501:20 CODALAB_HOME=/Users/wangjiani/wjn/Code/codalab/codalab-worksheets/var/temp-instance88546869/home CODALAB_BUNDLE_MOUNT=/Users/wangjiani/wjn/Code/codalab/codalab-worksheets/var/temp-instance88546869/ CODALAB_MYSQL_MOUNT=/Users/wangjiani/wjn/Code/codalab/codalab-worksheets/var/temp-instance88546869/mysql CODALAB_MONITOR_DIR=/Users/wangjiani/wjn/Code/codalab/codalab-worksheets/var/temp-instance88546869/monitor CODALAB_WORKER_DIR=/Users/wangjiani/wjn/Code/codalab/codalab-worksheets/var/temp-instance88546869/worker CODALAB_HTTP_PORT=80 CODALAB_HTTPS_PORT=443 CODALAB_FRONTEND_PORT=2700 CODALAB_REST_PORT=2900 CODALAB_REST_NUM_PROCESSES=1 CODALAB_USER_DISK_QUOTA=100g CODALAB_USER_TIME_QUOTA=100y CODALAB_USER_PARALLEL_RUN_QUOTA=100 CODALAB_BUNDLE_MANAGER_WORKER_TIMEOUT_SECONDS=60 CODALAB_WORKER_MANAGER_TYPE=azure-batch CODALAB_WORKER_MANAGER_WORKER_DOWNLOAD_DEPENDENCIES_MAX_RETRIES=3 CODALAB_WORKER_MANAGER_WORKER_WORK_DIR_PREFIX=/tmp CODALAB_WORKER_MANAGER_WORKER_MAX_WORK_DIR_SIZE=10g CODALAB_WORKER_MANAGER_WORKER_CHECKIN_FREQUENCY_SECONDS=5 CODALAB_WORKER_MANAGER_IDLE_SECONDS=600 CODALAB_WORKER_MANAGER_SLEEP_TIME_SECONDS=5 CODALAB_WORKER_MANAGER_AWS_REGION=us-east-1 CODALAB_WORKER_MANAGER_AWS_BATCH_JOB_DEFINITION_NAME=codalab-worker COMPOSE_HTTP_TIMEOUT=600 DOCKER_CLIENT_TIMEOUT=600 CODALAB_LINK_MOUNTS=/tmp/codalab/link-mounts CODALAB_GOOGLE_APPLICATION_CREDENTIALS=/Users/wangjiani/wjn/Code/codalab/codalab-worksheets/hai-gcp-models-d6f4b77041d0.json CODALAB_RECAPTCHA_SITE_KEY=6LeIxAcTAAAAAJcZVRqyHh71UMIEGNQ_MXjiZKhI CODALAB_RECAPTCHA_SECRET_KEY=6LeIxAcTAAAAAGG-vFI1TnRWxMZNFuojJ4WifJWe CODALAB_WORKER_MANAGER_CPU_DEFAULT_CPUS=1 CODALAB_WORKER_MANAGER_CPU_DEFAULT_MEMORY_MB=2048 CODALAB_WORKER_MANAGER_CPU_TAG=codalab-cpu CODALAB_WORKER_MANAGER_MAX_CPU_WORKERS=10 CODALAB_WORKER_MANAGER_MIN_CPU_WORKERS=1 CODALAB_WORKER_MANAGER_CPU_AZURE_BATCH_JOB_ID=codalab-cpu CODALAB_WORKER_MANAGER_CPU_AWS_BATCH_QUEUE=codalab-cpu CODALAB_WORKER_MANAGER_CPU_WORKER_SHARED_MEMORY_SIZE_GB=1 CODALAB_WORKER_MANAGER_CPU_SECONDS_BETWEEN_WORKERS=60 CODALAB_WORKER_MANAGER_GPU_DEFAULT_CPUS=1 CODALAB_WORKER_MANAGER_GPU_DEFAULT_MEMORY_MB=2048 CODALAB_WORKER_MANAGER_GPU_TAG=codalab-gpu CODALAB_WORKER_MANAGER_MAX_GPU_WORKERS=10 CODALAB_WORKER_MANAGER_MIN_GPU_WORKERS=1 CODALAB_WORKER_MANAGER_GPU_AZURE_BATCH_JOB_ID=codalab-gpu CODALAB_WORKER_MANAGER_GPU_AWS_BATCH_QUEUE=codalab-gpu CODALAB_WORKER_MANAGER_GPU_WORKER_SHARED_MEMORY_SIZE_GB=1 CODALAB_WORKER_MANAGER_GPU_SECONDS_BETWEEN_WORKERS=60 PATH=/Users/wangjiani/wjn/Code/codalab/codalab-worksheets/venv/bin:/Users/wangjiani/wjn/Softwares/google-cloud-sdk/bin:/Users/wangjiani/.pyenv/shims:/Users/wangjiani/.pyenv/bin:/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/bin HOSTNAME=DN51t5ab.SUNet docker-compose -p temp-instance88546869 --project-directory /Users/wangjiani/wjn/Code/codalab/codalab-worksheets/docker_config/compose_files -f /Users/wangjiani/wjn/Code/codalab/codalab-worksheets/var/temp-instance88546869/home/docker-compose-custom.yml stop)
process: Stopping temp-instance88546869_rest-server_1 ... 
process: Stopping temp-instance88546869_rest-server_1 ... done

Creating another CodaLab instance temp-instance88546869 at http://rest-server:51154 for testing...
It took 58.79879689216614 seconds to create the temp instance.
Running backend tests with command: python3 tests/cli/test_cli.py --instance http://rest-server:2900 --second-instance http://rest-server:51154 default
Exception while executing tests: None
Shutting down the temp instance temp-instance88546869...
